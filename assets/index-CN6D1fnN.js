(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function SE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var bd={exports:{}},gl={};var N_;function TS(){if(N_)return gl;N_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return gl.Fragment=t,gl.jsx=i,gl.jsxs=i,gl}var O_;function AS(){return O_||(O_=1,bd.exports=TS()),bd.exports}var tt=AS(),wd={exports:{}},Et={};var V_;function SS(){if(V_)return Et;V_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),D=Symbol.iterator;function H(N){return N===null||typeof N!="object"?null:(N=D&&N[D]||N["@@iterator"],typeof N=="function"?N:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,J={};function ft(N,Q,nt){this.props=N,this.context=Q,this.refs=J,this.updater=nt||Z}ft.prototype.isReactComponent={},ft.prototype.setState=function(N,Q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Q,"setState")},ft.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function gt(){}gt.prototype=ft.prototype;function _t(N,Q,nt){this.props=N,this.context=Q,this.refs=J,this.updater=nt||Z}var jt=_t.prototype=new gt;jt.constructor=_t,et(jt,ft.prototype),jt.isPureReactComponent=!0;var ee=Array.isArray;function Lt(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(N,Q,nt){var st=nt.ref;return{$$typeof:r,type:N,key:Q,ref:st!==void 0?st:null,props:nt}}function M(N,Q){return I(N.type,Q,N.props)}function O(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function U(N){var Q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(nt){return Q[nt]})}var S=/\/+/g;function At(N,Q){return typeof N=="object"&&N!==null&&N.key!=null?U(""+N.key):Q.toString(36)}function Yt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Lt,Lt):(N.status="pending",N.then(function(Q){N.status==="pending"&&(N.status="fulfilled",N.value=Q)},function(Q){N.status==="pending"&&(N.status="rejected",N.reason=Q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function q(N,Q,nt,st,yt){var wt=typeof N;(wt==="undefined"||wt==="boolean")&&(N=null);var kt=!1;if(N===null)kt=!0;else switch(wt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(N.$$typeof){case r:case t:kt=!0;break;case T:return kt=N._init,q(kt(N._payload),Q,nt,st,yt)}}if(kt)return yt=yt(N),kt=st===""?"."+At(N,0):st,ee(yt)?(nt="",kt!=null&&(nt=kt.replace(S,"$&/")+"/"),q(yt,Q,nt,"",function(ts){return ts})):yt!=null&&(O(yt)&&(yt=M(yt,nt+(yt.key==null||N&&N.key===yt.key?"":(""+yt.key).replace(S,"$&/")+"/")+kt)),Q.push(yt)),1;kt=0;var De=st===""?".":st+":";if(ee(N))for(var se=0;se<N.length;se++)st=N[se],wt=De+At(st,se),kt+=q(st,Q,nt,wt,yt);else if(se=H(N),typeof se=="function")for(N=se.call(N),se=0;!(st=N.next()).done;)st=st.value,wt=De+At(st,se++),kt+=q(st,Q,nt,wt,yt);else if(wt==="object"){if(typeof N.then=="function")return q(Yt(N),Q,nt,st,yt);throw Q=String(N),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return kt}function $(N,Q,nt){if(N==null)return N;var st=[],yt=0;return q(N,st,"","",function(wt){return Q.call(nt,wt,yt++)}),st}function ot(N){if(N._status===-1){var Q=N._result;Q=Q(),Q.then(function(nt){(N._status===0||N._status===-1)&&(N._status=1,N._result=nt)},function(nt){(N._status===0||N._status===-1)&&(N._status=2,N._result=nt)}),N._status===-1&&(N._status=0,N._result=Q)}if(N._status===1)return N._result.default;throw N._result}var Dt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},lt={map:$,forEach:function(N,Q,nt){$(N,function(){Q.apply(this,arguments)},nt)},count:function(N){var Q=0;return $(N,function(){Q++}),Q},toArray:function(N){return $(N,function(Q){return Q})||[]},only:function(N){if(!O(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Et.Activity=b,Et.Children=lt,Et.Component=ft,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=_t,Et.StrictMode=a,Et.Suspense=_,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Et.__COMPILER_RUNTIME={__proto__:null,c:function(N){return C.H.useMemoCache(N)}},Et.cache=function(N){return function(){return N.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(N,Q,nt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var st=et({},N.props),yt=N.key;if(Q!=null)for(wt in Q.key!==void 0&&(yt=""+Q.key),Q)!w.call(Q,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Q.ref===void 0||(st[wt]=Q[wt]);var wt=arguments.length-2;if(wt===1)st.children=nt;else if(1<wt){for(var kt=Array(wt),De=0;De<wt;De++)kt[De]=arguments[De+2];st.children=kt}return I(N.type,yt,st)},Et.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},Et.createElement=function(N,Q,nt){var st,yt={},wt=null;if(Q!=null)for(st in Q.key!==void 0&&(wt=""+Q.key),Q)w.call(Q,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=Q[st]);var kt=arguments.length-2;if(kt===1)yt.children=nt;else if(1<kt){for(var De=Array(kt),se=0;se<kt;se++)De[se]=arguments[se+2];yt.children=De}if(N&&N.defaultProps)for(st in kt=N.defaultProps,kt)yt[st]===void 0&&(yt[st]=kt[st]);return I(N,wt,yt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(N){return{$$typeof:p,render:N}},Et.isValidElement=O,Et.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:ot}},Et.memo=function(N,Q){return{$$typeof:y,type:N,compare:Q===void 0?null:Q}},Et.startTransition=function(N){var Q=C.T,nt={};C.T=nt;try{var st=N(),yt=C.S;yt!==null&&yt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Lt,Dt)}catch(wt){Dt(wt)}finally{Q!==null&&nt.types!==null&&(Q.types=nt.types),C.T=Q}},Et.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Et.use=function(N){return C.H.use(N)},Et.useActionState=function(N,Q,nt){return C.H.useActionState(N,Q,nt)},Et.useCallback=function(N,Q){return C.H.useCallback(N,Q)},Et.useContext=function(N){return C.H.useContext(N)},Et.useDebugValue=function(){},Et.useDeferredValue=function(N,Q){return C.H.useDeferredValue(N,Q)},Et.useEffect=function(N,Q){return C.H.useEffect(N,Q)},Et.useEffectEvent=function(N){return C.H.useEffectEvent(N)},Et.useId=function(){return C.H.useId()},Et.useImperativeHandle=function(N,Q,nt){return C.H.useImperativeHandle(N,Q,nt)},Et.useInsertionEffect=function(N,Q){return C.H.useInsertionEffect(N,Q)},Et.useLayoutEffect=function(N,Q){return C.H.useLayoutEffect(N,Q)},Et.useMemo=function(N,Q){return C.H.useMemo(N,Q)},Et.useOptimistic=function(N,Q){return C.H.useOptimistic(N,Q)},Et.useReducer=function(N,Q,nt){return C.H.useReducer(N,Q,nt)},Et.useRef=function(N){return C.H.useRef(N)},Et.useState=function(N){return C.H.useState(N)},Et.useSyncExternalStore=function(N,Q,nt){return C.H.useSyncExternalStore(N,Q,nt)},Et.useTransition=function(){return C.H.useTransition()},Et.version="19.2.4",Et}var M_;function mm(){return M_||(M_=1,wd.exports=SS()),wd.exports}var Le=mm();const bS=SE(Le);var Rd={exports:{}},pl={},Id={exports:{}},Cd={};var x_;function wS(){return x_||(x_=1,(function(r){function t(q,$){var ot=q.length;q.push($);t:for(;0<ot;){var Dt=ot-1>>>1,lt=q[Dt];if(0<l(lt,$))q[Dt]=$,q[ot]=lt,ot=Dt;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var $=q[0],ot=q.pop();if(ot!==$){q[0]=ot;t:for(var Dt=0,lt=q.length,N=lt>>>1;Dt<N;){var Q=2*(Dt+1)-1,nt=q[Q],st=Q+1,yt=q[st];if(0>l(nt,ot))st<lt&&0>l(yt,nt)?(q[Dt]=yt,q[st]=ot,Dt=st):(q[Dt]=nt,q[Q]=ot,Dt=Q);else if(st<lt&&0>l(yt,ot))q[Dt]=yt,q[st]=ot,Dt=st;else break t}}return $}function l(q,$){var ot=q.sortIndex-$.sortIndex;return ot!==0?ot:q.id-$.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],T=1,b=null,D=3,H=!1,Z=!1,et=!1,J=!1,ft=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function jt(q){for(var $=i(y);$!==null;){if($.callback===null)a(y);else if($.startTime<=q)a(y),$.sortIndex=$.expirationTime,t(_,$);else break;$=i(y)}}function ee(q){if(et=!1,jt(q),!Z)if(i(_)!==null)Z=!0,Lt||(Lt=!0,U());else{var $=i(y);$!==null&&Yt(ee,$.startTime-q)}}var Lt=!1,C=-1,w=5,I=-1;function M(){return J?!0:!(r.unstable_now()-I<w)}function O(){if(J=!1,Lt){var q=r.unstable_now();I=q;var $=!0;try{t:{Z=!1,et&&(et=!1,gt(C),C=-1),H=!0;var ot=D;try{e:{for(jt(q),b=i(_);b!==null&&!(b.expirationTime>q&&M());){var Dt=b.callback;if(typeof Dt=="function"){b.callback=null,D=b.priorityLevel;var lt=Dt(b.expirationTime<=q);if(q=r.unstable_now(),typeof lt=="function"){b.callback=lt,jt(q),$=!0;break e}b===i(_)&&a(_),jt(q)}else a(_);b=i(_)}if(b!==null)$=!0;else{var N=i(y);N!==null&&Yt(ee,N.startTime-q),$=!1}}break t}finally{b=null,D=ot,H=!1}$=void 0}}finally{$?U():Lt=!1}}}var U;if(typeof _t=="function")U=function(){_t(O)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,At=S.port2;S.port1.onmessage=O,U=function(){At.postMessage(null)}}else U=function(){ft(O,0)};function Yt(q,$){C=ft(function(){q(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(q){switch(D){case 1:case 2:case 3:var $=3;break;default:$=D}var ot=D;D=$;try{return q()}finally{D=ot}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(q,$){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ot=D;D=q;try{return $()}finally{D=ot}},r.unstable_scheduleCallback=function(q,$,ot){var Dt=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Dt+ot:Dt):ot=Dt,q){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=ot+lt,q={id:T++,callback:$,priorityLevel:q,startTime:ot,expirationTime:lt,sortIndex:-1},ot>Dt?(q.sortIndex=ot,t(y,q),i(_)===null&&q===i(y)&&(et?(gt(C),C=-1):et=!0,Yt(ee,ot-Dt))):(q.sortIndex=lt,t(_,q),Z||H||(Z=!0,Lt||(Lt=!0,U()))),q},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(q){var $=D;return function(){var ot=D;D=$;try{return q.apply(this,arguments)}finally{D=ot}}}})(Cd)),Cd}var U_;function RS(){return U_||(U_=1,Id.exports=wS()),Id.exports}var Dd={exports:{}},Ye={};var L_;function IS(){if(L_)return Ye;L_=1;var r=mm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,T)},Ye.flushSync=function(_){var y=d.T,T=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=T,a.d.f()}},Ye.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},Ye.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ye.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,b=p(T,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:D,fetchPriority:H}):T==="script"&&a.d.X(_,{crossOrigin:b,integrity:D,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},Ye.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=p(T,y.crossOrigin);a.d.L(_,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},Ye.requestFormReset=function(_){a.d.r(_)},Ye.unstable_batchedUpdates=function(_,y){return _(y)},Ye.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var k_;function CS(){if(k_)return Dd.exports;k_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Dd.exports=IS(),Dd.exports}var P_;function DS(){if(P_)return pl;P_=1;var r=RS(),t=mm(),i=CS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,D=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),jt=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var S=Symbol.for("react.client.reference");function At(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===S?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ft:return"Profiler";case J:return"StrictMode";case ee:return"Suspense";case Lt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case _t:return e.displayName||"Context";case gt:return(e._context.displayName||"Context")+".Consumer";case jt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:At(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return At(e(n))}catch{}}return null}var Yt=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Dt=[],lt=-1;function N(e){return{current:e}}function Q(e){0>lt||(e.current=Dt[lt],Dt[lt]=null,lt--)}function nt(e,n){lt++,Dt[lt]=e.current,e.current=n}var st=N(null),yt=N(null),wt=N(null),kt=N(null);function De(e,n){switch(nt(wt,n),nt(yt,e),nt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Wy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Wy(n),e=t_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(st),nt(st,e)}function se(){Q(st),Q(yt),Q(wt)}function ts(e){e.memoizedState!==null&&nt(kt,e);var n=st.current,s=t_(n,e.type);n!==s&&(nt(yt,e),nt(st,s))}function Ks(e){yt.current===e&&(Q(st),Q(yt)),kt.current===e&&(Q(kt),hl._currentValue=ot)}var Ys,Xs;function ti(e){if(Ys===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ys=n&&n[1]||"",Xs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ys+e+Xs}var co=!1;function es(e,n){if(!e||co)return"";co=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(j){var z=j}Reflect.construct(e,[],K)}else{try{K.call()}catch(j){z=j}e.call(K.prototype)}}else{try{throw Error()}catch(j){z=j}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),P=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{co=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ti(s):""}function ho(e,n){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return es(e.type,!1);case 11:return es(e.type.render,!1);case 1:return es(e.type,!0);case 31:return ti("Activity");default:return""}}function fo(e){try{var n="",s=null;do n+=ho(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,Ne=r.unstable_scheduleCallback,nr=r.unstable_cancelCallback,wh=r.unstable_shouldYield,Xl=r.unstable_requestPaint,We=r.unstable_now,ns=r.unstable_getCurrentPriorityLevel,mo=r.unstable_ImmediatePriority,go=r.unstable_UserBlockingPriority,ir=r.unstable_NormalPriority,Rh=r.unstable_LowPriority,Jl=r.unstable_IdlePriority,Zl=r.log,$l=r.unstable_setDisableYieldValue,Ln=null,ze=null;function An(e){if(typeof Zl=="function"&&$l(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Ln,e)}catch{}}var he=Math.clz32?Math.clz32:tu,Wl=Math.log,Js=Math.LN2;function tu(e){return e>>>=0,e===0?32:31-(Wl(e)/Js|0)|0}var ei=256,is=262144,ye=4194304;function ni(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ni(o):(g&=E,g!==0?h=ni(g):s||(s=E&~e,s!==0&&(h=ni(s))))):(E=o&~f,E!==0?h=ni(E):g!==0?h=ni(g):s||(s=o&~e,s!==0&&(h=ni(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ih(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ri(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function rs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ch(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-he(s),K=1<<G;E[G]=0,R[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var j=z[G];j!==null&&(j.lane&=-536870913)}s&=~K}o!==0&&ss(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ss(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function po(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-he(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function yo(e,n){var s=n&-n;return s=(s&42)!==0?1:as(s),(s&(e.suspendedLanes|n))!==0?0:s}function as(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nu(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:S_(e.type))}function Pn(e,n){var s=$.p;try{return $.p=e,n()}finally{$.p=s}}var zn=Math.random().toString(36).slice(2),_e="__reactFiber$"+zn,Me="__reactProps$"+zn,si="__reactContainer$"+zn,Zs="__reactEvents$"+zn,Dh="__reactListeners$"+zn,iu="__reactHandles$"+zn,ru="__reactResources$"+zn,ai="__reactMarker$"+zn;function $s(e){delete e[_e],delete e[Me],delete e[Zs],delete e[Dh],delete e[iu]}function oi(e){var n=e[_e];if(n)return n;for(var s=e.parentNode;s;){if(n=s[si]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=o_(e);e!==null;){if(s=e[_e])return s;e=o_(e)}return n}e=s,s=e.parentNode}return null}function Sn(e){if(e=e[_e]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function li(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[ai]=!0}var _o=new Set,vo={};function ui(e,n){ci(e,n),ci(e+"Capture",n)}function ci(e,n){for(vo[e]=n,e=0;e<n.length;e++)_o.add(n[e])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},Ao={};function su(e){return pe.call(Ao,e)?!0:pe.call(To,e)?!1:Eo.test(e)?Ao[e]=!0:(To[e]=!0,!1)}function Ws(e,n,s){if(su(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function dn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ee(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function So(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ft(e){if(!e._valueTracker){var n=rr(e)?"checked":"value";e._valueTracker=So(e,n,""+e[n])}}function os(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=rr(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ls=/[\n"\\]/g;function nn(e){return e.replace(ls,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ta(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xe(n)):e.value!==""+xe(n)&&(e.value=""+xe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?bo(e,g,xe(n)):s!=null?bo(e,g,xe(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+xe(E):e.removeAttribute("name")}function au(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(e);return}s=s!=null?""+xe(s):"",n=n!=null?""+xe(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ft(e)}function bo(e,n,s){n==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function sr(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+xe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ou(e,n,s){if(n!=null&&(n=""+xe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+xe(s):""}function ar(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Yt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=xe(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Ft(e)}function rn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||lu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ro(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&wo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&wo(e,f,n[f])}function ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(e){return or.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var Io=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lr=null,fi=null;function us(e){var n=Sn(e);if(n&&(e=n.stateNode)){var s=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(ta(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Me]||null;if(!h)throw Error(a(90));ta(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&os(o)}break t;case"textarea":ou(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&sr(e,!!s.multiple,n,!1)}}}var ia=!1;function ur(e,n,s){if(ia)return e(n,s);ia=!0;try{var o=e(n);return o}finally{if(ia=!1,(lr!==null||fi!==null)&&(nc(),lr&&(n=lr,e=fi,fi=lr=null,us(n),e)))for(n=0;n<e.length;n++)us(e[n])}}function jn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Me]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cs=!1;if(wn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){cs=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{cs=!1}var di=null,Co=null,hs=null;function Do(){if(hs)return hs;var e,n=Co,s=n.length,o,h="value"in di?di.value:di.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return hs=h.slice(e,1<o?1-o:void 0)}function fs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function qn(){return!1}function Be(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:qn,this.isPropagationStopped=qn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Be(Oi),cr=b({},Oi,{view:0,detail:0}),No=Be(cr),hr,ra,gi,sa=b({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(hr=e.screenX-gi.screenX,ra=e.screenY-gi.screenY):ra=hr=0,gi=e),hr)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),Oo=Be(sa),ds=b({},sa,{dataTransfer:0}),cu=Be(ds),hu=b({},cr,{relatedTarget:0}),ms=Be(hu),Vo=b({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=Be(Vo),aa=b({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=Be(aa),mu=b({},Oi,{data:0}),pi=Be(mu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yu[e])?!!n[e]:!1}function fr(){return _u}var tn=b({},cr,{key:function(e){if(e.key){var n=gu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return e.type==="keypress"?fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vu=Be(tn),Eu=b({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=Be(Eu),u=b({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),m=Be(u),v=b({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(v),L=b({},sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Be(L),W=b({},Oi,{newState:0,oldState:0}),St=Be(W),fe=[9,13,27,32],qt=wn&&"CompositionEvent"in window,ae=null;wn&&"documentMode"in document&&(ae=document.documentMode);var Rn=wn&&"TextEvent"in window&&!ae,yi=wn&&(!qt||ae&&8<ae&&11>=ae),Hn=" ",Gn=!1;function gs(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var la=!1;function F0(e,n){switch(e){case"compositionend":return oa(n);case"keypress":return n.which!==32?null:(Gn=!0,Hn);case"textInput":return e=n.data,e===Hn&&Gn?null:e;default:return null}}function Q0(e,n){if(la)return e==="compositionend"||!qt&&gs(e,n)?(e=Do(),hs=Co=di=null,la=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var K0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!K0[e.type]:n==="textarea"}function hg(e,n,s,o){lr?fi?fi.push(o):fi=[o]:lr=o,n=uc(n,"onChange"),0<n.length&&(s=new mi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Mo=null,xo=null;function Y0(e){Ky(e,0)}function Tu(e){var n=fn(e);if(os(n))return e}function fg(e,n){if(e==="change")return n}var dg=!1;if(wn){var Nh;if(wn){var Oh="oninput"in document;if(!Oh){var mg=document.createElement("div");mg.setAttribute("oninput","return;"),Oh=typeof mg.oninput=="function"}Nh=Oh}else Nh=!1;dg=Nh&&(!document.documentMode||9<document.documentMode)}function gg(){Mo&&(Mo.detachEvent("onpropertychange",pg),xo=Mo=null)}function pg(e){if(e.propertyName==="value"&&Tu(xo)){var n=[];hg(n,xo,e,bn(e)),ur(Y0,n)}}function X0(e,n,s){e==="focusin"?(gg(),Mo=n,xo=s,Mo.attachEvent("onpropertychange",pg)):e==="focusout"&&gg()}function J0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(xo)}function Z0(e,n){if(e==="click")return Tu(n)}function $0(e,n){if(e==="input"||e==="change")return Tu(n)}function W0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:W0;function Uo(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!pe.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function yg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _g(e,n){var s=yg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=yg(s)}}function vg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?vg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Eg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=hi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=hi(e.document)}return n}function Vh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var tA=wn&&"documentMode"in document&&11>=document.documentMode,ua=null,Mh=null,Lo=null,xh=!1;function Tg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;xh||ua==null||ua!==hi(o)||(o=ua,"selectionStart"in o&&Vh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Lo&&Uo(Lo,o)||(Lo=o,o=uc(Mh,"onSelect"),0<o.length&&(n=new mi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ua)))}function ps(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ca={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},Uh={},Ag={};wn&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function ys(e){if(Uh[e])return Uh[e];if(!ca[e])return e;var n=ca[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ag)return Uh[e]=n[s];return e}var Sg=ys("animationend"),bg=ys("animationiteration"),wg=ys("animationstart"),eA=ys("transitionrun"),nA=ys("transitionstart"),iA=ys("transitioncancel"),Rg=ys("transitionend"),Ig=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function Fn(e,n){Ig.set(e,n),ui(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],ha=0,kh=0;function Su(){for(var e=ha,n=kh=ha=0;n<e;){var s=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Cg(s,h,f)}}function bu(e,n,s,o){In[ha++]=e,In[ha++]=n,In[ha++]=s,In[ha++]=o,kh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ph(e,n,s,o){return bu(e,n,s,o),wu(e)}function _s(e,n){return bu(e,null,null,n),wu(e)}function Cg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function wu(e){if(50<rl)throw rl=0,Yf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fa={};function rA(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,o){return new rA(e,n,s,o)}function zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Dg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")zh(e)&&(g=1);else if(typeof e=="string")g=uS(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=gn(31,s,n,h),e.elementType=I,e.lanes=f,e;case et:return vs(s.children,h,f,n);case J:g=8,h|=24;break;case ft:return e=gn(12,s,n,h|2),e.elementType=ft,e.lanes=f,e;case ee:return e=gn(13,s,n,h),e.elementType=ee,e.lanes=f,e;case Lt:return e=gn(19,s,n,h),e.elementType=Lt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:g=10;break t;case gt:g=9;break t;case jt:g=11;break t;case C:g=14;break t;case w:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=gn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function vs(e,n,s,o){return e=gn(7,e,o,n),e.lanes=s,e}function Bh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function Ng(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function jh(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Og=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var s=Og.get(e);return s!==void 0?s:(n={value:e,source:n,stack:fo(n)},Og.set(e,n),n)}return{value:e,source:n,stack:fo(n)}}var da=[],ma=0,Iu=null,ko=0,Dn=[],Nn=0,dr=null,_i=1,vi="";function xi(e,n){da[ma++]=ko,da[ma++]=Iu,Iu=e,ko=n}function Vg(e,n,s){Dn[Nn++]=_i,Dn[Nn++]=vi,Dn[Nn++]=dr,dr=e;var o=_i;e=vi;var h=32-he(o)-1;o&=~(1<<h),s+=1;var f=32-he(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,_i=1<<32-he(n)+h|s<<h|o,vi=f+e}else _i=1<<f|s<<h|o,vi=e}function qh(e){e.return!==null&&(xi(e,1),Vg(e,1,0))}function Hh(e){for(;e===Iu;)Iu=da[--ma],da[ma]=null,ko=da[--ma],da[ma]=null;for(;e===dr;)dr=Dn[--Nn],Dn[Nn]=null,vi=Dn[--Nn],Dn[Nn]=null,_i=Dn[--Nn],Dn[Nn]=null}function Mg(e,n){Dn[Nn++]=_i,Dn[Nn++]=vi,Dn[Nn++]=dr,_i=n.id,vi=n.overflow,dr=e}var je=null,ne=null,Ut=!1,mr=null,On=!1,Gh=Error(a(519));function gr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(Cn(n,e)),Gh}function xg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[_e]=e,n[Me]=o,s){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(s=0;s<al.length;s++)Ct(al[s],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),ar(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Zy(n.textContent,s)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||gr(e,!0)}function Ug(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:je=je.return}}function ga(e){if(e!==je)return!1;if(!Ut)return Ug(e),Ut=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ud(e.type,e.memoizedProps)),s=!s),s&&ne&&gr(e),Ug(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=a_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=a_(e)}else n===27?(n=ne,Dr(e.type)?(e=md,md=null,ne=e):ne=n):ne=je?Mn(e.stateNode.nextSibling):null;return!0}function Es(){ne=je=null,Ut=!1}function Fh(){var e=mr;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),mr=null),e}function Po(e){mr===null?mr=[e]:mr.push(e)}var Qh=N(null),Ts=null,Ui=null;function pr(e,n,s){nt(Qh,n._currentValue),n._currentValue=s}function Li(e){e._currentValue=Qh.current,Q(Qh)}function Kh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Yh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Kh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Kh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function pa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;mn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===kt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}h=h.return}e!==null&&Yh(n,e,s,o),n.flags|=262144}function Cu(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function As(e){Ts=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Lg(Ts,e)}function Du(e,n){return Ts===null&&As(e),Lg(e,n)}function Lg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ui===null){if(e===null)throw Error(a(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return s}var sA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},aA=r.unstable_scheduleCallback,oA=r.unstable_NormalPriority,Te={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new sA,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&aA(oA,function(){e.controller.abort()})}var Bo=null,Jh=0,ya=0,_a=null;function lA(e,n){if(Bo===null){var s=Bo=[];Jh=0,ya=td(),_a={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Jh++,n.then(kg,kg),n}function kg(){if(--Jh===0&&Bo!==null){_a!==null&&(_a.status="fulfilled");var e=Bo;Bo=null,ya=0,_a=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function uA(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Pg=q.S;q.S=function(e,n){Ty=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&lA(e,n),Pg!==null&&Pg(e,n)};var Ss=N(null);function Zh(){var e=Ss.current;return e!==null?e:Wt.pooledCache}function Nu(e,n){n===null?nt(Ss,Ss.current):nt(Ss,n.pool)}function zg(){var e=Zh();return e===null?null:{parent:Te._currentValue,pool:e}}var va=Error(a(460)),$h=Error(a(474)),Ou=Error(a(542)),Vu={then:function(){}};function Bg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Bn,Bn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hg(e),e;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hg(e),e}throw ws=n,va}}function bs(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ws=s,va):s}}var ws=null;function qg(){if(ws===null)throw Error(a(459));var e=ws;return ws=null,e}function Hg(e){if(e===va||e===Ou)throw Error(a(483))}var Ea=null,jo=0;function Mu(e){var n=jo;return jo+=1,Ea===null&&(Ea=[]),jg(Ea,e,n)}function qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function xu(e,n){throw n.$$typeof===D?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Gg(e){function n(x,V){if(e){var k=x.deletions;k===null?(x.deletions=[V],x.flags|=16):k.push(V)}}function s(x,V){if(!e)return null;for(;V!==null;)n(x,V),V=V.sibling;return null}function o(x){for(var V=new Map;x!==null;)x.key!==null?V.set(x.key,x):V.set(x.index,x),x=x.sibling;return V}function h(x,V){return x=Mi(x,V),x.index=0,x.sibling=null,x}function f(x,V,k){return x.index=k,e?(k=x.alternate,k!==null?(k=k.index,k<V?(x.flags|=67108866,V):k):(x.flags|=67108866,V)):(x.flags|=1048576,V)}function g(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,V,k,F){return V===null||V.tag!==6?(V=Bh(k,x.mode,F),V.return=x,V):(V=h(V,k),V.return=x,V)}function R(x,V,k,F){var ct=k.type;return ct===et?G(x,V,k.props.children,F,k.key):V!==null&&(V.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===w&&bs(ct)===V.type)?(V=h(V,k.props),qo(V,k),V.return=x,V):(V=Ru(k.type,k.key,k.props,null,x.mode,F),qo(V,k),V.return=x,V)}function P(x,V,k,F){return V===null||V.tag!==4||V.stateNode.containerInfo!==k.containerInfo||V.stateNode.implementation!==k.implementation?(V=jh(k,x.mode,F),V.return=x,V):(V=h(V,k.children||[]),V.return=x,V)}function G(x,V,k,F,ct){return V===null||V.tag!==7?(V=vs(k,x.mode,F,ct),V.return=x,V):(V=h(V,k),V.return=x,V)}function K(x,V,k){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Bh(""+V,x.mode,k),V.return=x,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case H:return k=Ru(V.type,V.key,V.props,null,x.mode,k),qo(k,V),k.return=x,k;case Z:return V=jh(V,x.mode,k),V.return=x,V;case w:return V=bs(V),K(x,V,k)}if(Yt(V)||U(V))return V=vs(V,x.mode,k,null),V.return=x,V;if(typeof V.then=="function")return K(x,Mu(V),k);if(V.$$typeof===_t)return K(x,Du(x,V),k);xu(x,V)}return null}function z(x,V,k,F){var ct=V!==null?V.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ct!==null?null:E(x,V,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case H:return k.key===ct?R(x,V,k,F):null;case Z:return k.key===ct?P(x,V,k,F):null;case w:return k=bs(k),z(x,V,k,F)}if(Yt(k)||U(k))return ct!==null?null:G(x,V,k,F,null);if(typeof k.then=="function")return z(x,V,Mu(k),F);if(k.$$typeof===_t)return z(x,V,Du(x,k),F);xu(x,k)}return null}function j(x,V,k,F,ct){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(k)||null,E(V,x,""+F,ct);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case H:return x=x.get(F.key===null?k:F.key)||null,R(V,x,F,ct);case Z:return x=x.get(F.key===null?k:F.key)||null,P(V,x,F,ct);case w:return F=bs(F),j(x,V,k,F,ct)}if(Yt(F)||U(F))return x=x.get(k)||null,G(V,x,F,ct,null);if(typeof F.then=="function")return j(x,V,k,Mu(F),ct);if(F.$$typeof===_t)return j(x,V,k,Du(V,F),ct);xu(V,F)}return null}function at(x,V,k,F){for(var ct=null,zt=null,ut=V,Rt=V=0,Ot=null;ut!==null&&Rt<k.length;Rt++){ut.index>Rt?(Ot=ut,ut=null):Ot=ut.sibling;var Bt=z(x,ut,k[Rt],F);if(Bt===null){ut===null&&(ut=Ot);break}e&&ut&&Bt.alternate===null&&n(x,ut),V=f(Bt,V,Rt),zt===null?ct=Bt:zt.sibling=Bt,zt=Bt,ut=Ot}if(Rt===k.length)return s(x,ut),Ut&&xi(x,Rt),ct;if(ut===null){for(;Rt<k.length;Rt++)ut=K(x,k[Rt],F),ut!==null&&(V=f(ut,V,Rt),zt===null?ct=ut:zt.sibling=ut,zt=ut);return Ut&&xi(x,Rt),ct}for(ut=o(ut);Rt<k.length;Rt++)Ot=j(ut,x,Rt,k[Rt],F),Ot!==null&&(e&&Ot.alternate!==null&&ut.delete(Ot.key===null?Rt:Ot.key),V=f(Ot,V,Rt),zt===null?ct=Ot:zt.sibling=Ot,zt=Ot);return e&&ut.forEach(function(xr){return n(x,xr)}),Ut&&xi(x,Rt),ct}function dt(x,V,k,F){if(k==null)throw Error(a(151));for(var ct=null,zt=null,ut=V,Rt=V=0,Ot=null,Bt=k.next();ut!==null&&!Bt.done;Rt++,Bt=k.next()){ut.index>Rt?(Ot=ut,ut=null):Ot=ut.sibling;var xr=z(x,ut,Bt.value,F);if(xr===null){ut===null&&(ut=Ot);break}e&&ut&&xr.alternate===null&&n(x,ut),V=f(xr,V,Rt),zt===null?ct=xr:zt.sibling=xr,zt=xr,ut=Ot}if(Bt.done)return s(x,ut),Ut&&xi(x,Rt),ct;if(ut===null){for(;!Bt.done;Rt++,Bt=k.next())Bt=K(x,Bt.value,F),Bt!==null&&(V=f(Bt,V,Rt),zt===null?ct=Bt:zt.sibling=Bt,zt=Bt);return Ut&&xi(x,Rt),ct}for(ut=o(ut);!Bt.done;Rt++,Bt=k.next())Bt=j(ut,x,Rt,Bt.value,F),Bt!==null&&(e&&Bt.alternate!==null&&ut.delete(Bt.key===null?Rt:Bt.key),V=f(Bt,V,Rt),zt===null?ct=Bt:zt.sibling=Bt,zt=Bt);return e&&ut.forEach(function(ES){return n(x,ES)}),Ut&&xi(x,Rt),ct}function $t(x,V,k,F){if(typeof k=="object"&&k!==null&&k.type===et&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case H:t:{for(var ct=k.key;V!==null;){if(V.key===ct){if(ct=k.type,ct===et){if(V.tag===7){s(x,V.sibling),F=h(V,k.props.children),F.return=x,x=F;break t}}else if(V.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===w&&bs(ct)===V.type){s(x,V.sibling),F=h(V,k.props),qo(F,k),F.return=x,x=F;break t}s(x,V);break}else n(x,V);V=V.sibling}k.type===et?(F=vs(k.props.children,x.mode,F,k.key),F.return=x,x=F):(F=Ru(k.type,k.key,k.props,null,x.mode,F),qo(F,k),F.return=x,x=F)}return g(x);case Z:t:{for(ct=k.key;V!==null;){if(V.key===ct)if(V.tag===4&&V.stateNode.containerInfo===k.containerInfo&&V.stateNode.implementation===k.implementation){s(x,V.sibling),F=h(V,k.children||[]),F.return=x,x=F;break t}else{s(x,V);break}else n(x,V);V=V.sibling}F=jh(k,x.mode,F),F.return=x,x=F}return g(x);case w:return k=bs(k),$t(x,V,k,F)}if(Yt(k))return at(x,V,k,F);if(U(k)){if(ct=U(k),typeof ct!="function")throw Error(a(150));return k=ct.call(k),dt(x,V,k,F)}if(typeof k.then=="function")return $t(x,V,Mu(k),F);if(k.$$typeof===_t)return $t(x,V,Du(x,k),F);xu(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,V!==null&&V.tag===6?(s(x,V.sibling),F=h(V,k),F.return=x,x=F):(s(x,V),F=Bh(k,x.mode,F),F.return=x,x=F),g(x)):s(x,V)}return function(x,V,k,F){try{jo=0;var ct=$t(x,V,k,F);return Ea=null,ct}catch(ut){if(ut===va||ut===Ou)throw ut;var zt=gn(29,ut,null,x.mode);return zt.lanes=F,zt.return=x,zt}}}var Rs=Gg(!0),Fg=Gg(!1),yr=!1;function Wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _r(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vr(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=wu(e),Cg(e,null,s),n}return bu(e,o,n,s),wu(e)}function Ho(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,po(e,s)}}function ef(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var nf=!1;function Go(){if(nf){var e=_a;if(e!==null)throw e}}function Fo(e,n,s,o){nf=!1;var h=e.updateQueue;yr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;g=0,G=P=R=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(Nt&z)===z:(o&z)===z){z!==0&&z===ya&&(nf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,dt=E;z=n;var $t=s;switch(dt.tag){case 1:if(at=dt.payload,typeof at=="function"){K=at.call($t,K,z);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=dt.payload,z=typeof at=="function"?at.call($t,K,z):at,z==null)break t;K=b({},K,z);break t;case 2:yr=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=j,R=K):G=G.next=j,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;j=E,E=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);G===null&&(R=K),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),br|=g,e.lanes=g,e.memoizedState=K}}function Qg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Kg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Qg(s[e],n)}var Ta=N(null),Uu=N(0);function Yg(e,n){e=Fi,nt(Uu,e),nt(Ta,n),Fi=e|n.baseLanes}function rf(){nt(Uu,Fi),nt(Ta,Ta.current)}function sf(){Fi=Uu.current,Q(Ta),Q(Uu)}var pn=N(null),Vn=null;function Er(e){var n=e.alternate;nt(de,de.current&1),nt(pn,e),Vn===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(Vn=e)}function af(e){nt(de,de.current),nt(pn,e),Vn===null&&(Vn=e)}function Xg(e){e.tag===22?(nt(de,de.current),nt(pn,e),Vn===null&&(Vn=e)):Tr()}function Tr(){nt(de,de.current),nt(pn,pn.current)}function yn(e){Q(pn),Vn===e&&(Vn=null),Q(de)}var de=N(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||fd(s)||dd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ki=0,bt=null,Jt=null,Ae=null,ku=!1,Aa=!1,Is=!1,Pu=0,Qo=0,Sa=null,cA=0;function ue(){throw Error(a(321))}function of(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!mn(e[s],n[s]))return!1;return!0}function lf(e,n,s,o,h,f){return ki=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?Vp:Sf,Is=!1,f=s(o,h),Is=!1,Aa&&(f=Zg(n,s,o,h)),Jg(e),f}function Jg(e){q.H=Xo;var n=Jt!==null&&Jt.next!==null;if(ki=0,Ae=Jt=bt=null,ku=!1,Qo=0,Sa=null,n)throw Error(a(300));e===null||Se||(e=e.dependencies,e!==null&&Cu(e)&&(Se=!0))}function Zg(e,n,s,o){bt=e;var h=0;do{if(Aa&&(Sa=null),Qo=0,Aa=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Mp,f=n(s,o)}while(Aa);return f}function hA(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?Ko(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(bt.flags|=1024),n}function uf(){var e=Pu!==0;return Pu=0,e}function cf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function hf(e){if(ku){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ku=!1}ki=0,Ae=Jt=bt=null,Aa=!1,Qo=Pu=0,Sa=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function me(){if(Jt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Ae===null?bt.memoizedState:Ae.next;if(n!==null)Ae=n,Jt=e;else{if(e===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(e){var n=Qo;return Qo+=1,Sa===null&&(Sa=[]),e=jg(Sa,e,n),n=bt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Vp:Sf),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ko(e);if(e.$$typeof===_t)return qe(e)}throw Error(a(438,String(e)))}function ff(e){var n=null,s=bt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=zu(),bt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function Pi(e,n){return typeof n=="function"?n(e):n}function ju(e){var n=me();return df(n,Jt,e)}function df(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,P=n,G=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(Nt&K)===K:(ki&K)===K){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===ya&&(G=!0);else if((ki&z)===z){P=P.next,z===ya&&(G=!0);continue}else K={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=K,g=f):R=R.next=K,bt.lanes|=z,br|=z;K=P.action,Is&&s(f,K),f=P.hasEagerState?P.eagerState:s(f,K)}else z={lane:K,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,bt.lanes|=K,br|=K;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=E,!mn(f,e.memoizedState)&&(Se=!0,G&&(s=_a,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function mf(e){var n=me(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);mn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function $g(e,n,s){var o=bt,h=me(),f=Ut;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!mn((Jt||h).memoizedState,s);if(g&&(h.memoizedState=s,Se=!0),h=h.queue,yf(ep.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,ba(9,{destroy:void 0},tp.bind(null,o,h,s,n),null),Wt===null)throw Error(a(349));f||(ki&127)!==0||Wg(o,n,s)}return s}function Wg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=bt.updateQueue,n===null?(n=zu(),bt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function tp(e,n,s,o){n.value=s,n.getSnapshot=o,np(n)&&ip(e)}function ep(e,n,s){return s(function(){np(n)&&ip(e)})}function np(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!mn(e,s)}catch{return!0}}function ip(e){var n=_s(e,2);n!==null&&un(n,e,2)}function gf(e){var n=en();if(typeof e=="function"){var s=e;if(e=s(),Is){An(!0);try{s()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n}function rp(e,n,s,o){return e.baseState=s,df(e,Jt,typeof o=="function"?o:Pi)}function fA(e,n,s,o,h){if(Gu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,sp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function sp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var E=s(h,o),R=q.S;R!==null&&R(g,E),ap(e,n,E)}catch(P){pf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=s(h,o),ap(e,n,f)}catch(P){pf(e,n,P)}}function ap(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){op(e,n,o)},function(o){return pf(e,n,o)}):op(e,n,s)}function op(e,n,s){n.status="fulfilled",n.value=s,lp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,sp(e,s)))}function pf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,lp(n),n=n.next;while(n!==o)}e.action=null}function lp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function up(e,n){return n}function cp(e,n){if(Ut){var s=Wt.formState;if(s!==null){t:{var o=bt;if(Ut){if(ne){e:{for(var h=ne,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=Mn(h.nextSibling),o=h.data==="F!";break t}}gr(o)}o=!1}o&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:n},s.queue=o,s=Dp.bind(null,bt,o),o.dispatch=s,o=gf(!1),f=Af.bind(null,bt,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=fA.bind(null,bt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function hp(e){var n=me();return fp(n,Jt,e)}function fp(e,n,s){if(n=df(e,n,up)[0],e=ju(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ko(n)}catch(g){throw g===va?Ou:g}else o=n;n=me();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(bt.flags|=2048,ba(9,{destroy:void 0},dA.bind(null,h,s),null)),[o,f,e]}function dA(e,n){e.action=n}function dp(e){var n=me(),s=Jt;if(s!==null)return fp(n,s,e);me(),n=n.memoizedState,s=me();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function ba(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=zu(),bt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function mp(){return me().memoizedState}function qu(e,n,s,o){var h=en();bt.flags|=e,h.memoizedState=ba(1|n,{destroy:void 0},s,o===void 0?null:o)}function Hu(e,n,s,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&of(o,Jt.memoizedState.deps)?h.memoizedState=ba(n,f,s,o):(bt.flags|=e,h.memoizedState=ba(1|n,f,s,o))}function gp(e,n){qu(8390656,8,e,n)}function yf(e,n){Hu(2048,8,e,n)}function mA(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=zu(),bt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function pp(e){var n=me().memoizedState;return mA({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function yp(e,n){return Hu(4,2,e,n)}function _p(e,n){return Hu(4,4,e,n)}function vp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ep(e,n,s){s=s!=null?s.concat([e]):null,Hu(4,4,vp.bind(null,n,e),s)}function _f(){}function Tp(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&of(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Ap(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&of(n,o[1]))return o[0];if(o=e(),Is){An(!0);try{e()}finally{An(!1)}}return s.memoizedState=[o,n],o}function vf(e,n,s){return s===void 0||(ki&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Sy(),bt.lanes|=e,br|=e,s)}function Sp(e,n,s,o){return mn(s,n)?s:Ta.current!==null?(e=vf(e,s,o),mn(e,n)||(Se=!0),e):(ki&42)===0||(ki&1073741824)!==0&&(Nt&261930)===0?(Se=!0,e.memoizedState=s):(e=Sy(),bt.lanes|=e,br|=e,n)}function bp(e,n,s,o,h){var f=$.p;$.p=f!==0&&8>f?f:8;var g=q.T,E={};q.T=E,Af(e,!1,n,s);try{var R=h(),P=q.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=uA(R,o);Yo(e,n,G,En(e))}else Yo(e,n,o,En(e))}catch(K){Yo(e,n,{then:function(){},status:"rejected",reason:K},En())}finally{$.p=f,g!==null&&E.types!==null&&(g.types=E.types),q.T=g}}function gA(){}function Ef(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=wp(e).queue;bp(e,h,n,ot,s===null?gA:function(){return Rp(e),s(o)})}function wp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ot},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Rp(e){var n=wp(e);n.next===null&&(n=e.alternate.memoizedState),Yo(e,n.next.queue,{},En())}function Tf(){return qe(hl)}function Ip(){return me().memoizedState}function Cp(){return me().memoizedState}function pA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=En();e=_r(s);var o=vr(n,e,s);o!==null&&(un(o,n,s),Ho(o,n,s)),n={cache:Xh()},e.payload=n;return}n=n.return}}function yA(e,n,s){var o=En();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Gu(e)?Np(n,s):(s=Ph(e,n,s,o),s!==null&&(un(s,e,o),Op(s,n,o)))}function Dp(e,n,s){var o=En();Yo(e,n,s,o)}function Yo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Np(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,mn(E,g))return bu(e,n,h,0),Wt===null&&Su(),!1}catch{}if(s=Ph(e,n,h,o),s!==null)return un(s,e,o),Op(s,n,o),!0}return!1}function Af(e,n,s,o){if(o={lane:2,revertLane:td(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(a(479))}else n=Ph(e,s,o,2),n!==null&&un(n,e,2)}function Gu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function Np(e,n){Aa=ku=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Op(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,po(e,s)}}var Xo={readContext:qe,use:Bu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Xo.useEffectEvent=ue;var Vp={readContext:qe,use:Bu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:gp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,qu(4194308,4,vp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return qu(4194308,4,e,n)},useInsertionEffect:function(e,n){qu(4,2,e,n)},useMemo:function(e,n){var s=en();n=n===void 0?null:n;var o=e();if(Is){An(!0);try{e()}finally{An(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=en();if(s!==void 0){var h=s(n);if(Is){An(!0);try{s(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=yA.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=gf(e);var n=e.queue,s=Dp.bind(null,bt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:_f,useDeferredValue:function(e,n){var s=en();return vf(s,e,n)},useTransition:function(){var e=gf(!1);return e=bp.bind(null,bt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=bt,h=en();if(Ut){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Wt===null)throw Error(a(349));(Nt&127)!==0||Wg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,gp(ep.bind(null,o,f,e),[e]),o.flags|=2048,ba(9,{destroy:void 0},tp.bind(null,o,f,s,n),null),s},useId:function(){var e=en(),n=Wt.identifierPrefix;if(Ut){var s=vi,o=_i;s=(o&~(1<<32-he(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Pu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=cA++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Tf,useFormState:cp,useActionState:cp,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Af.bind(null,bt,!0,s),s.dispatch=n,[e,n]},useMemoCache:ff,useCacheRefresh:function(){return en().memoizedState=pA.bind(null,bt)},useEffectEvent:function(e){var n=en(),s={impl:e};return n.memoizedState=s,function(){if((Ht&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Sf={readContext:qe,use:Bu,useCallback:Tp,useContext:qe,useEffect:yf,useImperativeHandle:Ep,useInsertionEffect:yp,useLayoutEffect:_p,useMemo:Ap,useReducer:ju,useRef:mp,useState:function(){return ju(Pi)},useDebugValue:_f,useDeferredValue:function(e,n){var s=me();return Sp(s,Jt.memoizedState,e,n)},useTransition:function(){var e=ju(Pi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:$g,useId:Ip,useHostTransitionStatus:Tf,useFormState:hp,useActionState:hp,useOptimistic:function(e,n){var s=me();return rp(s,Jt,e,n)},useMemoCache:ff,useCacheRefresh:Cp};Sf.useEffectEvent=pp;var Mp={readContext:qe,use:Bu,useCallback:Tp,useContext:qe,useEffect:yf,useImperativeHandle:Ep,useInsertionEffect:yp,useLayoutEffect:_p,useMemo:Ap,useReducer:mf,useRef:mp,useState:function(){return mf(Pi)},useDebugValue:_f,useDeferredValue:function(e,n){var s=me();return Jt===null?vf(s,e,n):Sp(s,Jt.memoizedState,e,n)},useTransition:function(){var e=mf(Pi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:$g,useId:Ip,useHostTransitionStatus:Tf,useFormState:dp,useActionState:dp,useOptimistic:function(e,n){var s=me();return Jt!==null?rp(s,Jt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:ff,useCacheRefresh:Cp};Mp.useEffectEvent=pp;function bf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var wf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=En(),h=_r(o);h.payload=n,s!=null&&(h.callback=s),n=vr(e,h,o),n!==null&&(un(n,e,o),Ho(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=En(),h=_r(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=vr(e,h,o),n!==null&&(un(n,e,o),Ho(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=En(),o=_r(s);o.tag=2,n!=null&&(o.callback=n),n=vr(e,o,s),n!==null&&(un(n,e,s),Ho(n,e,s))}};function xp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Uo(s,o)||!Uo(h,f):!0}function Up(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&wf.enqueueReplaceState(n,n.state,null)}function Cs(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Lp(e){Au(e)}function kp(e){console.error(e)}function Pp(e){Au(e)}function Fu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function zp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Rf(e,n,s){return s=_r(s),s.tag=3,s.payload={element:null},s.callback=function(){Fu(e,n)},s}function Bp(e){return e=_r(e),e.tag=3,e}function jp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){zp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){zp(n,s,o),typeof h!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function _A(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&pa(n,s,h,!0),s=pn.current,s!==null){switch(s.tag){case 31:case 13:return Vn===null?ic():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Zf(e,o,h)),!1;case 22:return s.flags|=65536,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Zf(e,o,h)),!1}throw Error(a(435,s.tag))}return Zf(e,o,h),ic(),!1}if(Ut)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Gh&&(e=Error(a(422),{cause:o}),Po(Cn(e,s)))):(o!==Gh&&(n=Error(a(423),{cause:o}),Po(Cn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Cn(o,s),h=Rf(e.stateNode,o,h),ef(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:o});if(f=Cn(f,s),il===null?il=[f]:il.push(f),ce!==4&&(ce=2),n===null)return!0;o=Cn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Rf(s.stateNode,o,e),ef(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(wr===null||!wr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Bp(h),jp(h,e,s,o),ef(s,h),!1}s=s.return}while(s!==null);return!1}var If=Error(a(461)),Se=!1;function He(e,n,s,o){n.child=e===null?Fg(n,null,s,o):Rs(n,e.child,s,o)}function qp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return As(n),o=lf(e,n,s,g,f,h),E=uf(),e!==null&&!Se?(cf(e,n,h),zi(e,n,h)):(Ut&&E&&qh(n),n.flags|=1,He(e,n,o,h),n.child)}function Hp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!zh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Gp(e,n,f,o,h)):(e=Ru(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Uf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Uo,s(g,o)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=Mi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Gp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Uo(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,Uf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,zi(e,n,h)}return Cf(e,n,s,o,h)}function Fp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Qp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?Yg(n,f):rf(),Xg(n);else return o=n.lanes=536870912,Qp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Nu(n,f.cachePool),Yg(n,f),Tr(),n.memoizedState=null):(e!==null&&Nu(n,null),rf(),Tr());return He(e,n,h,s),n.child}function Jo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Qp(e,n,s,o,h){var f=Zh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Nu(n,null),rf(),Xg(n),e!==null&&pa(e,n,o,!0),n.childLanes=h,null}function Qu(e,n){return n=Yu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Kp(e,n,s){return Rs(n,e.child,null,s),e=Qu(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function vA(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=Qu(n,o),n.lanes=536870912,Jo(null,e);if(af(n),(e=ne)?(e=s_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:dr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=Ng(e),s.return=n,n.child=s,je=n,ne=null)):e=null,e===null)throw gr(n);return n.lanes=536870912,null}return Qu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(af(n),h)if(n.flags&256)n.flags&=-257,n=Kp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Se||pa(e,n,s,!1),h=(s&e.childLanes)!==0,Se||h){if(o=Wt,o!==null&&(g=yo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,_s(e,g),un(o,e,g),If;ic(),n=Kp(e,n,s)}else e=f.treeContext,ne=Mn(g.nextSibling),je=n,Ut=!0,mr=null,On=!1,e!==null&&Mg(n,e),n=Qu(n,o),n.flags|=4096;return n}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ku(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Cf(e,n,s,o,h){return As(n),s=lf(e,n,s,o,void 0,h),o=uf(),e!==null&&!Se?(cf(e,n,h),zi(e,n,h)):(Ut&&o&&qh(n),n.flags|=1,He(e,n,s,h),n.child)}function Yp(e,n,s,o,h,f){return As(n),n.updateQueue=null,s=Zg(n,o,s,h),Jg(e),o=uf(),e!==null&&!Se?(cf(e,n,f),zi(e,n,f)):(Ut&&o&&qh(n),n.flags|=1,He(e,n,s,f),n.child)}function Xp(e,n,s,o,h){if(As(n),n.stateNode===null){var f=fa,g=s.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=wf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Wh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?qe(g):fa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(bf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&wf.enqueueReplaceState(f,f.state,null),Fo(n,o,f,h),Go(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Cs(s,E);f.props=R;var P=f.context,G=s.contextType;g=fa,typeof G=="object"&&G!==null&&(g=qe(G));var K=s.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Up(n,f,o,g),yr=!1;var z=n.memoizedState;f.state=z,Fo(n,o,f,h),Go(),P=n.memoizedState,E||z!==P||yr?(typeof K=="function"&&(bf(n,s,K,o),P=n.memoizedState),(R=yr||xp(n,s,R,o,z,P,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,tf(e,n),g=n.memoizedProps,G=Cs(s,g),f.props=G,K=n.pendingProps,z=f.context,P=s.contextType,R=fa,typeof P=="object"&&P!==null&&(R=qe(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||z!==R)&&Up(n,f,o,R),yr=!1,z=n.memoizedState,f.state=z,Fo(n,o,f,h),Go();var j=n.memoizedState;g!==K||z!==j||yr||e!==null&&e.dependencies!==null&&Cu(e.dependencies)?(typeof E=="function"&&(bf(n,s,E,o),j=n.memoizedState),(G=yr||xp(n,s,G,o,z,j,R)||e!==null&&e.dependencies!==null&&Cu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Rs(n,e.child,null,h),n.child=Rs(n,null,s,h)):He(e,n,s,h),n.memoizedState=f.state,e=n.child):e=zi(e,n,h),e}function Jp(e,n,s,o){return Es(),n.flags|=256,He(e,n,s,o),n.child}var Df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(e){return{baseLanes:e,cachePool:zg()}}function Of(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=vn),e}function Zp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Er(n):Tr(),(e=ne)?(e=s_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:dr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=Ng(e),s.return=n,n.child=s,je=n,ne=null)):e=null,e===null)throw gr(n);return dd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Tr(),h=n.mode,E=Yu({mode:"hidden",children:E},h),o=vs(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Nf(s),o.childLanes=Of(e,g,s),n.memoizedState=Df,Jo(null,o)):(Er(n),Vf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Er(n),n.flags&=-257,n=Mf(e,n,s)):n.memoizedState!==null?(Tr(),n.child=e.child,n.flags|=128,n=null):(Tr(),E=o.fallback,h=n.mode,o=Yu({mode:"visible",children:o.children},h),E=vs(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Rs(n,e.child,null,s),o=n.child,o.memoizedState=Nf(s),o.childLanes=Of(e,g,s),n.memoizedState=Df,n=Jo(null,o));else if(Er(n),dd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,Po({value:o,source:null,stack:null}),n=Mf(e,n,s)}else if(Se||pa(e,n,s,!1),g=(s&e.childLanes)!==0,Se||g){if(g=Wt,g!==null&&(o=yo(g,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,_s(e,o),un(g,e,o),If;fd(E)||ic(),n=Mf(e,n,s)}else fd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ne=Mn(E.nextSibling),je=n,Ut=!0,mr=null,On=!1,e!==null&&Mg(n,e),n=Vf(n,o.children),n.flags|=4096);return n}return h?(Tr(),E=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=Mi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=Mi(P,E):(E=vs(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Jo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Nf(s):(h=E.cachePool,h!==null?(R=Te._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=zg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Of(e,g,s),n.memoizedState=Df,Jo(e.child,o)):(Er(n),s=e.child,e=s.sibling,s=Mi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Vf(e,n){return n=Yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yu(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Mf(e,n,s){return Rs(n,e.child,null,s),e=Vf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function $p(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Kh(e.return,n,s)}function xf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Wp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(de,g),He(e,n,o,s),o=Ut?ko:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$p(e,s,n);else if(e.tag===19)$p(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Lu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),xf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}xf(n,!0,s,null,f,o);break;case"together":xf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function zi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),br|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(pa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Mi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Mi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Uf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Cu(e)))}function EA(e,n,s){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),pr(n,Te,e.memoizedState.cache),Es();break;case 27:case 5:ts(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:pr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,af(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Er(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Zp(e,n,s):(Er(n),e=zi(e,n,s),e!==null?e.sibling:null);Er(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(pa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Wp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(de,de.current),o)break;return null;case 22:return n.lanes=0,Fp(e,n,s,n.pendingProps);case 24:pr(n,Te,e.memoizedState.cache)}return zi(e,n,s)}function ty(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!Uf(e,s)&&(n.flags&128)===0)return Se=!1,EA(e,n,s);Se=(e.flags&131072)!==0}else Se=!1,Ut&&(n.flags&1048576)!==0&&Vg(n,ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=bs(n.elementType),n.type=e,typeof e=="function")zh(e)?(o=Cs(e,o),n.tag=1,n=Xp(null,n,e,o,s)):(n.tag=0,n=Cf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===jt){n.tag=11,n=qp(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=Hp(null,n,e,o,s);break t}}throw n=At(e)||e,Error(a(306,n,""))}}return n;case 0:return Cf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Cs(o,n.pendingProps),Xp(e,n,o,h,s);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,tf(e,n),Fo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,pr(n,Te,o),o!==f.cache&&Yh(n,[Te],s,!0),Go(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Jp(e,n,o,s);break t}else if(o!==h){h=Cn(Error(a(424)),n),Po(h),n=Jp(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=Mn(e.firstChild),je=n,Ut=!0,mr=null,On=!0,s=Fg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Es(),o===h){n=zi(e,n,s);break t}He(e,n,o,s)}n=n.child}return n;case 26:return Ku(e,n),e===null?(s=h_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ut||(s=n.type,e=n.pendingProps,o=cc(wt.current).createElement(s),o[_e]=n,o[Me]=e,Ge(o,s,e),ve(o),n.stateNode=o):n.memoizedState=h_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ts(n),e===null&&Ut&&(o=n.stateNode=l_(n.type,n.pendingProps,wt.current),je=n,On=!0,h=ne,Dr(n.type)?(md=h,ne=Mn(o.firstChild)):ne=h),He(e,n,n.pendingProps.children,s),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=ne)&&(o=JA(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,je=n,ne=Mn(o.firstChild),On=!1,h=!0):h=!1),h||gr(n)),ts(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,ud(h,f)?o=null:g!==null&&ud(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=lf(e,n,hA,null,null,s),hl._currentValue=h),Ku(e,n),He(e,n,o,s),n.child;case 6:return e===null&&Ut&&((e=s=ne)&&(s=ZA(s,n.pendingProps,On),s!==null?(n.stateNode=s,je=n,ne=null,e=!0):e=!1),e||gr(n)),null;case 13:return Zp(e,n,s);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Rs(n,null,o,s):He(e,n,o,s),n.child;case 11:return qp(e,n,n.type,n.pendingProps,s);case 7:return He(e,n,n.pendingProps,s),n.child;case 8:return He(e,n,n.pendingProps.children,s),n.child;case 12:return He(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,pr(n,n.type,o.value),He(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,As(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,s),n.child;case 14:return Hp(e,n,n.type,n.pendingProps,s);case 15:return Gp(e,n,n.type,n.pendingProps,s);case 19:return Wp(e,n,s);case 31:return vA(e,n,s);case 22:return Fp(e,n,s,n.pendingProps);case 24:return As(n),o=qe(Te),e===null?(h=Zh(),h===null&&(h=Wt,f=Xh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Wh(n),pr(n,Te,h)):((e.lanes&s)!==0&&(tf(e,n),Fo(n,null,null,s),Go()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),pr(n,Te,o)):(o=f.cache,pr(n,Te,o),o!==h.cache&&Yh(n,[Te],s,!0))),He(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(e){e.flags|=4}function Lf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Iy())e.flags|=8192;else throw ws=Vu,$h}else e.flags&=-16777217}function ey(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!p_(n))if(Iy())e.flags|=8192;else throw ws=Vu,$h}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?eu():536870912,e.lanes|=n,Ca|=n)}function Zo(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function TA(e,n,s){var o=n.pendingProps;switch(Hh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(Te),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ga(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fh())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(ie(n),ey(n,f)):(ie(n),Lf(n,h,null,o,s))):f?f!==e.memoizedState?(Bi(n),ie(n),ey(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(n),ie(n),Lf(n,h,e,o,s)),null;case 27:if(Ks(n),s=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}e=st.current,ga(n)?xg(n):(e=l_(h,o,s),n.stateNode=e,Bi(n))}return ie(n),null;case 5:if(Ks(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(f=st.current,ga(n))xg(n);else{var g=cc(wt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[_e]=n,f[Me]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(n)}}return ie(n),Lf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,ga(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Zy(e.nodeValue,s)),e||gr(n,!0)}else e=cc(e).createTextNode(o),e[_e]=n,n.stateNode=e}return ie(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ga(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[_e]=n}else Es(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else s=Fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ga(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_e]=n}else Es(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Xu(n,n.updateQueue),ie(n),null);case 4:return se(),e===null&&rd(n.stateNode.containerInfo),ie(n),null;case 10:return Li(n.type),ie(n),null;case 19:if(Q(de),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Zo(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,Zo(o,!1),e=f.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Dg(s,e),s=s.sibling;return nt(de,de.current&1|2),Ut&&xi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>tc&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),Zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return ie(n),null}else 2*We()-o.renderingStartTime>tc&&s!==536870912&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,s=de.current,nt(de,h?s&1|2:s&1),Ut&&xi(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return yn(n),sf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),s=n.updateQueue,s!==null&&Xu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Q(Ss),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Li(Te),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function AA(e,n){switch(Hh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Te),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ks(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));Es()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Es()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(de),null;case 4:return se(),null;case 10:return Li(n.type),null;case 22:case 23:return yn(n),sf(),e!==null&&Q(Ss),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Te),null;case 25:return null;default:return null}}function ny(e,n){switch(Hh(n),n.tag){case 3:Li(Te),se();break;case 26:case 27:case 5:Ks(n);break;case 4:se();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:Q(de);break;case 10:Li(n.type);break;case 22:case 23:yn(n),sf(),e!==null&&Q(Ss);break;case 24:Li(Te)}}function $o(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Kt(n,n.return,E)}}function Ar(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=s,P=E;try{P()}catch(G){Kt(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){Kt(n,n.return,G)}}function iy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Kg(n,s)}catch(o){Kt(e,e.return,o)}}}function ry(e,n,s){s.props=Cs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Kt(e,n,o)}}function Wo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Kt(e,n,h)}}function Ei(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Kt(e,n,h)}else s.current=null}function sy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Kt(e,e.return,h)}}function kf(e,n,s){try{var o=e.stateNode;GA(o,e.type,s,n),o[Me]=n}catch(h){Kt(e,e.return,h)}}function ay(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Dr(e.type)||e.tag===4}function Pf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Bn));else if(o!==4&&(o===27&&Dr(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(zf(e,n,s),e=e.sibling;e!==null;)zf(e,n,s),e=e.sibling}function Ju(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Dr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ju(e,n,s),e=e.sibling;e!==null;)Ju(e,n,s),e=e.sibling}function oy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,s),n[_e]=e,n[Me]=s}catch(f){Kt(e,e.return,f)}}var ji=!1,be=!1,Bf=!1,ly=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function SA(e,n){if(e=e.containerInfo,od=yc,e=Eg(e),Vh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,P=0,G=0,K=e,z=null;e:for(;;){for(var j;K!==s||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(R=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(j=K.firstChild)!==null;)z=K,K=j;for(;;){if(K===e)break e;if(z===s&&++P===h&&(E=g),z===f&&++G===o&&(R=g),(j=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=j}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(ld={focusedElem:e,selectionRange:s},yc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=Cs(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Kt(s,s.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)hd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function uy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(e,s),o&4&&$o(5,s);break;case 1:if(Hi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Kt(s,s.return,g)}else{var h=Cs(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(s,s.return,g)}}o&64&&iy(s),o&512&&Wo(s,s.return);break;case 3:if(Hi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Kg(e,n)}catch(g){Kt(s,s.return,g)}}break;case 27:n===null&&o&4&&oy(s);case 26:case 5:Hi(e,s),n===null&&o&4&&sy(s),o&512&&Wo(s,s.return);break;case 12:Hi(e,s);break;case 31:Hi(e,s),o&4&&fy(e,s);break;case 13:Hi(e,s),o&4&&dy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=VA.bind(null,s),$A(e,s))));break;case 22:if(o=s.memoizedState!==null||ji,!o){n=n!==null&&n.memoizedState!==null||be,h=ji;var f=be;ji=o,(be=n)&&!f?Gi(e,s,(s.subtreeFlags&8772)!==0):Hi(e,s),ji=h,be=f}break;case 30:break;default:Hi(e,s)}}function cy(e){var n=e.alternate;n!==null&&(e.alternate=null,cy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&$s(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,sn=!1;function qi(e,n,s){for(s=s.child;s!==null;)hy(e,n,s),s=s.sibling}function hy(e,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Ln,s)}catch{}switch(s.tag){case 26:be||Ei(s,n),qi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:be||Ei(s,n);var o=oe,h=sn;Dr(s.type)&&(oe=s.stateNode,sn=!1),qi(e,n,s),ll(s.stateNode),oe=o,sn=h;break;case 5:be||Ei(s,n);case 6:if(o=oe,h=sn,oe=null,qi(e,n,s),oe=o,sn=h,oe!==null)if(sn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(s.stateNode)}catch(f){Kt(s,n,f)}else try{oe.removeChild(s.stateNode)}catch(f){Kt(s,n,f)}break;case 18:oe!==null&&(sn?(e=oe,i_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),La(e)):i_(oe,s.stateNode));break;case 4:o=oe,h=sn,oe=s.stateNode.containerInfo,sn=!0,qi(e,n,s),oe=o,sn=h;break;case 0:case 11:case 14:case 15:Ar(2,s,n),be||Ar(4,s,n),qi(e,n,s);break;case 1:be||(Ei(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ry(s,n,o)),qi(e,n,s);break;case 21:qi(e,n,s);break;case 22:be=(o=be)||s.memoizedState!==null,qi(e,n,s),be=o;break;default:qi(e,n,s)}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{La(e)}catch(s){Kt(n,n.return,s)}}}function dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{La(e)}catch(s){Kt(n,n.return,s)}}function bA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ly),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ly),n;default:throw Error(a(435,e.tag))}}function Zu(e,n){var s=bA(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=MA.bind(null,e,o);o.then(h,h)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Dr(E.type)){oe=E.stateNode,sn=!1;break t}break;case 5:oe=E.stateNode,sn=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(oe===null)throw Error(a(160));hy(f,g,h),oe=null,sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)my(n,e),n=n.sibling}var Qn=null;function my(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(Ar(3,e,e.return),$o(3,e),Ar(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(be||s===null||Ei(s,s.return)),o&64&&ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Qn;if(an(n,e),on(e),o&512&&(be||s===null||Ei(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ai]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,s),f[_e]=e,ve(f),o=f;break t;case"link":var g=m_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,s),h.head.appendChild(f);break;case"meta":if(g=m_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else g_(h,e.type,e.stateNode);else e.stateNode=d_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?g_(h,e.type,e.stateNode):d_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&kf(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(be||s===null||Ei(s,s.return)),s!==null&&o&4&&kf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(be||s===null||Ei(s,s.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(at){Kt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,kf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Bf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){Kt(e,e.return,at)}}break;case 3:if(dc=null,h=Qn,Qn=hc(n.containerInfo),an(n,e),Qn=h,on(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{La(n.containerInfo)}catch(at){Kt(e,e.return,at)}Bf&&(Bf=!1,gy(e));break;case 4:o=Qn,Qn=hc(e.stateNode.containerInfo),an(n,e),on(e),Qn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wu=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,P=ji,G=be;if(ji=P||h,be=G||R,an(n,e),be=G,ji=P,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||ji||be||Ds(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(at){Kt(R,R.return,at)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Kt(R,R.return,at)}}}else if(n.tag===18){if(s===null){R=n;try{var j=R.stateNode;h?r_(j,!0):r_(R.stateNode,!1)}catch(at){Kt(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Zu(e,s))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ay(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Pf(e);Ju(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(rn(g,""),s.flags&=-33);var E=Pf(e);Ju(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,P=Pf(e);zf(e,P,R);break;default:throw Error(a(161))}}catch(G){Kt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function gy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;gy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)uy(e,n.alternate,n),n=n.sibling}function Ds(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ar(4,n,n.return),Ds(n);break;case 1:Ei(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ry(n,n.return,s),Ds(n);break;case 27:ll(n.stateNode);case 26:case 5:Ei(n,n.return),Ds(n);break;case 22:n.memoizedState===null&&Ds(n);break;case 30:Ds(n);break;default:Ds(n)}e=e.sibling}}function Gi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,s),$o(4,f);break;case 1:if(Gi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Kt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Qg(R[h],E)}catch(P){Kt(o,o.return,P)}}s&&g&64&&iy(f),Wo(f,f.return);break;case 27:oy(f);case 26:case 5:Gi(h,f,s),s&&o===null&&g&4&&sy(f),Wo(f,f.return);break;case 12:Gi(h,f,s);break;case 31:Gi(h,f,s),s&&g&4&&fy(h,f);break;case 13:Gi(h,f,s),s&&g&4&&dy(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,s),Wo(f,f.return);break;case 30:break;default:Gi(h,f,s)}n=n.sibling}}function jf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&zo(s))}function qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e))}function Kn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(e,n,s,o),n=n.sibling}function py(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n,s,o),h&2048&&$o(9,n);break;case 1:Kn(e,n,s,o);break;case 3:Kn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e)));break;case 12:if(h&2048){Kn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Kt(n,n.return,R)}}else Kn(e,n,s,o);break;case 31:Kn(e,n,s,o);break;case 13:Kn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(e,n,s,o):tl(e,n):f._visibility&2?Kn(e,n,s,o):(f._visibility|=2,wa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&jf(g,n);break;case 24:Kn(e,n,s,o),h&2048&&qf(n.alternate,n);break;default:Kn(e,n,s,o)}}function wa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:wa(f,g,E,R,h),$o(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?wa(f,g,E,R,h):tl(f,g):(G._visibility|=2,wa(f,g,E,R,h)),h&&P&2048&&jf(g.alternate,g);break;case 24:wa(f,g,E,R,h),h&&P&2048&&qf(g.alternate,g);break;default:wa(f,g,E,R,h)}n=n.sibling}}function tl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:tl(s,o),h&2048&&jf(o.alternate,o);break;case 24:tl(s,o),h&2048&&qf(o.alternate,o);break;default:tl(s,o)}n=n.sibling}}var el=8192;function Ra(e,n,s){if(e.subtreeFlags&el)for(e=e.child;e!==null;)yy(e,n,s),e=e.sibling}function yy(e,n,s){switch(e.tag){case 26:Ra(e,n,s),e.flags&el&&e.memoizedState!==null&&cS(s,Qn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e,n,s);break;case 3:case 4:var o=Qn;Qn=hc(e.stateNode.containerInfo),Ra(e,n,s),Qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=el,el=16777216,Ra(e,n,s),el=o):Ra(e,n,s));break;default:Ra(e,n,s)}}function _y(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,Ey(o,e)}_y(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vy(e),e=e.sibling}function vy(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&Ar(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,$u(e)):nl(e);break;default:nl(e)}}function $u(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,Ey(o,e)}_y(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ar(8,n,n.return),$u(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,$u(n));break;default:$u(n)}e=e.sibling}}function Ey(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:Ar(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ue=o;else t:for(s=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(cy(o),o===s){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var wA={getCacheForType:function(e){var n=qe(Te),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(Te).controller.signal}},RA=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Wt=null,It=null,Nt=0,Qt=0,_n=null,Sr=!1,Ia=!1,Hf=!1,Fi=0,ce=0,br=0,Ns=0,Gf=0,vn=0,Ca=0,il=null,ln=null,Ff=!1,Wu=0,Ty=0,tc=1/0,ec=null,wr=null,Oe=0,Rr=null,Da=null,Qi=0,Qf=0,Kf=null,Ay=null,rl=0,Yf=null;function En(){return(Ht&2)!==0&&Nt!==0?Nt&-Nt:q.T!==null?td():nu()}function Sy(){if(vn===0)if((Nt&536870912)===0||Ut){var e=is;is<<=1,(is&3932160)===0&&(is=262144),vn=e}else vn=536870912;return e=pn.current,e!==null&&(e.flags|=32),vn}function un(e,n,s){(e===Wt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Na(e,0),Ir(e,Nt,vn,!1)),rs(e,s),((Ht&2)===0||e!==Wt)&&(e===Wt&&((Ht&2)===0&&(Ns|=s),ce===4&&Ir(e,Nt,vn,!1)),Ti(e))}function by(e,n,s){if((Ht&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||kn(e,n),h=o?DA(e,n):Jf(e,n,!0),f=o;do{if(h===0){Ia&&!o&&Ir(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!IA(s)){h=Jf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=il;var R=E.current.memoizedState.isDehydrated;if(R&&(Na(E,g).flags|=256),g=Jf(E,g,!1),g!==2){if(Hf&&!R){E.errorRecoveryDisabledLanes|=f,Ns|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Na(e,0),Ir(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ir(o,n,vn,!Sr);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Wu+300-We(),10<h)){if(Ir(o,n,vn,!Sr),ii(o,0,!0)!==0)break t;Qi=n,o.timeoutHandle=e_(wy.bind(null,o,s,ln,ec,Ff,n,vn,Ns,Ca,Sr,f,"Throttled",-0,0),h);break t}wy(o,s,ln,ec,Ff,n,vn,Ns,Ca,Sr,f,null,-0,0)}}break}while(!0);Ti(e)}function wy(e,n,s,o,h,f,g,E,R,P,G,K,z,j){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},yy(n,f,K);var at=(f&62914560)===f?Wu-We():(f&4194048)===f?Ty-We():0;if(at=hS(K,at),at!==null){Qi=f,e.cancelPendingCommit=at(My.bind(null,e,n,f,s,o,h,g,E,R,G,K,null,z,j)),Ir(e,f,g,!P);return}}My(e,n,f,s,o,h,g,E,R)}function IA(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ir(e,n,s,o){n&=~Gf,n&=~Ns,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&ss(e,s,n)}function nc(){return(Ht&6)===0?(sl(0),!1):!0}function Xf(){if(It!==null){if(Qt===0)var e=It.return;else e=It,Ui=Ts=null,hf(e),Ea=null,jo=0,e=It;for(;e!==null;)ny(e.alternate,e),e=e.return;It=null}}function Na(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,KA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Qi=0,Xf(),Wt=e,It=s=Mi(e.current,null),Nt=n,Qt=0,_n=null,Sr=!1,Ia=kn(e,n),Hf=!1,Ca=vn=Gf=Ns=br=ce=0,ln=il=null,Ff=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Fi=n,Su(),s}function Ry(e,n){bt=null,q.H=Xo,n===va||n===Ou?(n=qg(),Qt=3):n===$h?(n=qg(),Qt=4):Qt=n===If?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,It===null&&(ce=1,Fu(e,Cn(n,e.current)))}function Iy(){var e=pn.current;return e===null?!0:(Nt&4194048)===Nt?Vn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Vn:!1}function Cy(){var e=q.H;return q.H=Xo,e===null?Xo:e}function Dy(){var e=q.A;return q.A=wA,e}function ic(){ce=4,Sr||(Nt&4194048)!==Nt&&pn.current!==null||(Ia=!0),(br&134217727)===0&&(Ns&134217727)===0||Wt===null||Ir(Wt,Nt,vn,!1)}function Jf(e,n,s){var o=Ht;Ht|=2;var h=Cy(),f=Dy();(Wt!==e||Nt!==n)&&(ec=null,Na(e,n)),n=!1;var g=ce;t:do try{if(Qt!==0&&It!==null){var E=It,R=_n;switch(Qt){case 8:Xf(),g=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var P=Qt;if(Qt=0,_n=null,Oa(e,E,R,P),s&&Ia){g=0;break t}break;default:P=Qt,Qt=0,_n=null,Oa(e,E,R,P)}}CA(),g=ce;break}catch(G){Ry(e,G)}while(!0);return n&&e.shellSuspendCounter++,Ui=Ts=null,Ht=o,q.H=h,q.A=f,It===null&&(Wt=null,Nt=0,Su()),g}function CA(){for(;It!==null;)Ny(It)}function DA(e,n){var s=Ht;Ht|=2;var o=Cy(),h=Dy();Wt!==e||Nt!==n?(ec=null,tc=We()+500,Na(e,n)):Ia=kn(e,n);t:do try{if(Qt!==0&&It!==null){n=It;var f=_n;e:switch(Qt){case 1:Qt=0,_n=null,Oa(e,n,f,1);break;case 2:case 9:if(Bg(f)){Qt=0,_n=null,Oy(n);break}n=function(){Qt!==2&&Qt!==9||Wt!==e||(Qt=7),Ti(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Bg(f)?(Qt=0,_n=null,Oy(n)):(Qt=0,_n=null,Oa(e,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?p_(g):E.stateNode.complete){Qt=0,_n=null;var R=E.sibling;if(R!==null)It=R;else{var P=E.return;P!==null?(It=P,rc(P)):It=null}break e}}Qt=0,_n=null,Oa(e,n,f,5);break;case 6:Qt=0,_n=null,Oa(e,n,f,6);break;case 8:Xf(),ce=6;break t;default:throw Error(a(462))}}NA();break}catch(G){Ry(e,G)}while(!0);return Ui=Ts=null,q.H=o,q.A=h,Ht=s,It!==null?0:(Wt=null,Nt=0,Su(),ce)}function NA(){for(;It!==null&&!wh();)Ny(It)}function Ny(e){var n=ty(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?rc(e):It=n}function Oy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Yp(s,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Yp(s,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:hf(n);default:ny(s,n),n=It=Dg(n,Fi),n=ty(s,n,Fi)}e.memoizedProps=e.pendingProps,n===null?rc(e):It=n}function Oa(e,n,s,o){Ui=Ts=null,hf(n),Ea=null,jo=0;var h=n.return;try{if(_A(e,h,n,s,Nt)){ce=1,Fu(e,Cn(s,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;ce=1,Fu(e,Cn(s,e.current)),It=null;return}n.flags&32768?(Ut||o===1?e=!0:Ia||(Nt&536870912)!==0?e=!1:(Sr=e=!0,(o===2||o===9||o===3||o===6)&&(o=pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Vy(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){Vy(n,Sr);return}e=n.return;var s=TA(n.alternate,n,Fi);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ce===0&&(ce=5)}function Vy(e,n){do{var s=AA(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);ce=6,It=null}function My(e,n,s,o,h,f,g,E,R){e.cancelPendingCommit=null;do sc();while(Oe!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=kh,Ch(e,s,f,g,E,R),e===Wt&&(It=Wt=null,Nt=0),Da=n,Rr=e,Qi=s,Qf=f,Kf=h,Ay=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xA(ir,function(){return Py(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=$.p,$.p=2,g=Ht,Ht|=4;try{SA(e,n,s)}finally{Ht=g,$.p=h,q.T=o}}Oe=1,xy(),Uy(),Ly()}}function xy(){if(Oe===1){Oe=0;var e=Rr,n=Da,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var o=$.p;$.p=2;var h=Ht;Ht|=4;try{my(n,e);var f=ld,g=Eg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&vg(E.ownerDocument.documentElement,E)){if(R!==null&&Vh(E)){var P=R.start,G=R.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var j=z.getSelection(),at=E.textContent.length,dt=Math.min(R.start,at),$t=R.end===void 0?dt:Math.min(R.end,at);!j.extend&&dt>$t&&(g=$t,$t=dt,dt=g);var x=_g(E,dt),V=_g(E,$t);if(x&&V&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==V.node||j.focusOffset!==V.offset)){var k=K.createRange();k.setStart(x.node,x.offset),j.removeAllRanges(),dt>$t?(j.addRange(k),j.extend(V.node,V.offset)):(k.setEnd(V.node,V.offset),j.addRange(k))}}}}for(K=[],j=E;j=j.parentNode;)j.nodeType===1&&K.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var F=K[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}yc=!!od,ld=od=null}finally{Ht=h,$.p=o,q.T=s}}e.current=n,Oe=2}}function Uy(){if(Oe===2){Oe=0;var e=Rr,n=Da,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var o=$.p;$.p=2;var h=Ht;Ht|=4;try{uy(e,n.alternate,n)}finally{Ht=h,$.p=o,q.T=s}}Oe=3}}function Ly(){if(Oe===4||Oe===3){Oe=0,Xl();var e=Rr,n=Da,s=Qi,o=Ay;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Da=Rr=null,ky(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(wr=null),Di(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=$.p,$.p=2,q.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{q.T=n,$.p=h}}(Qi&3)!==0&&sc(),Ti(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Yf?rl++:(rl=0,Yf=e):rl=0,sl(0)}}function ky(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zo(n)))}function sc(){return xy(),Uy(),Ly(),Py()}function Py(){if(Oe!==5)return!1;var e=Rr,n=Qf;Qf=0;var s=Di(Qi),o=q.T,h=$.p;try{$.p=32>s?32:s,q.T=null,s=Kf,Kf=null;var f=Rr,g=Qi;if(Oe=0,Da=Rr=null,Qi=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,vy(f.current),py(f,f.current,g,s),Ht=E,sl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{$.p=h,q.T=o,ky(e,n)}}function zy(e,n,s){n=Cn(s,n),n=Rf(e.stateNode,n,2),e=vr(e,n,2),e!==null&&(rs(e,2),Ti(e))}function Kt(e,n,s){if(e.tag===3)zy(e,e,s);else for(;n!==null;){if(n.tag===3){zy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(wr===null||!wr.has(o))){e=Cn(s,e),s=Bp(2),o=vr(n,s,2),o!==null&&(jp(s,o,n,e),rs(o,2),Ti(o));break}}n=n.return}}function Zf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new RA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Hf=!0,h.add(s),e=OA.bind(null,e,n,s),n.then(e,e))}function OA(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Wt===e&&(Nt&s)===s&&(ce===4||ce===3&&(Nt&62914560)===Nt&&300>We()-Wu?(Ht&2)===0&&Na(e,0):Gf|=s,Ca===Nt&&(Ca=0)),Ti(e)}function By(e,n){n===0&&(n=eu()),e=_s(e,n),e!==null&&(rs(e,n),Ti(e))}function VA(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),By(e,s)}function MA(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),By(e,s)}function xA(e,n){return Ne(e,n)}var ac=null,Va=null,$f=!1,oc=!1,Wf=!1,Cr=0;function Ti(e){e!==Va&&e.next===null&&(Va===null?ac=Va=e:Va=Va.next=e),oc=!0,$f||($f=!0,LA())}function sl(e,n){if(!Wf&&oc){Wf=!0;do for(var s=!1,o=ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Gy(o,f))}else f=Nt,f=ii(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||kn(o,f)||(s=!0,Gy(o,f));o=o.next}while(s);Wf=!1}}function UA(){jy()}function jy(){oc=$f=!1;var e=0;Cr!==0&&QA()&&(e=Cr);for(var n=We(),s=null,o=ac;o!==null;){var h=o.next,f=qy(o,n);f===0?(o.next=null,s===null?ac=h:s.next=h,h===null&&(Va=s)):(s=o,(e!==0||(f&3)!==0)&&(oc=!0)),o=h}Oe!==0&&Oe!==5||sl(e),Cr!==0&&(Cr=0)}function qy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,R=h[g];R===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Ih(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,s=Nt,s=ii(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&nr(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||kn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&nr(o),Di(s)){case 2:case 8:s=go;break;case 32:s=ir;break;case 268435456:s=Jl;break;default:s=ir}return o=Hy.bind(null,e),s=Ne(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&nr(o),e.callbackPriority=2,e.callbackNode=null,2}function Hy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(sc()&&e.callbackNode!==s)return null;var o=Nt;return o=ii(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(by(e,o,n),qy(e,We()),e.callbackNode!=null&&e.callbackNode===s?Hy.bind(null,e):null)}function Gy(e,n){if(sc())return null;by(e,n,!0)}function LA(){YA(function(){(Ht&6)!==0?Ne(mo,UA):jy()})}function td(){if(Cr===0){var e=ya;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Cr=e}return Cr}function Fy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:na(""+e)}function Qy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function kA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Fy((h[Me]||null).action),g=o.submitter;g&&(n=(n=g[Me]||null)?Fy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new mi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Cr!==0){var R=g?Qy(h,g):new FormData(h);Ef(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Qy(h,g):new FormData(h),Ef(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ed=0;ed<Lh.length;ed++){var nd=Lh[ed],PA=nd.toLowerCase(),zA=nd[0].toUpperCase()+nd.slice(1);Fn(PA,"on"+zA)}Fn(Sg,"onAnimationEnd"),Fn(bg,"onAnimationIteration"),Fn(wg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(eA,"onTransitionRun"),Fn(nA,"onTransitionStart"),Fn(iA,"onTransitionCancel"),Fn(Rg,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Ky(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(G){Au(G)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(G){Au(G)}h.currentTarget=null,f=R}}}}function Ct(e,n){var s=n[Zs];s===void 0&&(s=n[Zs]=new Set);var o=e+"__bubble";s.has(o)||(Yy(n,e,2,!1),s.add(o))}function id(e,n,s){var o=0;n&&(o|=4),Yy(s,e,o,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function rd(e){if(!e[lc]){e[lc]=!0,_o.forEach(function(s){s!=="selectionchange"&&(BA.has(s)||id(s,!1,e),id(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lc]||(n[lc]=!0,id("selectionchange",!1,n))}}function Yy(e,n,s,o){switch(S_(n)){case 2:var h=mS;break;case 8:h=gS;break;default:h=vd}s=h.bind(null,n,s,e),h=void 0,!cs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function sd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=oi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}ur(function(){var P=f,G=bn(s),K=[];t:{var z=Ig.get(e);if(z!==void 0){var j=mi,at=e;switch(e){case"keypress":if(fs(s)===0)break t;case"keydown":case"keyup":j=vu;break;case"focusin":at="focus",j=ms;break;case"focusout":at="blur",j=ms;break;case"beforeblur":case"afterblur":j=ms;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case Sg:case bg:case wg:j=fu;break;case Rg:j=A;break;case"scroll":case"scrollend":j=No;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Vi;break;case"toggle":case"beforetoggle":j=St}var dt=(n&4)!==0,$t=!dt&&(e==="scroll"||e==="scrollend"),x=dt?z!==null?z+"Capture":null:z;dt=[];for(var V=P,k;V!==null;){var F=V;if(k=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||k===null||x===null||(F=jn(V,x),F!=null&&dt.push(ol(V,F,k))),$t)break;V=V.return}0<dt.length&&(z=new j(z,at,null,s,G),K.push({event:z,listeners:dt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&s!==Io&&(at=s.relatedTarget||s.fromElement)&&(oi(at)||at[si]))break t;if((j||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,j?(at=s.relatedTarget||s.toElement,j=P,at=at?oi(at):null,at!==null&&($t=c(at),dt=at.tag,at!==$t||dt!==5&&dt!==27&&dt!==6)&&(at=null)):(j=null,at=P),j!==at)){if(dt=Oo,F="onMouseLeave",x="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Vi,F="onPointerLeave",x="onPointerEnter",V="pointer"),$t=j==null?z:fn(j),k=at==null?z:fn(at),z=new dt(F,V+"leave",j,s,G),z.target=$t,z.relatedTarget=k,F=null,oi(G)===P&&(dt=new dt(x,V+"enter",at,s,G),dt.target=k,dt.relatedTarget=$t,F=dt),$t=F,j&&at)e:{for(dt=jA,x=j,V=at,k=0,F=x;F;F=dt(F))k++;F=0;for(var ct=V;ct;ct=dt(ct))F++;for(;0<k-F;)x=dt(x),k--;for(;0<F-k;)V=dt(V),F--;for(;k--;){if(x===V||V!==null&&x===V.alternate){dt=x;break e}x=dt(x),V=dt(V)}dt=null}else dt=null;j!==null&&Xy(K,z,j,dt,!1),at!==null&&$t!==null&&Xy(K,$t,at,dt,!0)}}t:{if(z=P?fn(P):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var zt=fg;else if(cg(z))if(dg)zt=$0;else{zt=J0;var ut=X0}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ea(P.elementType)&&(zt=fg):zt=Z0;if(zt&&(zt=zt(e,P))){hg(K,zt,s,G);break t}ut&&ut(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&bo(z,"number",z.value)}switch(ut=P?fn(P):window,e){case"focusin":(cg(ut)||ut.contentEditable==="true")&&(ua=ut,Mh=P,Lo=null);break;case"focusout":Lo=Mh=ua=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,Tg(K,s,G);break;case"selectionchange":if(tA)break;case"keydown":case"keyup":Tg(K,s,G)}var Rt;if(qt)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else la?gs(e,s)&&(Ot="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ot="onCompositionStart");Ot&&(yi&&s.locale!=="ko"&&(la||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&la&&(Rt=Do()):(di=G,Co="value"in di?di.value:di.textContent,la=!0)),ut=uc(P,Ot),0<ut.length&&(Ot=new pi(Ot,e,null,s,G),K.push({event:Ot,listeners:ut}),Rt?Ot.data=Rt:(Rt=oa(s),Rt!==null&&(Ot.data=Rt)))),(Rt=Rn?F0(e,s):Q0(e,s))&&(Ot=uc(P,"onBeforeInput"),0<Ot.length&&(ut=new pi("onBeforeInput","beforeinput",null,s,G),K.push({event:ut,listeners:Ot}),ut.data=Rt)),kA(K,e,P,s,G)}Ky(K,n)})}function ol(e,n,s){return{instance:e,listener:n,currentTarget:s}}function uc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=jn(e,s),h!=null&&o.unshift(ol(e,h,f)),h=jn(e,n),h!=null&&o.push(ol(e,h,f))),e.tag===3)return o;e=e.return}return[]}function jA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=jn(s,f),P!=null&&g.unshift(ol(s,P,R))):h||(P=jn(s,f),P!=null&&g.push(ol(s,P,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var qA=/\r\n?/g,HA=/\u0000|\uFFFD/g;function Jy(e){return(typeof e=="string"?e:""+e).replace(qA,`
`).replace(HA,"")}function Zy(e,n){return n=Jy(n),Jy(e)===n}function Zt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,s,o);break;case"style":Ro(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=na(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=na(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=na(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Ws(e,"popover",o);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ws(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=uu.get(s)||s,Ws(e,s,o))}}function ad(e,n,s,o,h,f){switch(s){case"style":Ro(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Me]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Ws(e,s,o)}}}function Ge(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,f,g,s,null)}}h&&Zt(e,n,"srcSet",s.srcSet,s,null),o&&Zt(e,n,"src",s.src,s,null);return;case"input":Ct("invalid",e);var E=f=g=h=null,R=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":R=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Zt(e,n,o,G,s,null)}}au(e,f,E,R,P,g,h,!1);return;case"select":Ct("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Zt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?sr(e,!!o,n,!1):s!=null&&sr(e,!!o,s,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Zt(e,n,g,E,s,null)}ar(e,o,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Zt(e,n,R,o,s,null));return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<al.length;o++)Ct(al[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,P,o,s,null)}return;default:if(ea(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&ad(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Zt(e,n,E,o,s,null))}function GA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,P=null,G=null;for(j in s){var K=s[j];if(s.hasOwnProperty(j)&&K!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":R=K;default:o.hasOwnProperty(j)||Zt(e,n,j,null,o,K)}}for(var z in o){var j=o[z];if(K=s[z],o.hasOwnProperty(z)&&(j!=null||K!=null))switch(z){case"type":f=j;break;case"name":h=j;break;case"checked":P=j;break;case"defaultChecked":G=j;break;case"value":g=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==K&&Zt(e,n,z,j,o,K)}}ta(e,g,E,R,P,G,f,h);return;case"select":j=g=E=z=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":j=R;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Zt(e,n,h,f,o,R)}n=E,s=g,o=j,z!=null?sr(e,!!s,z,!1):!!o!=!!s&&(n!=null?sr(e,!!s,n,!0):sr(e,!!s,s?[]:"",!1));return;case"textarea":j=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Zt(e,n,g,h,o,f)}ou(e,z,j);return;case"option":for(var at in s)z=s[at],s.hasOwnProperty(at)&&z!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:Zt(e,n,at,null,o,z));for(R in o)z=o[R],j=s[R],o.hasOwnProperty(R)&&z!==j&&(z!=null||j!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Zt(e,n,R,z,o,j));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in s)z=s[dt],s.hasOwnProperty(dt)&&z!=null&&!o.hasOwnProperty(dt)&&Zt(e,n,dt,null,o,z);for(P in o)if(z=o[P],j=s[P],o.hasOwnProperty(P)&&z!==j&&(z!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Zt(e,n,P,z,o,j)}return;default:if(ea(n)){for(var $t in s)z=s[$t],s.hasOwnProperty($t)&&z!==void 0&&!o.hasOwnProperty($t)&&ad(e,n,$t,void 0,o,z);for(G in o)z=o[G],j=s[G],!o.hasOwnProperty(G)||z===j||z===void 0&&j===void 0||ad(e,n,G,z,o,j);return}}for(var x in s)z=s[x],s.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Zt(e,n,x,null,o,z);for(K in o)z=o[K],j=s[K],!o.hasOwnProperty(K)||z===j||z==null&&j==null||Zt(e,n,K,z,o,j)}function $y(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function FA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&$y(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],P=R.startTime;if(P>E)break;var G=R.transferSize,K=R.initiatorType;G&&$y(K)&&(R=R.responseEnd,g+=G*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var od=null,ld=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function Wy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ud(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cd=null;function QA(){var e=window.event;return e&&e.type==="popstate"?e===cd?!1:(cd=e,!0):(cd=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,KA=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,YA=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(e){return n_.resolve(null).then(e).catch(XA)}:e_;function XA(e){setTimeout(function(){throw e})}function Dr(e){return e==="head"}function i_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),La(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ll(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ll(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ll(e.ownerDocument.body);s=h}while(s);La(n)}function r_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function hd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":hd(s),$s(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function JA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function ZA(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Mn(e.nextSibling),e===null))return null;return e}function s_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mn(e.nextSibling),e===null))return null;return e}function fd(e){return e.data==="$?"||e.data==="$~"}function dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $A(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var md=null;function a_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Mn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function o_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function l_(e,n,s){switch(n=cc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);$s(e)}var xn=new Map,u_=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=$.d;$.d={f:WA,r:tS,D:eS,C:nS,L:iS,m:rS,X:aS,S:sS,M:oS};function WA(){var e=Ki.f(),n=nc();return e||n}function tS(e){var n=Sn(e);n!==null&&n.tag===5&&n.type==="form"?Rp(n):Ki.r(e)}var Ma=typeof document>"u"?null:document;function c_(e,n,s){var o=Ma;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),u_.has(h)||(u_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),ve(n),o.head.appendChild(n)))}}function eS(e){Ki.D(e),c_("dns-prefetch",e,null)}function nS(e,n){Ki.C(e,n),c_("preconnect",e,n)}function iS(e,n,s){Ki.L(e,n,s);var o=Ma;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=xa(e);break;case"script":f=Ua(e)}xn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),xn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ul(f))||n==="script"&&o.querySelector(cl(f))||(n=o.createElement("link"),Ge(n,"link",e),ve(n),o.head.appendChild(n)))}}function rS(e,n){Ki.m(e,n);var s=Ma;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ua(e)}if(!xn.has(f)&&(e=b({rel:"modulepreload",href:e},n),xn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(cl(f)))return}o=s.createElement("link"),Ge(o,"link",e),ve(o),s.head.appendChild(o)}}}function sS(e,n,s){Ki.S(e,n,s);var o=Ma;if(o&&e){var h=li(o).hoistableStyles,f=xa(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ul(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=xn.get(f))&&gd(e,s);var R=g=o.createElement("link");ve(R),Ge(R,"link",e),R._p=new Promise(function(P,G){R.onload=P,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function aS(e,n){Ki.X(e,n);var s=Ma;if(s&&e){var o=li(s).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(e=b({src:e,async:!0},n),(n=xn.get(h))&&pd(e,n),f=s.createElement("script"),ve(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function oS(e,n){Ki.M(e,n);var s=Ma;if(s&&e){var o=li(s).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=xn.get(h))&&pd(e,n),f=s.createElement("script"),ve(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function h_(e,n,s,o){var h=(h=wt.current)?hc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=xa(s.href),s=li(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=xa(s.href);var f=li(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ul(e)))&&!f._p&&(g.instance=f,g.state.loading=5),xn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},xn.set(e,s),f||lS(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ua(s),s=li(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function xa(e){return'href="'+nn(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function f_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function lS(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",s),ve(n),e.head.appendChild(n))}function Ua(e){return'[src="'+nn(e)+'"]'}function cl(e){return"script[async]"+e}function d_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,ve(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),Ge(o,"style",h),fc(o,s.precedence,e),n.instance=o;case"stylesheet":h=xa(s.href);var f=e.querySelector(ul(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=f_(s),(h=xn.get(h))&&gd(o,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ge(f,"link",o),n.state.loading|=4,fc(f,s.precedence,e),n.instance=f;case"script":return f=Ua(s.src),(h=e.querySelector(cl(f)))?(n.instance=h,ve(h),h):(o=s,(h=xn.get(f))&&(o=b({},s),pd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,fc(o,s.precedence,e));return n.instance}function fc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dc=null;function m_(e,n,s){if(dc===null){var o=new Map,h=dc=new Map;h.set(s,o)}else h=dc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ai]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function g_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function uS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function p_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function cS(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=xa(o.href),f=n.querySelector(ul(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ve(f);return}f=n.ownerDocument||n,o=f_(o),(h=xn.get(h))&&gd(o,h),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ge(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=mc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var yd=0;function hS(e,n){return e.stylesheets&&e.count===0&&pc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&yd===0&&(yd=62500*FA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>yd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function pc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,n.forEach(fS,e),gc=null,mc.call(e))}function fS(e,n){if(!(n.state.loading&4)){var s=gc.get(e);if(s)var o=s.get(null);else{s=new Map,gc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=mc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var hl={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function dS(e,n,s,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function y_(e,n,s,o,h,f,g,E,R,P,G,K){return e=new dS(e,n,s,g,R,P,G,K,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=Xh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Wh(f),e}function __(e){return e?(e=fa,e):fa}function v_(e,n,s,o,h,f){h=__(h),o.context===null?o.context=h:o.pendingContext=h,o=_r(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=vr(e,o,n),s!==null&&(un(s,e,n),Ho(s,e,n))}function E_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function _d(e,n){E_(e,n),(e=e.alternate)&&E_(e,n)}function T_(e){if(e.tag===13||e.tag===31){var n=_s(e,67108864);n!==null&&un(n,e,67108864),_d(e,67108864)}}function A_(e){if(e.tag===13||e.tag===31){var n=En();n=as(n);var s=_s(e,n);s!==null&&un(s,e,n),_d(e,n)}}var yc=!0;function mS(e,n,s,o){var h=q.T;q.T=null;var f=$.p;try{$.p=2,vd(e,n,s,o)}finally{$.p=f,q.T=h}}function gS(e,n,s,o){var h=q.T;q.T=null;var f=$.p;try{$.p=8,vd(e,n,s,o)}finally{$.p=f,q.T=h}}function vd(e,n,s,o){if(yc){var h=Ed(o);if(h===null)sd(e,n,o,_c,s),b_(e,o);else if(yS(h,e,n,s,o))o.stopPropagation();else if(b_(e,o),n&4&&-1<pS.indexOf(e)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ni(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-he(g);E.entanglements[1]|=R,g&=~R}Ti(f),(Ht&6)===0&&(tc=We()+500,sl(0))}}break;case 31:case 13:E=_s(f,2),E!==null&&un(E,f,2),nc(),_d(f,2)}if(f=Ed(o),f===null&&sd(e,n,o,_c,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else sd(e,n,o,null,s)}}function Ed(e){return e=bn(e),Td(e)}var _c=null;function Td(e){if(_c=null,e=oi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function S_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ns()){case mo:return 2;case go:return 8;case ir:case Rh:return 32;case Jl:return 268435456;default:return 32}default:return 32}}var Ad=!1,Nr=null,Or=null,Vr=null,fl=new Map,dl=new Map,Mr=[],pS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(e,n){switch(e){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(n.pointerId)}}function ml(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&T_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function yS(e,n,s,o,h){switch(n){case"focusin":return Nr=ml(Nr,e,n,s,o,h),!0;case"dragenter":return Or=ml(Or,e,n,s,o,h),!0;case"mouseover":return Vr=ml(Vr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return fl.set(f,ml(fl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,dl.set(f,ml(dl.get(f)||null,e,n,s,o,h)),!0}return!1}function w_(e){var n=oi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Pn(e.priority,function(){A_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Pn(e.priority,function(){A_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ed(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Io=o,s.target.dispatchEvent(o),Io=null}else return n=Sn(s),n!==null&&T_(n),e.blockedOn=s,!1;n.shift()}return!0}function R_(e,n,s){vc(e)&&s.delete(n)}function _S(){Ad=!1,Nr!==null&&vc(Nr)&&(Nr=null),Or!==null&&vc(Or)&&(Or=null),Vr!==null&&vc(Vr)&&(Vr=null),fl.forEach(R_),dl.forEach(R_)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,Ad||(Ad=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_S)))}var Tc=null;function I_(e){Tc!==e&&(Tc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Td(o||s)===null)continue;break}var f=Sn(s);f!==null&&(e.splice(n,3),n-=3,Ef(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function La(e){function n(R){return Ec(R,e)}Nr!==null&&Ec(Nr,e),Or!==null&&Ec(Or,e),Vr!==null&&Ec(Vr,e),fl.forEach(n),dl.forEach(n);for(var s=0;s<Mr.length;s++){var o=Mr[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Mr.length&&(s=Mr[0],s.blockedOn===null);)w_(s),s.blockedOn===null&&Mr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Me]||null;if(typeof f=="function")g||I_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Me]||null)E=g.formAction;else if(Td(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),I_(s)}}}function C_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Sd(e){this._internalRoot=e}Ac.prototype.render=Sd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=En();v_(s,o,e,n,null,null)},Ac.prototype.unmount=Sd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;v_(e.current,2,null,e,null,null),nc(),n[si]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=nu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Mr.length&&n!==0&&n<Mr[s].priority;s++);Mr.splice(s,0,e),s===0&&w_(e)}};var D_=t.version;if(D_!=="19.2.4")throw Error(a(527,D_,"19.2.4"));$.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var vS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Ln=Sc.inject(vS),ze=Sc}catch{}}return pl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Lp,f=kp,g=Pp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=y_(e,1,!1,null,null,s,o,null,h,f,g,C_),e[si]=n.current,rd(e),new Sd(n)},pl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Lp,g=kp,E=Pp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=y_(e,1,!0,n,s??null,o,h,R,f,g,E,C_),n.context=__(null),s=n.current,o=En(),o=as(o),h=_r(o),h.callback=null,vr(s,h,o),s=o,n.current.lanes=s,rs(n,s),Ti(n),e[si]=n.current,rd(e),new Ac(n)},pl.version="19.2.4",pl}var z_;function NS(){if(z_)return Rd.exports;z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Rd.exports=DS(),Rd.exports}var OS=NS();const VS=SE(OS),MS=()=>{};var B_={};const bE=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},xS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},wE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,T=c>>2,b=(c&3)<<4|p>>4;let D=(p&15)<<2|y>>6,H=y&63;_||(H=64,d||(D=64)),a.push(i[T],i[b],i[D],i[H])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(bE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):xS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||b==null)throw new US;const D=c<<2|p>>4;if(a.push(D),y!==64){const H=p<<4&240|y>>2;if(a.push(H),b!==64){const Z=y<<6&192|b;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class US extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LS=function(r){const t=bE(r);return wE.encodeByteArray(t,!0)},qc=function(r){return LS(r).replace(/\./g,"")},RE=function(r){try{return wE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function kS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const PS=()=>kS().__FIREBASE_DEFAULTS__,zS=()=>{if(typeof process>"u"||typeof B_>"u")return;const r=B_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},BS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&RE(r[1]);return t&&JSON.parse(t)},ah=()=>{try{return MS()||PS()||zS()||BS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},IE=r=>ah()?.emulatorHosts?.[r],jS=r=>{const t=IE(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},CE=()=>ah()?.config,DE=r=>ah()?.[`_${r}`];class qS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function no(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function NE(r){return(await fetch(r,{credentials:"include"})).ok}function HS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const Al={};function GS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Al))Al[t]?r.emulator.push(t):r.prod.push(t);return r}function FS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let j_=!1;function OE(r,t){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||Al[r]===t||Al[r]||j_)return;Al[r]=t;function i(D){return`__firebase__banner__${D}`}const a="__firebase__banner",c=GS().prod.length>0;function d(){const D=document.getElementById(a);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function _(D,H){D.setAttribute("width","24"),D.setAttribute("id",H),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{j_=!0,d()},D}function T(D,H){D.setAttribute("id",H),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function b(){const D=FS(a),H=i("text"),Z=document.getElementById(H)||document.createElement("span"),et=i("learnmore"),J=document.getElementById(et)||document.createElement("a"),ft=i("preprendIcon"),gt=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const _t=D.element;p(_t),T(J,et);const jt=y();_(gt,ft),_t.append(gt,Z,J,jt),document.body.appendChild(_t)}c?(Z.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function KS(){const r=ah()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function JS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZS(){const r=$e();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function $S(){return!KS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WS(){try{return typeof indexedDB=="object"}catch{return!1}}function t1(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const e1="FirebaseError";class er extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=e1,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?n1(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new er(l,p,a)}}function n1(r,t){return r.replace(i1,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const i1=/\{\$([^}]+)}/g;function r1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ps(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(q_(c)&&q_(d)){if(!Ps(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function q_(r){return r!==null&&typeof r=="object"}function zl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function s1(r,t){const i=new a1(r,t);return i.subscribe.bind(i)}class a1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");o1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Nd),l.error===void 0&&(l.error=Nd),l.complete===void 0&&(l.complete=Nd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function o1(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Nd(){}function Pe(r){return r&&r._delegate?r._delegate:r}class zs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Vs="[DEFAULT]";class l1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new qS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(c1(t))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Vs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vs){return this.instances.has(t)}getOptions(t=Vs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:u1(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Vs){return this.component?this.component.multipleInstances?t:Vs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u1(r){return r===Vs?void 0:r}function c1(r){return r.instantiationMode==="EAGER"}class h1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new l1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const f1={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},d1=Vt.INFO,m1={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},g1=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=m1[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gm{constructor(t){this.name=t,this._logLevel=d1,this._logHandler=g1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?f1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const p1=(r,t)=>t.some(i=>r instanceof i);let H_,G_;function y1(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _1(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VE=new WeakMap,Hd=new WeakMap,ME=new WeakMap,Od=new WeakMap,pm=new WeakMap;function v1(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Br(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&VE.set(i,r)}).catch(()=>{}),pm.set(t,r),t}function E1(r){if(Hd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Hd.set(r,t)}let Gd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Hd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||ME.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Br(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function T1(r){Gd=r(Gd)}function A1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Vd(this),t,...i);return ME.set(a,t.sort?t.sort():[t]),Br(a)}:_1().includes(r)?function(...t){return r.apply(Vd(this),t),Br(VE.get(this))}:function(...t){return Br(r.apply(Vd(this),t))}}function S1(r){return typeof r=="function"?A1(r):(r instanceof IDBTransaction&&E1(r),p1(r,y1())?new Proxy(r,Gd):r)}function Br(r){if(r instanceof IDBRequest)return v1(r);if(Od.has(r))return Od.get(r);const t=S1(r);return t!==r&&(Od.set(r,t),pm.set(t,r)),t}const Vd=r=>pm.get(r);function b1(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Br(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Br(d.result),_.oldVersion,_.newVersion,Br(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const w1=["get","getKey","getAll","getAllKeys","count"],R1=["put","add","delete","clear"],Md=new Map;function F_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Md.get(t))return Md.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=R1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||w1.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Md.set(t,c),c}T1(r=>({...r,get:(t,i,a)=>F_(t,i)||r.get(t,i,a),has:(t,i)=>!!F_(t,i)||r.has(t,i)}));class I1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(C1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function C1(r){return r.getComponent()?.type==="VERSION"}const Fd="@firebase/app",Q_="0.14.8";const Zi=new gm("@firebase/app"),D1="@firebase/app-compat",N1="@firebase/analytics-compat",O1="@firebase/analytics",V1="@firebase/app-check-compat",M1="@firebase/app-check",x1="@firebase/auth",U1="@firebase/auth-compat",L1="@firebase/database",k1="@firebase/data-connect",P1="@firebase/database-compat",z1="@firebase/functions",B1="@firebase/functions-compat",j1="@firebase/installations",q1="@firebase/installations-compat",H1="@firebase/messaging",G1="@firebase/messaging-compat",F1="@firebase/performance",Q1="@firebase/performance-compat",K1="@firebase/remote-config",Y1="@firebase/remote-config-compat",X1="@firebase/storage",J1="@firebase/storage-compat",Z1="@firebase/firestore",$1="@firebase/ai",W1="@firebase/firestore-compat",tb="firebase",eb="12.9.0";const Qd="[DEFAULT]",nb={[Fd]:"fire-core",[D1]:"fire-core-compat",[O1]:"fire-analytics",[N1]:"fire-analytics-compat",[M1]:"fire-app-check",[V1]:"fire-app-check-compat",[x1]:"fire-auth",[U1]:"fire-auth-compat",[L1]:"fire-rtdb",[k1]:"fire-data-connect",[P1]:"fire-rtdb-compat",[z1]:"fire-fn",[B1]:"fire-fn-compat",[j1]:"fire-iid",[q1]:"fire-iid-compat",[H1]:"fire-fcm",[G1]:"fire-fcm-compat",[F1]:"fire-perf",[Q1]:"fire-perf-compat",[K1]:"fire-rc",[Y1]:"fire-rc-compat",[X1]:"fire-gcs",[J1]:"fire-gcs-compat",[Z1]:"fire-fst",[W1]:"fire-fst-compat",[$1]:"fire-vertex","fire-js":"fire-js",[tb]:"fire-js-all"};const Hc=new Map,ib=new Map,Kd=new Map;function K_(r,t){try{r.container.addComponent(t)}catch(i){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ka(r){const t=r.name;if(Kd.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;Kd.set(t,r);for(const i of Hc.values())K_(i,r);for(const i of ib.values())K_(i,r);return!0}function ym(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Yn(r){return r==null?!1:r.settings!==void 0}const rb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new Pl("app","Firebase",rb);class sb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}const io=eb;function xE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Qd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw jr.create("bad-app-name",{appName:String(l)});if(i||(i=CE()),!i)throw jr.create("no-options");const c=Hc.get(l);if(c){if(Ps(i,c.options)&&Ps(a,c.config))return c;throw jr.create("duplicate-app",{appName:l})}const d=new h1(l);for(const _ of Kd.values())d.addComponent(_);const p=new sb(i,a,d);return Hc.set(l,p),p}function UE(r=Qd){const t=Hc.get(r);if(!t&&r===Qd&&CE())return xE();if(!t)throw jr.create("no-app",{appName:r});return t}function qr(r,t,i){let a=nb[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(d.join(" "));return}Ka(new zs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const ab="firebase-heartbeat-database",ob=1,Cl="firebase-heartbeat-store";let xd=null;function LE(){return xd||(xd=b1(ab,ob,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Cl)}catch(i){console.warn(i)}}}}).catch(r=>{throw jr.create("idb-open",{originalErrorMessage:r.message})})),xd}async function lb(r){try{const i=(await LE()).transaction(Cl),a=await i.objectStore(Cl).get(kE(r));return await i.done,a}catch(t){if(t instanceof er)Zi.warn(t.message);else{const i=jr.create("idb-get",{originalErrorMessage:t?.message});Zi.warn(i.message)}}}async function Y_(r,t){try{const a=(await LE()).transaction(Cl,"readwrite");await a.objectStore(Cl).put(t,kE(r)),await a.done}catch(i){if(i instanceof er)Zi.warn(i.message);else{const a=jr.create("idb-set",{originalErrorMessage:i?.message});Zi.warn(a.message)}}}function kE(r){return`${r.name}!${r.options.appId}`}const ub=1024,cb=30;class hb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new db(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=X_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>cb){const l=mb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=X_(),{heartbeatsToSend:i,unsentEntries:a}=fb(this._heartbeatsCache.heartbeats),l=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zi.warn(t),""}}}function X_(){return new Date().toISOString().substring(0,10)}function fb(r,t=ub){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),J_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),J_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class db{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WS()?t1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await lb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function J_(r){return qc(JSON.stringify({version:2,heartbeats:r})).length}function mb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function gb(r){Ka(new zs("platform-logger",t=>new I1(t),"PRIVATE")),Ka(new zs("heartbeat",t=>new hb(t),"PRIVATE")),qr(Fd,Q_,r),qr(Fd,Q_,"esm2020"),qr("fire-js","")}gb("");var pb="firebase",yb="12.9.0";qr(pb,yb,"app");var Z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hr,PE;(function(){var r;function t(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,O,U){for(var S=Array(arguments.length-2),At=2;At<arguments.length;At++)S[At-2]=arguments[At];return w.prototype[O].apply(M,S)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,w,I){I||(I=0);const M=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)M[O]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(O=0;O<16;++O)M[O]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],O=C.g[2];let U=C.g[3],S;S=w+(U^I&(O^U))+M[0]+3614090360&4294967295,w=I+(S<<7&4294967295|S>>>25),S=U+(O^w&(I^O))+M[1]+3905402710&4294967295,U=w+(S<<12&4294967295|S>>>20),S=O+(I^U&(w^I))+M[2]+606105819&4294967295,O=U+(S<<17&4294967295|S>>>15),S=I+(w^O&(U^w))+M[3]+3250441966&4294967295,I=O+(S<<22&4294967295|S>>>10),S=w+(U^I&(O^U))+M[4]+4118548399&4294967295,w=I+(S<<7&4294967295|S>>>25),S=U+(O^w&(I^O))+M[5]+1200080426&4294967295,U=w+(S<<12&4294967295|S>>>20),S=O+(I^U&(w^I))+M[6]+2821735955&4294967295,O=U+(S<<17&4294967295|S>>>15),S=I+(w^O&(U^w))+M[7]+4249261313&4294967295,I=O+(S<<22&4294967295|S>>>10),S=w+(U^I&(O^U))+M[8]+1770035416&4294967295,w=I+(S<<7&4294967295|S>>>25),S=U+(O^w&(I^O))+M[9]+2336552879&4294967295,U=w+(S<<12&4294967295|S>>>20),S=O+(I^U&(w^I))+M[10]+4294925233&4294967295,O=U+(S<<17&4294967295|S>>>15),S=I+(w^O&(U^w))+M[11]+2304563134&4294967295,I=O+(S<<22&4294967295|S>>>10),S=w+(U^I&(O^U))+M[12]+1804603682&4294967295,w=I+(S<<7&4294967295|S>>>25),S=U+(O^w&(I^O))+M[13]+4254626195&4294967295,U=w+(S<<12&4294967295|S>>>20),S=O+(I^U&(w^I))+M[14]+2792965006&4294967295,O=U+(S<<17&4294967295|S>>>15),S=I+(w^O&(U^w))+M[15]+1236535329&4294967295,I=O+(S<<22&4294967295|S>>>10),S=w+(O^U&(I^O))+M[1]+4129170786&4294967295,w=I+(S<<5&4294967295|S>>>27),S=U+(I^O&(w^I))+M[6]+3225465664&4294967295,U=w+(S<<9&4294967295|S>>>23),S=O+(w^I&(U^w))+M[11]+643717713&4294967295,O=U+(S<<14&4294967295|S>>>18),S=I+(U^w&(O^U))+M[0]+3921069994&4294967295,I=O+(S<<20&4294967295|S>>>12),S=w+(O^U&(I^O))+M[5]+3593408605&4294967295,w=I+(S<<5&4294967295|S>>>27),S=U+(I^O&(w^I))+M[10]+38016083&4294967295,U=w+(S<<9&4294967295|S>>>23),S=O+(w^I&(U^w))+M[15]+3634488961&4294967295,O=U+(S<<14&4294967295|S>>>18),S=I+(U^w&(O^U))+M[4]+3889429448&4294967295,I=O+(S<<20&4294967295|S>>>12),S=w+(O^U&(I^O))+M[9]+568446438&4294967295,w=I+(S<<5&4294967295|S>>>27),S=U+(I^O&(w^I))+M[14]+3275163606&4294967295,U=w+(S<<9&4294967295|S>>>23),S=O+(w^I&(U^w))+M[3]+4107603335&4294967295,O=U+(S<<14&4294967295|S>>>18),S=I+(U^w&(O^U))+M[8]+1163531501&4294967295,I=O+(S<<20&4294967295|S>>>12),S=w+(O^U&(I^O))+M[13]+2850285829&4294967295,w=I+(S<<5&4294967295|S>>>27),S=U+(I^O&(w^I))+M[2]+4243563512&4294967295,U=w+(S<<9&4294967295|S>>>23),S=O+(w^I&(U^w))+M[7]+1735328473&4294967295,O=U+(S<<14&4294967295|S>>>18),S=I+(U^w&(O^U))+M[12]+2368359562&4294967295,I=O+(S<<20&4294967295|S>>>12),S=w+(I^O^U)+M[5]+4294588738&4294967295,w=I+(S<<4&4294967295|S>>>28),S=U+(w^I^O)+M[8]+2272392833&4294967295,U=w+(S<<11&4294967295|S>>>21),S=O+(U^w^I)+M[11]+1839030562&4294967295,O=U+(S<<16&4294967295|S>>>16),S=I+(O^U^w)+M[14]+4259657740&4294967295,I=O+(S<<23&4294967295|S>>>9),S=w+(I^O^U)+M[1]+2763975236&4294967295,w=I+(S<<4&4294967295|S>>>28),S=U+(w^I^O)+M[4]+1272893353&4294967295,U=w+(S<<11&4294967295|S>>>21),S=O+(U^w^I)+M[7]+4139469664&4294967295,O=U+(S<<16&4294967295|S>>>16),S=I+(O^U^w)+M[10]+3200236656&4294967295,I=O+(S<<23&4294967295|S>>>9),S=w+(I^O^U)+M[13]+681279174&4294967295,w=I+(S<<4&4294967295|S>>>28),S=U+(w^I^O)+M[0]+3936430074&4294967295,U=w+(S<<11&4294967295|S>>>21),S=O+(U^w^I)+M[3]+3572445317&4294967295,O=U+(S<<16&4294967295|S>>>16),S=I+(O^U^w)+M[6]+76029189&4294967295,I=O+(S<<23&4294967295|S>>>9),S=w+(I^O^U)+M[9]+3654602809&4294967295,w=I+(S<<4&4294967295|S>>>28),S=U+(w^I^O)+M[12]+3873151461&4294967295,U=w+(S<<11&4294967295|S>>>21),S=O+(U^w^I)+M[15]+530742520&4294967295,O=U+(S<<16&4294967295|S>>>16),S=I+(O^U^w)+M[2]+3299628645&4294967295,I=O+(S<<23&4294967295|S>>>9),S=w+(O^(I|~U))+M[0]+4096336452&4294967295,w=I+(S<<6&4294967295|S>>>26),S=U+(I^(w|~O))+M[7]+1126891415&4294967295,U=w+(S<<10&4294967295|S>>>22),S=O+(w^(U|~I))+M[14]+2878612391&4294967295,O=U+(S<<15&4294967295|S>>>17),S=I+(U^(O|~w))+M[5]+4237533241&4294967295,I=O+(S<<21&4294967295|S>>>11),S=w+(O^(I|~U))+M[12]+1700485571&4294967295,w=I+(S<<6&4294967295|S>>>26),S=U+(I^(w|~O))+M[3]+2399980690&4294967295,U=w+(S<<10&4294967295|S>>>22),S=O+(w^(U|~I))+M[10]+4293915773&4294967295,O=U+(S<<15&4294967295|S>>>17),S=I+(U^(O|~w))+M[1]+2240044497&4294967295,I=O+(S<<21&4294967295|S>>>11),S=w+(O^(I|~U))+M[8]+1873313359&4294967295,w=I+(S<<6&4294967295|S>>>26),S=U+(I^(w|~O))+M[15]+4264355552&4294967295,U=w+(S<<10&4294967295|S>>>22),S=O+(w^(U|~I))+M[6]+2734768916&4294967295,O=U+(S<<15&4294967295|S>>>17),S=I+(U^(O|~w))+M[13]+1309151649&4294967295,I=O+(S<<21&4294967295|S>>>11),S=w+(O^(I|~U))+M[4]+4149444226&4294967295,w=I+(S<<6&4294967295|S>>>26),S=U+(I^(w|~O))+M[11]+3174756917&4294967295,U=w+(S<<10&4294967295|S>>>22),S=O+(w^(U|~I))+M[2]+718787259&4294967295,O=U+(S<<15&4294967295|S>>>17),S=I+(U^(O|~w))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(O+(S<<21&4294967295|S>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,M=this.C;let O=this.h,U=0;for(;U<w;){if(O==0)for(;U<=I;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<w;)if(M[O++]=C.charCodeAt(U++),O==this.blockSize){l(this,M),O=0;break}}else for(;U<w;)if(M[O++]=C[U++],O==this.blockSize){l(this,M),O=0;break}}this.h=O,this.o+=w},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[w++]=this.g[I]>>>M&255;return C};function c(C,w){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function d(C,w){this.h=w;const I=[];let M=!0;for(let O=C.length-1;O>=0;O--){const U=C[O]|0;M&&U==w||(I[O]=U,M=!1)}this.g=I}var p={};function _(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return J(y(-C));const w=[];let I=1;for(let M=0;C>=I;M++)w[M]=C/I|0,I*=4294967296;return new d(w,0)}function T(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return J(T(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(w,8));let M=b;for(let U=0;U<C.length;U+=8){var O=Math.min(8,C.length-U);const S=parseInt(C.substring(U,U+O),w);O<8?(O=y(Math.pow(w,O)),M=M.j(O).add(y(S))):(M=M.j(I),M=M.add(y(S)))}return M}var b=_(0),D=_(1),H=_(16777216);r=d.prototype,r.m=function(){if(et(this))return-J(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*w,w*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(et(this))return"-"+J(this).toString(C);const w=y(Math.pow(C,6));var I=this;let M="";for(;;){const O=jt(I,w).g;I=ft(I,O.j(w));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,Z(I))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function et(C){return C.h==-1}r.l=function(C){return C=ft(this,C),et(C)?-1:Z(C)?0:1};function J(C){const w=C.g.length,I=[];for(let M=0;M<w;M++)I[M]=~C.g[M];return new d(I,~C.h).add(D)}r.abs=function(){return et(this)?J(this):this},r.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let O=0;O<=w;O++){let U=M+(this.i(O)&65535)+(C.i(O)&65535),S=(U>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);M=S>>>16,U&=65535,S&=65535,I[O]=S<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ft(C,w){return C.add(J(w))}r.j=function(C){if(Z(this)||Z(C))return b;if(et(this))return et(C)?J(this).j(J(C)):J(J(this).j(C));if(et(C))return J(this.j(J(C)));if(this.l(H)<0&&C.l(H)<0)return y(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var M=0;M<2*w;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<C.g.length;O++){const U=this.i(M)>>>16,S=this.i(M)&65535,At=C.i(O)>>>16,Yt=C.i(O)&65535;I[2*M+2*O]+=S*Yt,gt(I,2*M+2*O),I[2*M+2*O+1]+=U*Yt,gt(I,2*M+2*O+1),I[2*M+2*O+1]+=S*At,gt(I,2*M+2*O+1),I[2*M+2*O+2]+=U*At,gt(I,2*M+2*O+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new d(I,0)};function gt(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function _t(C,w){this.g=C,this.h=w}function jt(C,w){if(Z(w))throw Error("division by zero");if(Z(C))return new _t(b,b);if(et(C))return w=jt(J(C),w),new _t(J(w.g),J(w.h));if(et(w))return w=jt(C,J(w)),new _t(J(w.g),w.h);if(C.g.length>30){if(et(C)||et(w))throw Error("slowDivide_ only works with positive integers.");for(var I=D,M=w;M.l(C)<=0;)I=ee(I),M=ee(M);var O=Lt(I,1),U=Lt(M,1);for(M=Lt(M,2),I=Lt(I,2);!Z(M);){var S=U.add(M);S.l(C)<=0&&(O=O.add(I),U=S),M=Lt(M,1),I=Lt(I,1)}return w=ft(C,O.j(w)),new _t(O,w)}for(O=b;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=y(I),S=U.j(w);et(S)||S.l(C)>0;)I-=M,U=y(I),S=U.j(w);Z(U)&&(U=D),O=O.add(U),C=ft(C,S)}return new _t(O,C)}r.B=function(C){return jt(this,C).h},r.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},r.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},r.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function ee(C){const w=C.g.length+1,I=[];for(let M=0;M<w;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function Lt(C,w){const I=w>>5;w%=32;const M=C.g.length-I,O=[];for(let U=0;U<M;U++)O[U]=w>0?C.i(U+I)>>>w|C.i(U+I+1)<<32-w:C.i(U+I);return new d(O,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,PE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Hr=d}).apply(typeof Z_<"u"?Z_:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zE,_l,BE,Oc,Yd,jE,qE,HE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in v))break t;v=v[L]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,L,B){for(var W=Array(arguments.length-2),St=2;St<arguments.length;St++)W[St-2]=arguments[St];return m.prototype[L].apply(A,W)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function Z(u,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=L[W]}else u.push(L)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,v){const A=_t.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var _t=new et(()=>new jt,u=>u.reset());class jt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,Lt=!1,C=new gt,w=()=>{const u=Promise.resolve(void 0);ee=()=>{u.then(I)}};function I(){for(var u;u=ft();){try{u.h.call(u.g)}catch(v){J(v)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Lt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function S(u){return/^[\s\xa0]*$/.test(u)}function At(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(At,O),At.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&At.Z.h.call(this)},At.prototype.h=function(){At.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Yt="closure_listenable_"+(Math.random()*1e6|0),q=0;function $(u,m,v,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++q,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Dt(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function lt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function N(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)u[v]=A[v];for(let B=0;B<Q.length;B++)v=Q[B],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,A,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=wt(u,m,A,L);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new $(m,this.src,B,!!A,L),m.fa=v,u.push(m)),m};function yt(u,m){const v=m.type;if(v in u.g){var A=u.g[v],L=Array.prototype.indexOf.call(A,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(A,L,1),B&&(ot(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function wt(u,m,v,A){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==A)return L}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),De={};function se(u,m,v,A,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],v,A,L);return null}return v=fo(v),u&&u[Yt]?u.J(m,v,p(A)?!!A.capture:!1,L):ts(u,m,v,!1,A,L)}function ts(u,m,v,A,L,B){if(!m)throw Error("Invalid event type");const W=p(L)?!!L.capture:!!L;let St=es(u);if(St||(u[kt]=St=new st(u)),v=St.add(m,v,A,W,B),v.proxy)return v;if(A=Ks(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)U||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(ti(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ks(){function u(v){return m.call(u.src,u.listener,v)}const m=co;return u}function Ys(u,m,v,A,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ys(u,m[B],v,A,L);else A=p(A)?!!A.capture:!!A,v=fo(v),u&&u[Yt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=wt(m,v,A,L),v>-1&&(ot(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=es(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,v,A,L)),(v=u>-1?m[u]:null)&&Xs(v))}function Xs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Yt])yt(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(ti(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=es(m))?(yt(v,u),v.h==0&&(v.src=null,m[kt]=null)):ot(u)}}}function ti(u){return u in De?De[u]:De[u]="on"+u}function co(u,m){if(u.da)u=!0;else{m=new At(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&Xs(u),u=v.call(A,m)}return u}function es(u){return u=u[kt],u instanceof st?u:null}var ho="__closure_events_fn_"+(Math.random()*1e9>>>0);function fo(u){return typeof u=="function"?u:(u[ho]||(u[ho]=function(m){return u.handleEvent(m)}),u[ho])}function pe(){M.call(this),this.i=new st(this),this.M=this,this.G=null}b(pe,M),pe.prototype[Yt]=!0,pe.prototype.removeEventListener=function(u,m,v,A){Ys(this,u,m,v,A)};function Ne(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var L=m;m=new O(A,u),nt(m,L)}L=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],L=nr(B,A,!0,m)&&L;if(B=m.g=u,L=nr(B,A,!0,m)&&L,L=nr(B,A,!1,m)&&L,v)for(W=0;W<v.length;W++)B=m.g=v[W],L=nr(B,A,!1,m)&&L}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)ot(v[A]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},pe.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function nr(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const St=W.listener,fe=W.ha||W.src;W.fa&&yt(u.i,W),L=St.call(fe,A)!==!1&&L}}return L&&!A.defaultPrevented}function wh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Xl(u){u.g=wh(()=>{u.g=null,u.i&&(u.i=!1,Xl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(u){M.call(this),this.h=u,this.g={}}b(ns,M);var mo=[];function go(u){Dt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Xs(m)},u),u.g={}}ns.prototype.N=function(){ns.Z.N.call(this),go(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=d.JSON.stringify,Rh=d.JSON.parse,Jl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Zl(){}function $l(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){O.call(this,"d")}b(ze,O);function An(){O.call(this,"c")}b(An,O);var he={},Wl=null;function Js(){return Wl=Wl||new pe}he.Ia="serverreachability";function tu(u){O.call(this,he.Ia,u)}b(tu,O);function ei(u){const m=Js();Ne(m,new tu(m))}he.STAT_EVENT="statevent";function is(u,m){O.call(this,he.STAT_EVENT,u),this.stat=m}b(is,O);function ye(u){const m=Js();Ne(m,new is(m,u))}he.Ja="timingevent";function ni(u,m){O.call(this,he.Ja,u),this.size=m}b(ni,O);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function kn(){this.g=!0}kn.prototype.ua=function(){this.g=!1};function Ih(u,m,v,A,L,B){u.info(function(){if(u.g)if(B){var W="",St=B.split("&");for(let qt=0;qt<St.length;qt++){var fe=St[qt].split("=");if(fe.length>1){const ae=fe[0];fe=fe[1];const Rn=ae.split("_");W=Rn.length>=2&&Rn[1]=="type"?W+(ae+"="+fe+"&"):W+(ae+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+W})}function eu(u,m,v,A,L,B,W){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+W})}function ri(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ch(u,v)+(A?" "+A:"")})}function rs(u,m){u.info(function(){return"TIMEOUT: "+m})}kn.prototype.info=function(){};function Ch(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<A.length;W++)A[W]=""}}}}return ir(B)}catch{return m}}var ss={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yo;function as(){}b(as,Zl),as.prototype.g=function(){return new XMLHttpRequest},yo=new as;function Di(u){return encodeURIComponent(String(u))}function nu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Pn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new ns(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var _e={},Me={};function si(u,m,v){u.M=1,u.A=os(Ee(m)),u.u=v,u.R=!0,Zs(u,null)}function Zs(u,m){u.F=Date.now(),ai(u),u.B=Ee(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),ea(v.i,"t",A),u.C=0,v=u.j.L,u.h=new zn,u.g=yu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(mo[0]=L.toString()),L=mo);for(let B=0;B<L.length;B++){const W=se(v,L[B],A||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),Ih(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const St=qn(this.g),fe=this.g.ya(),qt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||St!=4||fe==7||(fe==8||qt<=0?ei(3):ei(2)),oi(this);var m=this.g.ca();this.X=m;var v=Dh(this);if(this.o=m==200,eu(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(A)){var B=A;break e}}B=null}if(u=B)ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,ye(12),fn(this),Sn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=ru(this,v),ae==Me){St==4&&(this.m=4,ye(14),u=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==_e){this.m=4,ye(15),ri(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ri(this.i,this.l,ae,null),li(this,ae);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ri(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Vo(W),W.P=!0,ye(11))}}else ri(this.i,this.l,v,null),li(this,v);St==4&&fn(this),this.o&&!this.K&&(St==4?du(this.j,this):(this.o=!1,ai(this)))}else Oi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),fn(this),Sn(this)}}}catch{}};function Dh(u){if(!iu(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const A=m.length,L=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<A;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Me:(v=Number(m.substring(v,A)),isNaN(v)?_e:(A+=1,A+v>m.length?Me:(m=m.slice(A,A+v),u.C=A+v,m)))}Pn.prototype.cancel=function(){this.K=!0,fn(this)};function ai(u){u.T=Date.now()+u.H,$s(u,u.H)}function $s(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(y(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(rs(this.i,this.B),this.M!=2&&(ei(),ye(17)),fn(this),this.m=2,Sn(this)):$s(this,this.T-u)};function Sn(u){u.j.I==0||u.K||du(u.j,u)}function fn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,go(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ci(v.h,u))){if(!u.L&&ci(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)aa(v),hr(v);else break t;ms(v),ye(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(y(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else pi(v,11)}else if((u.L||v.g==u)&&aa(v),!S(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const ae=qt[0];if(!(ae<=v.K))if(v.K=ae,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const Rn=qt[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const yi=qt[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Hn=qt[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(A=1.5*Hn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Gn=u.g;if(Gn){const gs=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gs){var B=A.h;B.g||gs.indexOf("spdy")==-1&&gs.indexOf("quic")==-1&&gs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Eo(B,B.h),B.h=null))}if(A.G){const oa=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;oa&&(A.wa=oa,Ft(A.J,A.G,oa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var W=u;if(A.na=pu(A,A.L?A.ba:null,A.W),W.L){To(A.h,W);var St=W,fe=A.O;fe&&(St.H=fe),St.D&&(oi(St),ai(St)),A.g=W}else hu(A);v.i.length>0&&gi(v)}else qt[0]!="stop"&&qt[0]!="close"||pi(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?pi(v,7):No(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ei(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function _o(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Eo(u,m){u.g?u.g.add(m):u.h=m}function To(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_o.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ao(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ws(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let L,B=null;A>=0?(L=u[v].substring(0,A),B=u[v].substring(A+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,xe(this,u.j),this.o=u.o,this.g=u.g,rr(this,u.u),this.h=u.h,So(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(su))?(this.l=!1,xe(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),rr(this,m[4]),this.h=hi(m[5]||"",!0),So(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new ar(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ls(m,ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ls(m,ta,!0),"@"),u.push(Di(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ls(v,v.charAt(0)=="/"?bo:au,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ls(v,ou)),u.join("")},dn.prototype.resolve=function(u){const m=Ee(this);let v=!!u.j;v?xe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)rr(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let W=0;W<L.length;){const St=L[W++];St=="."?A&&W==L.length&&B.push(""):St==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&W==L.length&&B.push("")):(B.push(St),A=!0)}A=B.join("/")}else A=L}return v?m.h=A:v=u.i.toString()!=="",v?So(m,uu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ee(u){return new dn(u)}function xe(u,m,v){u.j=v?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function So(u,m,v){m instanceof ar?(u.i=m,na(u.i,u.l)):(v||(m=ls(m,sr)),u.i=new ar(m,u.l))}function Ft(u,m,v){u.i.set(m,v)}function os(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ls(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ta=/[#\/\?@]/g,au=/[#\?:]/g,bo=/[#\?]/g,sr=/[#\?@]/g,ou=/#/g;function ar(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ws(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=ar.prototype,r.add=function(u,m){rn(this),this.i=null,u=or(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function lu(u,m){rn(u),m=or(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wo(u,m){return rn(u),m=or(u,m),u.g.has(m)}r.forEach=function(u,m){rn(this),this.g.forEach(function(v,A){v.forEach(function(L){u.call(m,L,A,this)},this)},this)};function Ro(u,m){rn(u);let v=[];if(typeof m=="string")wo(u,m)&&(v=v.concat(u.g.get(or(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return rn(this),this.i=null,u=or(this,u),wo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ro(this,u),u.length>0?String(u[0]):m):m};function ea(u,m,v){lu(u,m),v.length>0&&(u.i=null,u.g.set(or(u,m),H(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=Di(v);v=Ro(this,v);for(let B=0;B<v.length;B++){let W=L;v[B]!==""&&(W+="="+Di(v[B])),u.push(W)}}return this.i=u.join("&")};function uu(u){const m=new ar;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function or(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function na(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(lu(this,A),ea(this,L,v))},u)),u.j=m}function Bn(u,m){const v=new kn;if(d.Image){const A=new Image;A.onload=T(bn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(bn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(bn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(bn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Io(u,m){const v=new kn,A=new AbortController,L=setTimeout(()=>{A.abort(),bn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(B=>{clearTimeout(L),B.ok?bn(v,"TestPingServer: ok",!0,m):bn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),bn(v,"TestPingServer: error",!1,m)})}function bn(u,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function lr(){this.g=new Jl}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(fi,Zl),fi.prototype.g=function(){return new us(this.i,this.h)};function us(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(us,pe),r=us.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ia(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ia(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ur(this):jn(this),this.readyState==3&&ia(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ur(this))},r.Na=function(u){this.g&&(this.response=u,ur(this))},r.ga=function(){this.g&&ur(this)};function ur(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return Dt(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function cs(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=wn(v),typeof u=="string"?v!=null&&Di(v):Ft(u,m,v))}function Xt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xt,pe);var di=/^https?$/i,Co=["POST","PUT"];r=Xt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yo.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){hs(this,B);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Co,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){hs(this,B)}};function hs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Do(u),Ni(u)}function Do(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Ni(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?fs(this):this.Xa())},r.Xa=function(){fs(this)};function fs(u){if(u.h&&typeof c<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),qn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=B===0){let W=String(u.D).match(su)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),A=!di.test(W?W.toLowerCase():"")}v=A}if(v)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var L=qn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Do(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ne(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rh(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(S(u[A]))continue;var v=nu(u[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}lt(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function cr(u){this.za=0,this.i=[],this.j=new kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(u&&u.concurrentRequestLimit),this.Ba=new lr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=cr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,A){ye(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=pu(this,null,this.W),gi(this)};function No(u){if(ra(u),u.I==3){var m=u.V++,v=Ee(u.J);if(Ft(v,"SID",u.M),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),ds(u,v),m=new Pn(u,u.j,m),m.M=2,m.A=os(Ee(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}gu(u)}function hr(u){u.g&&(Vo(u),u.g.cancel(),u.g=null)}function ra(u){hr(u),u.v&&(d.clearTimeout(u.v),u.v=null),aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function gi(u){if(!vo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ee||w(),Lt||(ee(),Lt=!0),C.add(m,u),u.D=0}}function sa(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(y(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Pn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=N(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=cu(this,L,m),v=Ee(this.J),Ft(v,"RID",u),Ft(v,"CVER",22),this.G&&Ft(v,"X-HTTP-Session-Id",this.G),ds(this,v),B&&(this.R?m="headers="+Di(wn(B))+"&"+m:this.u&&cs(v,this.u,B)),Eo(this.h,L),this.Ra&&Ft(v,"TYPE","init"),this.S?(Ft(v,"$req",m),Ft(v,"SID","null"),L.U=!0,si(L,v,null)):si(L,v,m),this.I=2}}else this.I==3&&(u?Oo(this,u):this.i.length==0||vo(this.h)||Oo(this))};function Oo(u,m){var v;m?v=m.l:v=u.V++;const A=Ee(u.J);Ft(A,"SID",u.M),Ft(A,"RID",v),Ft(A,"AID",u.K),ds(u,A),u.u&&u.o&&cs(A,u.u,u.o),v=new Pn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Eo(u.h,v),si(v,A,m)}function ds(u,m){u.H&&Dt(u.H,function(v,A){Ft(m,A,v)}),u.l&&Dt({},function(v,A){Ft(m,A,v)})}function cu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let St=-1;for(;;){const fe=["count="+v];St==-1?v>0?(St=L[0].g,fe.push("ofs="+St)):St=0:fe.push("ofs="+St);let qt=!0;for(let ae=0;ae<v;ae++){var B=L[ae].g;const Rn=L[ae].map;if(B-=St,B<0)St=Math.max(0,L[ae].g-100),qt=!1;else try{B="req"+B+"_"||"";try{var W=Rn instanceof Map?Rn:Object.entries(Rn);for(const[yi,Hn]of W){let Gn=Hn;p(Hn)&&(Gn=ir(Hn)),fe.push(B+yi+"="+encodeURIComponent(Gn))}}catch(yi){throw fe.push(B+"type="+encodeURIComponent("_badmap")),yi}}catch{A&&A(Rn)}}if(qt){W=fe.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ee||w(),Lt||(ee(),Lt=!0),C.add(m,u),u.A=0}}function ms(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(y(u.Da,u),mu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),hr(this),fu(this))};function Vo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),ds(u,m),u.u&&u.o&&cs(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=os(Ee(m)),v.u=null,v.R=!0,Zs(v,u)}r.Va=function(){this.C!=null&&(this.C=null,hr(this),ms(this),ye(19))};function aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var v=null;if(u.g==m){aa(u),Vo(u),u.g=null;var A=2}else if(ci(u.h,m))v=m.G,To(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;A=Js(),Ne(A,new ni(A,v)),gi(u)}else hu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&sa(u,m)||A==2&&ms(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function mu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),A=u.Ua;const L=!A;A=new dn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(A,"https"),os(A),L?Bn(A.toString(),v):Io(A.toString(),v)}else ye(2);u.I=0,u.l&&u.l.pa(m),gu(u),ra(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function gu(u){if(u.I=0,u.ja=[],u.l){const m=Ao(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function pu(u,m,v){var A=v instanceof dn?Ee(v):new dn(v);if(A.g!="")m&&(A.g=m+"."+A.g),rr(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new dn(null);A&&xe(B,A),m&&(B.g=m),L&&rr(B,L),v&&(B.h=v),A=B}return v=u.G,m=u.wa,v&&m&&Ft(A,v,m),Ft(A,"VER",u.ka),ds(u,A),A}function yu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new fi({ab:v})):new Xt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function fr(){}fr.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){pe.call(this),this.g=new cr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!S(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}b(tn,pe),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){No(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ir(u),u=v);m.i.push(new ve(m.Ya++,u)),m.I==3&&gi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,tn.Z.N.call(this)};function vu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(vu,ze);function Eu(){An.call(this),this.status=1}b(Eu,An);function Vi(u){this.g=u}b(Vi,_u),Vi.prototype.ra=function(){Ne(this.g,"a")},Vi.prototype.qa=function(u){Ne(this.g,new vu(u))},Vi.prototype.pa=function(u){Ne(this.g,new Eu)},Vi.prototype.oa=function(){Ne(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,HE=function(){return new fr},qE=function(){return Js()},jE=he,Yd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ss.NO_ERROR=0,ss.TIMEOUT=8,ss.HTTP_ERROR=6,Oc=ss,po.COMPLETE="complete",BE=po,$l.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",pe.prototype.listen=pe.prototype.J,_l=$l,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,zE=Xt}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let ro="12.9.0";function _b(r){ro=r}const Bs=new gm("@firebase/firestore");function ka(){return Bs.logLevel}function rt(r,...t){if(Bs.logLevel<=Vt.DEBUG){const i=t.map(_m);Bs.debug(`Firestore (${ro}): ${r}`,...i)}}function $i(r,...t){if(Bs.logLevel<=Vt.ERROR){const i=t.map(_m);Bs.error(`Firestore (${ro}): ${r}`,...i)}}function js(r,...t){if(Bs.logLevel<=Vt.WARN){const i=t.map(_m);Bs.warn(`Firestore (${ro}): ${r}`,...i)}}function _m(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function mt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,GE(r,a,i)}function GE(r,t,i){let a=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw $i(a),new Error(a)}function Gt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||GE(t,l,a)}function Tt(r,t){return r}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends er{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Us{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class FE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class vb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class Eb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Tb{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Us,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Us)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Gt(typeof a.accessToken=="string",31837,{l:a}),new FE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class Ab{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Sb{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Ab(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new $_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wb(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=wb(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Mt(r,t){return r<t?-1:r>t?1:0}function Xd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Ud(l)===Ud(c)?Mt(l,c):Ud(l)?1:-1}return Mt(r.length,t.length)}const Rb=55296,Ib=57343;function Ud(r){const t=r.charCodeAt(0);return t>=Rb&&t<=Ib}function Ya(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const W_="__name__";class Ai{constructor(t,i,a){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&mt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ai.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ai?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ai.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=Ai.isNumericId(t),l=Ai.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ai.extractNumericId(t).compare(Ai.extractNumericId(i)):Xd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}}class te extends Ai{construct(t,i,a){return new te(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new it(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const Cb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ai{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return Cb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W_}static keyField(){return new Qe([W_])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new it(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new it(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new it(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new it(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(te.fromString(t))}static fromName(t){return new ht(te.fromString(t).popFirst(5))}static empty(){return new ht(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return te.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new te(t.slice()))}}function QE(r,t,i){if(!i)throw new it(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Db(r,t,i,a){if(t===!0&&a===!0)throw new it(Y.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function tv(r){if(!ht.isDocumentKey(r))throw new it(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ev(r){if(ht.isDocumentKey(r))throw new it(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function KE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function oh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":mt(12329,{type:typeof r})}function Gr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new it(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=oh(r);throw new it(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ie(r,t){const i={typeString:r};return t&&(i.value=t),i}function Bl(r,t){if(!KE(r))throw new it(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new it(Y.INVALID_ARGUMENT,i);return!0}const nv=-62135596800,iv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*iv);return new re(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new it(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<nv)throw new it(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iv}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-nv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ie("string",re._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new re(0,0))}static max(){return new vt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dl=-1;function Nb(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new re(i+1,0):new re(i,a));return new Qr(l,ht.empty(),t)}function Ob(r){return new Qr(r.readTime,r.key,Dl)}class Qr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Qr(vt.min(),ht.empty(),Dl)}static max(){return new Qr(vt.max(),ht.empty(),Dl)}}function Vb(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}const Mb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function so(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==Mb)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((T=>{d[y]=T,++p,p===c&&a(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Ub(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ao(r){return r.name==="IndexedDbTransactionError"}class lh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}lh.ce=-1;const Em=-1;function uh(r){return r==null}function Gc(r){return r===0&&1/r==-1/0}function Lb(r){return typeof r=="number"&&Number.isInteger(r)&&!Gc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const YE="";function kb(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=rv(t)),t=Pb(r.get(i),t);return rv(t)}function Pb(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case YE:i+="";break;default:i+=c}}return i}function rv(r){return r+YE+""}function sv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function $r(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function XE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wc(this.root,t,this.comparator,!0)}}class wc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Fe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new av(this.data.getIterator())}getIteratorFrom(t){return new av(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class av{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Tn([])}unionWith(t){let i=new Ve(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Tn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ya(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class JE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new JE("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const zb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(r){if(Gt(!!r,39018),typeof r=="string"){let t=0;const i=zb.exec(r);if(Gt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Yr(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const ZE="server_timestamp",$E="__type__",WE="__previous_value__",tT="__local_write_time__";function Tm(r){return(r?.mapValue?.fields||{})[$E]?.stringValue===ZE}function ch(r){const t=r.mapValue.fields[WE];return Tm(t)?ch(t):t}function Nl(r){const t=Kr(r.mapValue.fields[tT].timestampValue);return new re(t.seconds,t.nanos)}class Bb{constructor(t,i,a,l,c,d,p,_,y,T,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=b}}const Fc="(default)";class Ol{constructor(t,i){this.projectId=t,this.database=i||Fc}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(t){return t instanceof Ol&&t.projectId===this.projectId&&t.database===this.database}}function jb(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new it(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(r.options.projectId,t)}const eT="__type__",qb="__max__",Rc={mapValue:{}},nT="__vector__",Qc="value";function Xr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Tm(r)?4:Gb(r)?9007199254740991:Hb(r)?10:11:mt(28295,{value:r})}function Ii(r,t){if(r===t)return!0;const i=Xr(r);if(i!==Xr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Nl(r).isEqual(Nl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Kr(l.timestampValue),p=Kr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Yr(l.bytesValue).isEqual(Yr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),p=ge(c.doubleValue);return d===p?Gc(d)===Gc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Ya(r.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(sv(d)!==sv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ii(d[_],p[_])))return!1;return!0})(r,t);default:return mt(52216,{left:r})}}function Vl(r,t){return(r.values||[]).find((i=>Ii(i,t)))!==void 0}function Xa(r,t){if(r===t)return 0;const i=Xr(r),a=Xr(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return ov(r.timestampValue,t.timestampValue);case 4:return ov(Nl(r),Nl(t));case 5:return Xd(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=Yr(c),_=Yr(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const T=Mt(p[y],_[y]);if(T!==0)return T}return Mt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Mt(ge(c.latitude),ge(d.latitude));return p!==0?p:Mt(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return lv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Qc]?.arrayValue,T=_[Qc]?.arrayValue,b=Mt(y?.values?.length||0,T?.values?.length||0);return b!==0?b:lv(y,T)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Rc.mapValue&&d===Rc.mapValue)return 0;if(c===Rc.mapValue)return 1;if(d===Rc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let b=0;b<_.length&&b<T.length;++b){const D=Xd(_[b],T[b]);if(D!==0)return D;const H=Xa(p[_[b]],y[T[b]]);if(H!==0)return H}return Mt(_.length,T.length)})(r.mapValue,t.mapValue);default:throw mt(23264,{he:i})}}function ov(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=Kr(r),a=Kr(t),l=Mt(i.seconds,a.seconds);return l!==0?l:Mt(i.nanos,a.nanos)}function lv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Xa(i[l],a[l]);if(c)return c}return Mt(i.length,a.length)}function Ja(r){return Jd(r)}function Jd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Kr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Yr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ht.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Jd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Jd(i.fields[d])}`;return l+"}"})(r.mapValue):mt(61005,{value:r})}function Vc(r){switch(Xr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ch(r);return t?16+Vc(t):16;case 5:return 2*r.stringValue.length;case 6:return Yr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Vc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return $r(a.fields,((c,d)=>{l+=c.length+Vc(d)})),l})(r.mapValue);default:throw mt(13486,{value:r})}}function uv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Zd(r){return!!r&&"integerValue"in r}function Am(r){return!!r&&"arrayValue"in r}function cv(r){return!!r&&"nullValue"in r}function hv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mc(r){return!!r&&"mapValue"in r}function Hb(r){return(r?.mapValue?.fields||{})[eT]?.stringValue===nT}function Sl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return $r(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Sl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Sl(r.arrayValue.values[i]);return t}return{...r}}function Gb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===qb}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Mc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sl(i)}setAll(t){let i=Qe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Sl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Mc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Mc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){$r(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new hn(Sl(this.value))}}function iT(r){const t=[];return $r(r.fields,((i,a)=>{const l=new Qe([i]);if(Mc(a)){const c=iT(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Tn(t)}class Ze{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,vt.min(),vt.min(),vt.min(),hn.empty(),0)}static newFoundDocument(t,i,a,l){return new Ze(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,vt.min(),vt.min(),hn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,vt.min(),vt.min(),hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kc{constructor(t,i){this.position=t,this.inclusive=i}}function fv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=Xa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function dv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ii(r.position[i],t.position[i]))return!1;return!0}class Ml{constructor(t,i="asc"){this.field=t,this.dir=i}}function Fb(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class rT{}class Re extends rT{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Kb(t,i,a):i==="array-contains"?new Jb(t,a):i==="in"?new Zb(t,a):i==="not-in"?new $b(t,a):i==="array-contains-any"?new Wb(t,a):new Re(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Yb(t,a):new Xb(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Xa(i,this.value)):i!==null&&Xr(this.value)===Xr(i)&&this.matchesComparison(Xa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends rT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Wn(t,i)}matches(t){return sT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sT(r){return r.op==="and"}function aT(r){return Qb(r)&&sT(r)}function Qb(r){for(const t of r.filters)if(t instanceof Wn)return!1;return!0}function $d(r){if(r instanceof Re)return r.field.canonicalString()+r.op.toString()+Ja(r.value);if(aT(r))return r.filters.map((t=>$d(t))).join(",");{const t=r.filters.map((i=>$d(i))).join(",");return`${r.op}(${t})`}}function oT(r,t){return r instanceof Re?(function(a,l){return l instanceof Re&&a.op===l.op&&a.field.isEqual(l.field)&&Ii(a.value,l.value)})(r,t):r instanceof Wn?(function(a,l){return l instanceof Wn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&oT(d,l.filters[p])),!0):!1})(r,t):void mt(19439)}function lT(r){return r instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ja(i.value)}`})(r):r instanceof Wn?(function(i){return i.op.toString()+" {"+i.getFilters().map(lT).join(" ,")+"}"})(r):"Filter"}class Kb extends Re{constructor(t,i,a){super(t,i,a),this.key=ht.fromName(a.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class Yb extends Re{constructor(t,i){super(t,"in",i),this.keys=uT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Xb extends Re{constructor(t,i){super(t,"not-in",i),this.keys=uT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function uT(r,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class Jb extends Re{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Am(i)&&Vl(i.arrayValue,this.value)}}class Zb extends Re{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class $b extends Re{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class Wb extends Re{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Am(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vl(this.value.arrayValue,a)))}}class tw{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function mv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new tw(r,t,i,a,l,c,d)}function Sm(r){const t=Tt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>$d(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),uh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ja(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ja(a))).join(",")),t.Te=i}return t.Te}function bm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Fb(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!oT(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!dv(r.startAt,t.startAt)&&dv(r.endAt,t.endAt)}function Wd(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class oo{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ew(r,t,i,a,l,c,d,p){return new oo(r,t,i,a,l,c,d,p)}function wm(r){return new oo(r)}function gv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function nw(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function cT(r){return r.collectionGroup!==null}function bl(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Qe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Ml(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new Ml(Qe.keyField(),a))}return t.Ie}function Si(r){const t=Tt(r);return t.Ee||(t.Ee=iw(t,bl(r))),t.Ee}function iw(r,t){if(r.limitType==="F")return mv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Ml(l.field,c)}));const i=r.endAt?new Kc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Kc(r.startAt.position,r.startAt.inclusive):null;return mv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function tm(r,t){const i=r.filters.concat([t]);return new oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function rw(r,t){const i=r.explicitOrderBy.concat([t]);return new oo(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function em(r,t,i){return new oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function hh(r,t){return bm(Si(r),Si(t))&&r.limitType===t.limitType}function hT(r){return`${Sm(Si(r))}|lt:${r.limitType}`}function Pa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>lT(l))).join(", ")}]`),uh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ja(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ja(l))).join(",")),`Target(${a})`})(Si(r))}; limitType=${r.limitType})`}function fh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ht.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of bl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=fv(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,bl(a),l)||a.endAt&&!(function(d,p,_){const y=fv(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,bl(a),l))})(r,t)}function sw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fT(r){return(t,i)=>{let a=!1;for(const l of bl(r)){const c=aw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function aw(r,t,i){const a=r.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?Xa(_,y):mt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return mt(19790,{direction:r.dir})}}class Gs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){$r(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return XE(this.inner)}size(){return this.innerSize}}const ow=new le(ht.comparator);function Wi(){return ow}const dT=new le(ht.comparator);function vl(...r){let t=dT;for(const i of r)t=t.insert(i.key,i);return t}function mT(r){let t=dT;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Ms(){return wl()}function gT(){return wl()}function wl(){return new Gs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const lw=new le(ht.comparator),uw=new Ve(ht.comparator);function xt(...r){let t=uw;for(const i of r)t=t.add(i);return t}const cw=new Ve(Mt);function hw(){return cw}function Rm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function pT(r){return{integerValue:""+r}}function fw(r,t){return Lb(t)?pT(t):Rm(r,t)}class dh{constructor(){this._=void 0}}function dw(r,t,i){return r instanceof xl?(function(l,c){const d={fields:{[$E]:{stringValue:ZE},[tT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Tm(c)&&(c=ch(c)),c&&(d.fields[WE]=c),{mapValue:d}})(i,t):r instanceof Ul?_T(r,t):r instanceof Ll?vT(r,t):(function(l,c){const d=yT(l,c),p=pv(d)+pv(l.Ae);return Zd(d)&&Zd(l.Ae)?pT(p):Rm(l.serializer,p)})(r,t)}function mw(r,t,i){return r instanceof Ul?_T(r,t):r instanceof Ll?vT(r,t):i}function yT(r,t){return r instanceof Yc?(function(a){return Zd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class xl extends dh{}class Ul extends dh{constructor(t){super(),this.elements=t}}function _T(r,t){const i=ET(t);for(const a of r.elements)i.some((l=>Ii(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ll extends dh{constructor(t){super(),this.elements=t}}function vT(r,t){let i=ET(t);for(const a of r.elements)i=i.filter((l=>!Ii(l,a)));return{arrayValue:{values:i}}}class Yc extends dh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function pv(r){return ge(r.integerValue||r.doubleValue)}function ET(r){return Am(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class gw{constructor(t,i){this.field=t,this.transform=i}}function pw(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Ul&&l instanceof Ul||a instanceof Ll&&l instanceof Ll?Ya(a.elements,l.elements,Ii):a instanceof Yc&&l instanceof Yc?Ii(a.Ae,l.Ae):a instanceof xl&&l instanceof xl})(r.transform,t.transform)}class yw{constructor(t,i){this.version=t,this.transformResults=i}}class Jn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Jn}static exists(t){return new Jn(void 0,t)}static updateTime(t){return new Jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class mh{}function TT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Im(r.key,Jn.none()):new jl(r.key,r.data,Jn.none());{const i=r.data,a=hn.empty();let l=new Ve(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Wr(r.key,a,new Tn(l.toArray()),Jn.none())}}function _w(r,t,i){r instanceof jl?(function(l,c,d){const p=l.value.clone(),_=_v(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Wr?(function(l,c,d){if(!xc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=_v(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(AT(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Rl(r,t,i,a){return r instanceof jl?(function(c,d,p,_){if(!xc(c.precondition,d))return p;const y=c.value.clone(),T=vv(c.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof Wr?(function(c,d,p,_){if(!xc(c.precondition,d))return p;const y=vv(c.fieldTransforms,_,d),T=d.data;return T.setAll(AT(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(c,d,p){return xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function vw(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=yT(a.transform,l||null);c!=null&&(i===null&&(i=hn.empty()),i.set(a.field,c))}return i||null}function yv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ya(a,l,((c,d)=>pw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class jl extends mh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Wr extends mh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function AT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function _v(r,t,i){const a=new Map;Gt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,mw(d,p,i[l]))}return a}function vv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,dw(c,d,t))}return a}class Im extends mh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ew extends mh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&_w(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=gT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=TT(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),xt())}isEqual(t){return this.batchId===t.batchId&&Ya(this.mutations,t.mutations,((i,a)=>yv(i,a)))&&Ya(this.baseMutations,t.baseMutations,((i,a)=>yv(i,a)))}}class Cm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Gt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return lw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Cm(t,i,a,l)}}class Aw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Sw{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,Pt;function bw(r){switch(r){case Y.OK:return mt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return mt(15467,{code:r})}}function ST(r){if(r===void 0)return $i("GRPC error has no .code"),Y.UNKNOWN;switch(r){case we.OK:return Y.OK;case we.CANCELLED:return Y.CANCELLED;case we.UNKNOWN:return Y.UNKNOWN;case we.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case we.INTERNAL:return Y.INTERNAL;case we.UNAVAILABLE:return Y.UNAVAILABLE;case we.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case we.NOT_FOUND:return Y.NOT_FOUND;case we.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case we.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case we.ABORTED:return Y.ABORTED;case we.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case we.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case we.DATA_LOSS:return Y.DATA_LOSS;default:return mt(39323,{code:r})}}(Pt=we||(we={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function ww(){return new TextEncoder}const Rw=new Hr([4294967295,4294967295],0);function Ev(r){const t=ww().encode(r),i=new PE;return i.update(t),new Uint8Array(i.digest())}function Tv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Hr([i,a],0),new Hr([l,c],0)]}class Dm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new El(`Invalid padding: ${i}`);if(a<0)throw new El(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new El(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Hr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Hr.fromNumber(a)));return l.compare(Rw)===1&&(l=new Hr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Ev(t),[a,l]=Tv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Dm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Ev(t),[a,l]=Tv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,ql.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new gh(vt.min(),l,new le(Mt),Wi(),xt())}}class ql{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new ql(a,i,xt(),xt(),xt())}}class Uc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class bT{constructor(t,i){this.targetId=t,this.Ce=i}}class wT{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Av{constructor(){this.ve=0,this.Fe=Sv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=xt(),i=xt(),a=xt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:mt(38017,{changeType:c})}})),new ql(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Sv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Iw{constructor(t){this.Ge=t,this.ze=new Map,this.je=Wi(),this.He=Ic(),this.Je=Ic(),this.Ze=new le(Mt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Wd(c))if(a===0){const d=new ht(c.path);this.et(i,d,Ze.newNoDocument(d,vt.min()))}else Gt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Yr(a).toUint8Array()}catch(_){if(_ instanceof JE)return js("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Dm(d,l,c)}catch(_){return js(_ instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Wd(p.target)){const _=new ht(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ze.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=xt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new gh(t,i,this.Ze,this.je,a);return this.je=Wi(),this.He=Ic(),this.Je=Ic(),this.Ze=new le(Mt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Av,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ve(Mt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ve(Mt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Av),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ic(){return new le(ht.comparator)}function Sv(){return new le(ht.comparator)}const Cw={asc:"ASCENDING",desc:"DESCENDING"},Dw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nw={and:"AND",or:"OR"};class Ow{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function nm(r,t){return r.useProto3Json||uh(t)?t:{value:t}}function Xc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Vw(r,t){return Xc(r,t.toTimestamp())}function bi(r){return Gt(!!r,49232),vt.fromTimestamp((function(i){const a=Kr(i);return new re(a.seconds,a.nanos)})(r))}function Nm(r,t){return im(r,t).canonicalString()}function im(r,t){const i=(function(l){return new te(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function IT(r){const t=te.fromString(r);return Gt(VT(t),10190,{key:t.toString()}),t}function rm(r,t){return Nm(r.databaseId,t.path)}function Ld(r,t){const i=IT(t);if(i.get(1)!==r.databaseId.projectId)throw new it(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new it(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(DT(i))}function CT(r,t){return Nm(r.databaseId,t)}function Mw(r){const t=IT(r);return t.length===4?te.emptyPath():DT(t)}function sm(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function DT(r){return Gt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function bv(r,t,i){return{name:rm(r,t),fields:i.value.mapValue.fields}}function xw(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:mt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Gt(T===void 0||typeof T=="string",58123),Ke.fromBase64String(T||"")):(Gt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ke.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?Y.UNKNOWN:ST(y.code);return new it(T,y.message||"")})(d);i=new wT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Ld(r,a.document.name),c=bi(a.document.updateTime),d=a.document.createTime?bi(a.document.createTime):vt.min(),p=new hn({mapValue:{fields:a.document.fields}}),_=Ze.newFoundDocument(l,c,d,p),y=a.targetIds||[],T=a.removedTargetIds||[];i=new Uc(y,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Ld(r,a.document),c=a.readTime?bi(a.readTime):vt.min(),d=Ze.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Uc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Ld(r,a.document),c=a.removedTargetIds||[];i=new Uc([],c,l,null)}else{if(!("filter"in t))return mt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Sw(l,c),p=a.targetId;i=new bT(p,d)}}return i}function Uw(r,t){let i;if(t instanceof jl)i={update:bv(r,t.key,t.value)};else if(t instanceof Im)i={delete:rm(r,t.key)};else if(t instanceof Wr)i={update:bv(r,t.key,t.data),updateMask:Gw(t.fieldMask)};else{if(!(t instanceof Ew))return mt(16599,{dt:t.type});i={verify:rm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof xl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ll)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Yc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw mt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Vw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt(27497)})(r,t.precondition)),i}function Lw(r,t){return r&&r.length>0?(Gt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?bi(l.updateTime):bi(c);return d.isEqual(vt.min())&&(d=bi(c)),new yw(d,l.transformResults||[])})(i,t)))):[]}function kw(r,t){return{documents:[CT(r,t.path)]}}function Pw(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=CT(r,l);const c=(function(y){if(y.length!==0)return OT(Wn.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(D){return{field:za(D.field),direction:jw(D.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=nm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function zw(r){let t=Mw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Gt(a===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(b){const D=NT(b);return D instanceof Wn&&aT(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((D=>(function(Z){return new Ml(Ba(Z.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(D)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let D;return D=typeof b=="object"?b.value:b,uh(D)?null:D})(i.limit));let _=null;i.startAt&&(_=(function(b){const D=!!b.before,H=b.values||[];return new Kc(H,D)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const D=!b.before,H=b.values||[];return new Kc(H,D)})(i.endAt)),ew(t,l,d,c,p,"F",_,y)}function Bw(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function NT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ba(i.unaryFilter.field);return Re.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ba(i.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ba(i.unaryFilter.field);return Re.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ba(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Re.create(Ba(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Wn.create(i.compositeFilter.filters.map((a=>NT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(r):mt(30097,{filter:r})}function jw(r){return Cw[r]}function qw(r){return Dw[r]}function Hw(r){return Nw[r]}function za(r){return{fieldPath:r.canonicalString()}}function Ba(r){return Qe.fromServerFormat(r.fieldPath)}function OT(r){return r instanceof Re?(function(i){if(i.op==="=="){if(hv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NAN"}};if(cv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(hv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NAN"}};if(cv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(i.field),op:qw(i.op),value:i.value}}})(r):r instanceof Wn?(function(i){const a=i.getFilters().map((l=>OT(l)));return a.length===1?a[0]:{compositeFilter:{op:Hw(i.op),filters:a}}})(r):mt(54877,{filter:r})}function Gw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function VT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function MT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class zr{constructor(t,i,a,l,c=vt.min(),d=vt.min(),p=Ke.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new zr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Fw{constructor(t){this.yt=t}}function Qw(r){const t=zw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?em(t,t.limit,"L"):t}class Kw{constructor(){this.Sn=new Yw}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Qr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Qr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class Yw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(te.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(te.comparator)).toArray()}}const wv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xT=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(xT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Za{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Za(0)}static ar(){return new Za(-1)}}const Rv="LruGarbageCollector",Xw=1048576;function Iv([r,t],[i,a]){const l=Mt(r,i);return l===0?Mt(t,a):l}class Jw{constructor(t){this.Pr=t,this.buffer=new Ve(Iv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Iv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Zw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){rt(Rv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ao(i)?rt(Rv,"Ignoring IndexedDB error during garbage collection: ",i):await so(i)}await this.Ar(3e5)}))}}class $w{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(lh.ce);const a=new Jw(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(wv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,p,_,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(y=Date.now(),ka()<=Vt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${b} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function Ww(r,t){return new $w(r,t)}class tR{constructor(){this.changes=new Gs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class nR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Rl(a.mutation,l,Tn.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,xt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=xt()){const l=Ms();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=vl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Ms();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,xt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=Wi();const d=wl(),p=(function(){return wl()})();return i.forEach(((_,y)=>{const T=a.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof Wr)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Rl(T.mutation,y,T.mutation.getFieldMask(),re.now())):d.set(y.key,Tn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>p.set(y,new eR(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=wl();let l=new le(((d,p)=>d-p)),c=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let T=a.get(_)||Tn.empty();T=p.applyToLocalView(y,T),a.set(_,T);const b=(l.get(p.batchId)||xt()).add(_);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,T=_.value,b=gT();T.forEach((D=>{if(!c.has(D)){const H=TT(i.get(D),a.get(D));H!==null&&b.set(D,H),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return nw(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):cT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Ms());let p=Dl,_=c;return d.next((y=>X.forEach(y,((T,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(T)?X.resolve():this.remoteDocumentCache.getEntry(t,T).next((D=>{_=_.insert(T,D)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,xt()))).next((T=>({batchId:p,changes:mT(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((a=>{let l=vl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=vl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(b,D){return new oo(D,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((T=>{T.forEach(((b,D)=>{d=d.insert(b,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Ze.newInvalidDocument(T)))}));let p=vl();return d.forEach(((_,y)=>{const T=c.get(_);T!==void 0&&Rl(T.mutation,y,Tn.empty(),re.now()),fh(i,y)&&(p=p.insert(_,y))})),p}))}}class iR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:bi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:Qw(l.bundledQuery),readTime:bi(l.readTime)}})(i)),X.resolve()}}class rR{constructor(){this.overlays=new le(ht.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Ms();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Ms(),c=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new le(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let T=c.get(y.largestBatchId);T===null&&(T=Ms(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Ms(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return X.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Aw(i,a));let c=this.Lr.get(i);c===void 0&&(c=xt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class sR{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Om{constructor(){this.kr=new Ve(ke.Kr),this.qr=new Ve(ke.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new ke(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new ke(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new ht(new te([])),a=new ke(i,t),l=new ke(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ht(new te([])),a=new ke(i,t),l=new ke(i,t+1);let c=xt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new ke(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class ke{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ht.comparator(t.key,i.key)||Mt(t.Hr,i.Hr)}static Ur(t,i){return Mt(t.Hr,i.Hr)||ht.comparator(t.key,i.key)}}class aR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(ke.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Tw(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new ke(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Em:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new ke(i,0),l=new ke(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Mt);return i.forEach((l=>{const c=new ke(l,0),d=new ke(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ht.isDocumentKey(c)||(c=c.child(""));const d=new ke(new ht(c),0);let p=new Ve(Mt);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),X.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Gt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new ke(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new ke(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class oR{constructor(t){this.ti=t,this.docs=(function(){return new le(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let a=Wi();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Wi();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Vb(Ob(T),a)<=0||(l.has(T.key)||fh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){mt(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new lR(this)}getSize(t){return X.resolve(this.size)}}class lR extends tR{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class uR{constructor(t){this.persistence=t,this.ri=new Gs((i=>Sm(i)),bm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new Om,this.targetCount=0,this.oi=Za._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new Za(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class UT{constructor(t,i){this._i={},this.overlays={},this.ai=new lh(0),this.ui=!1,this.ui=!0,this.ci=new sR,this.referenceDelegate=t(this),this.li=new uR(this),this.indexManager=new Kw,this.remoteDocumentCache=(function(l){return new oR(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new Fw(i),this.Pi=new iR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new rR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new aR(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new cR(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class cR extends xb{constructor(t){super(),this.currentSequenceNumber=t}}class Vm{constructor(t){this.persistence=t,this.Ri=new Om,this.Ai=null}static Vi(t){return new Vm(t)}get di(){if(this.Ai)return this.Ai;throw mt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=ht.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Jc{constructor(t,i){this.persistence=t,this.fi=new Gs((a=>kb(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Ww(this,i)}static Vi(t,i){return new Jc(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Vc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Mm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=xt(),l=xt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Mm(t,i.fromCache,a,l)}}class hR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class fR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return $S()?8:Ub($e())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new hR;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(ka()<=Vt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Pa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(ka()<=Vt.DEBUG&&rt("QueryEngine","Query:",Pa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(ka()<=Vt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Pa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(i))):X.resolve())}gs(t,i){if(gv(i))return X.resolve(null);let a=Si(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=em(i,null,"F"),a=Si(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=xt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(t,em(i,null,"F")):this.Ds(t,y,i,_)}))))})))))}ps(t,i,a,l){return gv(i)||l.isEqual(vt.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(ka()<=Vt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Pa(i)),this.Ds(t,d,i,Nb(l,Dl)).next((p=>p)))}))}bs(t,i){let a=new Ve(fT(t));return i.forEach(((l,c)=>{fh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return ka()<=Vt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Pa(i)),this.fs.getDocumentsMatchingQuery(t,i,Qr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const xm="LocalStore",dR=3e8;class mR{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new le(Mt),this.Fs=new Gs((c=>Sm(c)),bm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function gR(r,t,i,a){return new mR(r,t,i,a)}async function LT(r,t){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=xt();for(const y of l){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function pR(r,t){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,T){const b=y.batch,D=b.keys();let H=X.resolve();return D.forEach((Z=>{H=H.next((()=>T.getEntry(_,Z))).next((et=>{const J=y.docVersions.get(Z);Gt(J!==null,48541),et.version.compareTo(J)<0&&(b.applyToRemoteDocument(et,y),et.isValidDocument()&&(et.setReadTime(y.commitVersion),T.addEntry(et)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(_,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=xt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function kT(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function yR(r,t){const i=Tt(r),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((T,b)=>{const D=l.get(b);if(!D)return;p.push(i.li.removeMatchingKeys(c,T.removedDocuments,b).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,b))));let H=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?H=H.withResumeToken(Ke.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,a)),l=l.insert(b,H),(function(et,J,ft){return et.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=dR?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(D,H,T)&&p.push(i.li.updateTargetData(c,H))}));let _=Wi(),y=xt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(_R(c,d,t.documentUpdates).next((T=>{_=T.Bs,y=T.Ls}))),!a.isEqual(vt.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((b=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(T)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function _R(r,t,i){let a=xt(),l=xt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=Wi();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(vt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):rt(xm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function vR(r,t){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Em),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function ER(r,t){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new zr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function am(r,t,i){const a=Tt(r),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ao(d))throw d;rt(xm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Cv(r,t,i){const a=Tt(r);let l=vt.min(),c=xt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const b=Tt(_),D=b.Fs.get(T);return D!==void 0?X.resolve(b.vs.get(D)):b.li.getTargetData(y,T)})(a,d,Si(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:xt()))).next((p=>(TR(a,sw(t),p),{documents:p,ks:c})))))}function TR(r,t,i){let a=r.Ms.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class Dv{constructor(){this.activeTargetIds=hw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class AR{constructor(){this.vo=new Dv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Dv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class SR{Mo(t){}shutdown(){}}const Nv="ConnectivityMonitor";class Ov{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){rt(Nv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){rt(Nv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cc=null;function om(){return Cc===null?Cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cc++,"0x"+Cc.toString(16)}const kd="RestConnection",bR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class wR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Fc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=om(),p=this.Qo(t,i.toUriEncodedString());rt(kd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),T=no(y);return this.zo(t,p,_,a,T).then((b=>(rt(kd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw js(kd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=bR[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class RR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",yl=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class ja extends wR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!ja.c_){const t=qE();yl(t,jE.STAT_EVENT,(i=>{i.stat===Yd.PROXY?rt(Xe,"STAT_EVENT: detected buffering proxy"):i.stat===Yd.NOPROXY&&rt(Xe,"STAT_EVENT: detected no buffering proxy")})),ja.c_=!0}}zo(t,i,a,l,c){const d=om();return new Promise(((p,_)=>{const y=new zE;y.setWithCredentials(!0),y.listenOnce(BE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Oc.NO_ERROR:const b=y.getResponseJson();rt(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Oc.TIMEOUT:rt(Xe,`RPC '${t}' ${d} timed out`),_(new it(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const D=y.getStatus();if(rt(Xe,`RPC '${t}' ${d} failed with status:`,D,"response text:",y.getResponseText()),D>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const Z=H?.error;if(Z&&Z.status&&Z.message){const et=(function(ft){const gt=ft.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(gt)>=0?gt:Y.UNKNOWN})(Z.status);_(new it(et,Z.message))}else _(new it(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new it(Y.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(Xe,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);rt(Xe,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",T,a,15)}))}T_(t,i,a){const l=om(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");rt(Xe,`Creating RPC '${t}' stream ${l}: ${y}`,p);const T=d.createWebChannel(y,p);this.I_(T);let b=!1,D=!1;const H=new RR({Ho:Z=>{D?rt(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(b||(rt(Xe,`Opening RPC '${t}' stream ${l} transport.`),T.open(),b=!0),rt(Xe,`RPC '${t}' stream ${l} sending:`,Z),T.send(Z))},Jo:()=>T.close()});return yl(T,_l.EventType.OPEN,(()=>{D||(rt(Xe,`RPC '${t}' stream ${l} transport opened.`),H.i_())})),yl(T,_l.EventType.CLOSE,(()=>{D||(D=!0,rt(Xe,`RPC '${t}' stream ${l} transport closed`),H.o_(),this.E_(T))})),yl(T,_l.EventType.ERROR,(Z=>{D||(D=!0,js(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),H.o_(new it(Y.UNAVAILABLE,"The operation could not be completed")))})),yl(T,_l.EventType.MESSAGE,(Z=>{if(!D){const et=Z.data[0];Gt(!!et,16349);const J=et,ft=J?.error||J[0]?.error;if(ft){rt(Xe,`RPC '${t}' stream ${l} received error:`,ft);const gt=ft.status;let _t=(function(Lt){const C=we[Lt];if(C!==void 0)return ST(C)})(gt),jt=ft.message;gt==="NOT_FOUND"&&jt.includes("database")&&jt.includes("does not exist")&&jt.includes(this.databaseId.database)&&js(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),_t===void 0&&(_t=Y.INTERNAL,jt="Unknown error status: "+gt+" with message "+ft.message),D=!0,H.o_(new it(_t,jt)),T.close()}else rt(Xe,`RPC '${t}' stream ${l} received:`,et),H.__(et)}})),ja.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return HE()}}function IR(r){return new ja(r)}function Pd(){return typeof document<"u"?document:null}function ph(r){return new Ow(r,!0)}ja.c_=!1;class PT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Vv="PersistentStream";class zT{constructor(t,i,a,l,c,d,p,_){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?($i(i.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new it(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(Vv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(rt(Vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CR extends zT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=xw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?bi(d.readTime):vt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=sm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Wd(_)?{documents:kw(c,_)}:{query:Pw(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=RT(c,d.resumeToken);const y=nm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=Xc(c,d.snapshotVersion.toTimestamp());const y=nm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=Bw(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=sm(this.serializer),i.removeTarget=t,this.K_(i)}}class DR extends zT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Lw(t.writeResults,t.commitTime),a=bi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=sm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Uw(this.serializer,a)))};this.K_(i)}}class NR{}class OR extends NR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,im(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new it(Y.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,im(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function VR(r,t,i,a){return new OR(r,t,i,a)}class MR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qs="RemoteStore";class xR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Fs(this)&&(rt(qs,"Restarting streams for network reachability change."),await(async function(_){const y=Tt(_);y.Ea.add(4),await Hl(y),y.Va.set("Unknown"),y.Ea.delete(4),await yh(y)})(this))}))})),this.Va=new MR(a,l)}}async function yh(r){if(Fs(r))for(const t of r.Ra)await t(!0)}async function Hl(r){for(const t of r.Ra)await t(!1)}function BT(r,t){const i=Tt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Pm(i)?km(i):lo(i).O_()&&Lm(i,t))}function Um(r,t){const i=Tt(r),a=lo(i);i.Ia.delete(t),a.O_()&&jT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Fs(i)&&i.Va.set("Unknown"))}function Lm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}lo(r).Z_(t)}function jT(r,t){r.da.$e(t),lo(r).X_(t)}function km(r){r.da=new Iw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),lo(r).start(),r.Va.ua()}function Pm(r){return Fs(r)&&!lo(r).x_()&&r.Ia.size>0}function Fs(r){return Tt(r).Ea.size===0}function qT(r){r.da=void 0}async function UR(r){r.Va.set("Online")}async function LR(r){r.Ia.forEach(((t,i)=>{Lm(r,t)}))}async function kR(r,t){qT(r),Pm(r)?(r.Va.ha(t),km(r)):r.Va.set("Unknown")}async function PR(r,t,i){if(r.Va.set("Online"),t instanceof wT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,t)}catch(a){rt(qs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Zc(r,a)}else if(t instanceof Uc?r.da.Xe(t):t instanceof bT?r.da.st(t):r.da.tt(t),!i.isEqual(vt.min()))try{const a=await kT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(Ke.EMPTY_BYTE_STRING,T.snapshotVersion)),jT(c,_);const b=new zr(T.target,_,y,T.sequenceNumber);Lm(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){rt(qs,"Failed to raise snapshot:",a),await Zc(r,a)}}async function Zc(r,t,i){if(!ao(t))throw t;r.Ea.add(1),await Hl(r),r.Va.set("Offline"),i||(i=()=>kT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(qs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await yh(r)}))}function HT(r,t){return t().catch((i=>Zc(r,i,t)))}async function _h(r){const t=Tt(r),i=Jr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Em;for(;zR(t);)try{const l=await vR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,BR(t,l)}catch(l){await Zc(t,l)}GT(t)&&FT(t)}function zR(r){return Fs(r)&&r.Ta.length<10}function BR(r,t){r.Ta.push(t);const i=Jr(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function GT(r){return Fs(r)&&!Jr(r).x_()&&r.Ta.length>0}function FT(r){Jr(r).start()}async function jR(r){Jr(r).ra()}async function qR(r){const t=Jr(r);for(const i of r.Ta)t.ea(i.mutations)}async function HR(r,t,i){const a=r.Ta.shift(),l=Cm.from(a,t,i);await HT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await _h(r)}async function GR(r,t){t&&Jr(r).Y_&&await(async function(a,l){if((function(d){return bw(d)&&d!==Y.ABORTED})(l.code)){const c=a.Ta.shift();Jr(a).B_(),await HT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await _h(a)}})(r,t),GT(r)&&FT(r)}async function Mv(r,t){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),rt(qs,"RemoteStore received new credentials");const a=Fs(i);i.Ea.add(3),await Hl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await yh(i)}async function FR(r,t){const i=Tt(r);t?(i.Ea.delete(2),await yh(i)):t||(i.Ea.add(2),await Hl(i),i.Va.set("Unknown"))}function lo(r){return r.ma||(r.ma=(function(i,a,l){const c=Tt(i);return c.sa(),new CR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:UR.bind(null,r),Yo:LR.bind(null,r),t_:kR.bind(null,r),J_:PR.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Pm(r)?km(r):r.Va.set("Unknown")):(await r.ma.stop(),qT(r))}))),r.ma}function Jr(r){return r.fa||(r.fa=(function(i,a,l){const c=Tt(i);return c.sa(),new DR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:jR.bind(null,r),t_:GR.bind(null,r),ta:qR.bind(null,r),na:HR.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await _h(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(qs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class zm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new zm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bm(r,t){if($i("AsyncQueue",`${t}: ${r}`),ao(r))return new it(Y.UNAVAILABLE,`${t}: ${r}`);throw r}class qa{static emptySet(t){return new qa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=vl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new qa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class xv{constructor(){this.ga=new le(ht.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):mt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class $a{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new $a(t,i,qa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class QR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class KR{constructor(){this.queries=Uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Tt(i),c=l.queries;l.queries=Uv(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(a)}))})(this,new it(Y.ABORTED,"Firestore shutting down"))}}function Uv(){return new Gs((r=>hT(r)),hh)}async function YR(r,t){const i=Tt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new QR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Bm(d,`Initialization of query '${Pa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&jm(i)}async function XR(r,t){const i=Tt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function JR(r,t){const i=Tt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&jm(i)}function ZR(r,t,i){const a=Tt(r),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function jm(r){r.Ca.forEach((t=>{t.next()}))}var lm,Lv;(Lv=lm||(lm={})).Ma="default",Lv.Cache="cache";class $R{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new $a(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=$a.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==lm.Cache}}class QT{constructor(t){this.key=t}}class KT{constructor(t){this.key=t}}class WR{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=xt(),this.mutatedKeys=xt(),this.eu=fT(t),this.tu=new qa(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new xv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,b)=>{const D=l.get(T),H=fh(this.query,b)?b:null,Z=!!D&&this.mutatedKeys.has(D.key),et=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let J=!1;D&&H?D.data.isEqual(H.data)?Z!==et&&(a.track({type:3,doc:H}),J=!0):this.su(D,H)||(a.track({type:2,doc:H}),J=!0,(_&&this.eu(H,_)>0||y&&this.eu(H,y)<0)&&(p=!0)):!D&&H?(a.track({type:0,doc:H}),J=!0):D&&!H&&(a.track({type:1,doc:D}),J=!0,(_||y)&&(p=!0)),J&&(H?(d=d.add(H),c=et?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,b)=>(function(H,Z){const et=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Vt:J})}};return et(H)-et(Z)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new $a(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=xt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new KT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new QT(a))})),i}cu(t){this.Za=t.ks,this.Ya=xt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return $a.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const qm="SyncEngine";class tI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class eI{constructor(t){this.key=t,this.hu=!1}}class nI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Gs((p=>hT(p)),hh),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(ht.comparator),this.Au=new Map,this.Vu=new Om,this.du={},this.mu=new Map,this.fu=Za.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iI(r,t,i=!0){const a=WT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await YT(a,t,i,!0),l}async function rI(r,t){const i=WT(r);await YT(i,t,!0,!1)}async function YT(r,t,i,a){const l=await ER(r.localStore,Si(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await sI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&BT(r.remoteStore,l),p}async function sI(r,t,i,a,l){r.pu=(b,D,H)=>(async function(et,J,ft,gt){let _t=J.view.ru(ft);_t.Ss&&(_t=await Cv(et.localStore,J.query,!1).then((({documents:C})=>J.view.ru(C,_t))));const jt=gt&&gt.targetChanges.get(J.targetId),ee=gt&&gt.targetMismatches.get(J.targetId)!=null,Lt=J.view.applyChanges(_t,et.isPrimaryClient,jt,ee);return Pv(et,J.targetId,Lt.au),Lt.snapshot})(r,b,D,H);const c=await Cv(r.localStore,t,!0),d=new WR(t,c.ks),p=d.ru(c.documents),_=ql.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);Pv(r,i,y.au);const T=new tI(t,i,d);return r.Tu.set(t,T),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function aI(r,t,i){const a=Tt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!hh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await am(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Um(a.remoteStore,l.targetId),um(a,l.targetId)})).catch(so)):(um(a,l.targetId),await am(a.localStore,l.targetId,!0))}async function oI(r,t){const i=Tt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Um(i.remoteStore,a.targetId))}async function lI(r,t,i){const a=gI(r);try{const l=await(function(d,p){const _=Tt(d),y=re.now(),T=p.reduce(((H,Z)=>H.add(Z.key)),xt());let b,D;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let Z=Wi(),et=xt();return _.xs.getEntries(H,T).next((J=>{Z=J,Z.forEach(((ft,gt)=>{gt.isValidDocument()||(et=et.add(ft))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,Z))).next((J=>{b=J;const ft=[];for(const gt of p){const _t=vw(gt,b.get(gt.key).overlayedDocument);_t!=null&&ft.push(new Wr(gt.key,_t,iT(_t.value.mapValue),Jn.exists(!0)))}return _.mutationQueue.addMutationBatch(H,y,ft,p)})).next((J=>{D=J;const ft=J.applyToLocalDocumentSet(b,et);return _.documentOverlayCache.saveOverlays(H,J.batchId,ft)}))})).then((()=>({batchId:D.batchId,changes:mT(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new le(Mt)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await Gl(a,l.changes),await _h(a.remoteStore)}catch(l){const c=Bm(l,"Failed to persist write");i.reject(c)}}async function XT(r,t){const i=Tt(r);try{const a=await yR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Gt(d.hu,14607):l.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await Gl(i,a,t)}catch(a){await so(a)}}function kv(r,t,i){const a=Tt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Tt(d);_.onlineState=p;let y=!1;_.queries.forEach(((T,b)=>{for(const D of b.ba)D.va(p)&&(y=!0)})),y&&jm(_)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function uI(r,t,i){const a=Tt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new le(ht.comparator);d=d.insert(c,Ze.newNoDocument(c,vt.min()));const p=xt().add(c),_=new gh(vt.min(),new Map,new le(Mt),d,p);await XT(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(t),Hm(a)}else await am(a.localStore,t,!1).then((()=>um(a,t,i))).catch(so)}async function cI(r,t){const i=Tt(r),a=t.batch.batchId;try{const l=await pR(i.localStore,t);ZT(i,a,null),JT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Gl(i,l)}catch(l){await so(l)}}async function hI(r,t,i){const a=Tt(r);try{const l=await(function(d,p){const _=Tt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,p).next((b=>(Gt(b!==null,37113),T=b.keys(),_.mutationQueue.removeMutationBatch(y,b)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(a.localStore,t);ZT(a,t,i),JT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Gl(a,l)}catch(l){await so(l)}}function JT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function ZT(r,t,i){const a=Tt(r);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function um(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||$T(r,a)}))}function $T(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(Um(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),Hm(r))}function Pv(r,t,i){for(const a of i)a instanceof QT?(r.Vu.addReference(a.key,t),fI(r,a)):a instanceof KT?(rt(qm,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||$T(r,a.key)):mt(19791,{wu:a})}function fI(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(rt(qm,"New document in limbo: "+i),r.Eu.add(a),Hm(r))}function Hm(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ht(te.fromString(t)),a=r.fu.next();r.Au.set(a,new eI(i)),r.Ru=r.Ru.insert(i,a),BT(r.remoteStore,new zr(Si(wm(i.path)),a,"TargetPurposeLimboResolution",lh.ce))}}async function Gl(r,t,i){const a=Tt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){l.push(y);const T=Mm.Es(_.targetId,y);c.push(T)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(_,y){const T=Tt(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(y,(D=>X.forEach(D.Ts,(H=>T.persistence.referenceDelegate.addReference(b,D.targetId,H))).next((()=>X.forEach(D.Is,(H=>T.persistence.referenceDelegate.removeReference(b,D.targetId,H)))))))))}catch(b){if(!ao(b))throw b;rt(xm,"Failed to update sequence numbers: "+b)}for(const b of y){const D=b.targetId;if(!b.fromCache){const H=T.vs.get(D),Z=H.snapshotVersion,et=H.withLastLimboFreeSnapshotVersion(Z);T.vs=T.vs.insert(D,et)}}})(a.localStore,c))}async function dI(r,t){const i=Tt(r);if(!i.currentUser.isEqual(t)){rt(qm,"User change. New user:",t.toKey());const a=await LT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new it(Y.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Gl(i,a.Ns)}}function mI(r,t){const i=Tt(r),a=i.Au.get(t);if(a&&a.hu)return xt().add(a.key);{let l=xt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function WT(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=XT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uI.bind(null,t),t.Pu.J_=JR.bind(null,t.eventManager),t.Pu.yu=ZR.bind(null,t.eventManager),t}function gI(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hI.bind(null,t),t}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ph(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return gR(this.persistence,new fR,t.initialUser,this.serializer)}Cu(t){return new UT(Vm.Vi,this.serializer)}Du(t){return new AR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class pI extends $c{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof Jc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Zw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new UT((a=>Jc.Vi(a,i)),this.serializer)}}class cm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>kv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=dI.bind(null,this.syncEngine),await FR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new KR})()}createDatastore(t){const i=ph(t.databaseInfo.databaseId),a=IR(t.databaseInfo);return VR(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new xR(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>kv(this.syncEngine,i,0)),(function(){return Ov.v()?new Ov:new SR})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,T){const b=new nI(l,c,d,p,_,y);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);rt(qs,"RemoteStore shutting down."),a.Ea.add(5),await Hl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cm.provider={build:()=>new cm};class yI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):$i("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Zr="FirestoreClient";class _I{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(Zr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(Zr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Bm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function zd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(Zr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await LT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function zv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await vI(r);rt(Zr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Mv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Mv(t.remoteStore,l))),r._onlineComponents=t}async function vI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(Zr,"Using user provided OfflineComponentProvider");try{await zd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;js("Error using user provided cache. Falling back to memory cache: "+i),await zd(r,new $c)}}else rt(Zr,"Using default OfflineComponentProvider"),await zd(r,new pI(void 0));return r._offlineComponents}async function t0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(Zr,"Using user provided OnlineComponentProvider"),await zv(r,r._uninitializedComponentsProvider._online)):(rt(Zr,"Using default OnlineComponentProvider"),await zv(r,new cm))),r._onlineComponents}function EI(r){return t0(r).then((t=>t.syncEngine))}async function Bv(r){const t=await t0(r),i=t.eventManager;return i.onListen=iI.bind(null,t.syncEngine),i.onUnlisten=aI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=rI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=oI.bind(null,t.syncEngine),i}function TI(r,t,i,a){const l=new yI(a),c=new $R(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>YR(await Bv(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>XR(await Bv(r),c)))}}function AI(r,t){const i=new Us;return r.asyncQueue.enqueueAndForget((async()=>lI(await EI(r),t,i))),i.promise}function e0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const SI="ComponentProvider",jv=new Map;function bI(r,t,i,a,l){return new Bb(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,e0(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const n0="firestore.googleapis.com",qv=!0;class Hv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=n0,this.ssl=qv}else this.host=t.host,this.ssl=t.ssl??qv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=xT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Xw)throw new it(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Db("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e0(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new vb;switch(a.type){case"firstParty":return new Sb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new it(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=jv.get(i);a&&(rt(SI,"Removing Datastore"),jv.delete(i),a.terminate())})(this),Promise.resolve()}}function wI(r,t,i,a={}){r=Gr(r,vh);const l=no(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(NE(`https://${p}`),OE("Firestore",!0)),c.host!==n0&&c.host!==p&&js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!Ps(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,T;if(typeof a.mockUserToken=="string")y=a.mockUserToken,T=Je.MOCK_USER;else{y=HS(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new it(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Je(b)}r._authCredentials=new Eb(new FE(y,T))}}class Qs{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Qs(this.firestore,t,this._query)}}class Ce{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ce(this.firestore,t,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Bl(i,Ce._jsonSchema))return new Ce(t,a||null,new ht(te.fromString(i.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:Ie("string",Ce._jsonSchemaVersion),referencePath:Ie("string")};class Fr extends Qs{constructor(t,i,a){super(t,i,wm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ce(this.firestore,null,new ht(t))}withConverter(t){return new Fr(this.firestore,t,this._path)}}function Dc(r,t,...i){if(r=Pe(r),QE("collection","path",t),r instanceof vh){const a=te.fromString(t,...i);return ev(a),new Fr(r,null,a)}{if(!(r instanceof Ce||r instanceof Fr))throw new it(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(te.fromString(t,...i));return ev(a),new Fr(r.firestore,null,a)}}function Lc(r,t,...i){if(r=Pe(r),arguments.length===1&&(t=vm.newId()),QE("doc","path",t),r instanceof vh){const a=te.fromString(t,...i);return tv(a),new Ce(r,null,new ht(a))}{if(!(r instanceof Ce||r instanceof Fr))throw new it(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(te.fromString(t,...i));return tv(a),new Ce(r.firestore,r instanceof Fr?r.converter:null,new ht(a))}}const Gv="AsyncQueue";class Fv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PT(this,"async_queue_retry"),this._c=()=>{const a=Pd();a&&rt(Gv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Pd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Pd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ao(t))throw t;rt(Gv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",Qv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=zm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:Qv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Qv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Wa extends vh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Fv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Fv(t),this._firestoreClient=void 0,await t}}}function RI(r,t){const i=typeof r=="object"?r:UE(),a=typeof r=="string"?r:Fc,l=ym(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=jS("firestore");c&&wI(l,...c)}return l}function i0(r){if(r._terminated)throw new it(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||II(r),r._firestoreClient}function II(r){const t=r._freezeSettings(),i=bI(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new _I(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Ke.fromBase64String(t))}catch(i){throw new it(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ie("string",Un._jsonSchemaVersion),bytes:Ie("string")};class Gm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new it(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Eh{constructor(t){this._methodName=t}}class wi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new it(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new it(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(t){if(Bl(t,wi._jsonSchema))return new wi(t.latitude,t.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Ie("string",wi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Zn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bl(t,Zn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Zn(t.vectorValues);throw new it(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zn._jsonSchemaVersion="firestore/vectorValue/1.0",Zn._jsonSchema={type:Ie("string",Zn._jsonSchemaVersion),vectorValues:Ie("object")};const CI=/^__.*__$/;class DI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Wr(t,this.data,this.fieldMask,i,this.fieldTransforms):new jl(t,this.data,i,this.fieldTransforms)}}class r0{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Wr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function s0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{dataSource:r})}}class Fm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Fm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Wc(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(s0(this.dataSource)&&CI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class NI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||ph(t)}createContext(t,i,a,l=!1){return new Fm({dataSource:t,methodName:i,targetDoc:a,path:Qe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qm(r){const t=r._freezeSettings(),i=ph(r._databaseId);return new NI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function OI(r,t,i,a,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,l);Ym("Data must be an object, but it was:",d,a);const p=a0(a,d);let _,y;if(c.merge)_=new Tn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const b of c.mergeFields){const D=to(t,b,i);if(!d.contains(D))throw new it(Y.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);u0(T,D)||T.push(D)}_=new Tn(T),y=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,y=d.fieldTransforms;return new DI(new hn(p),_,y)}class Th extends Eh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Th}}class Km extends Eh{_toFieldTransform(t){return new gw(t.path,new xl)}isEqual(t){return t instanceof Km}}function VI(r,t,i,a){const l=r.createContext(1,t,i);Ym("Data must be an object, but it was:",l,a);const c=[],d=hn.empty();$r(a,((_,y)=>{const T=l0(t,_,i);y=Pe(y);const b=l.childContextForFieldPath(T);if(y instanceof Th)c.push(T);else{const D=Fl(y,b);D!=null&&(c.push(T),d.set(T,D))}}));const p=new Tn(c);return new r0(d,p,l.fieldTransforms)}function MI(r,t,i,a,l,c){const d=r.createContext(1,t,i),p=[to(t,a,i)],_=[l];if(c.length%2!=0)throw new it(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)p.push(to(t,c[D])),_.push(c[D+1]);const y=[],T=hn.empty();for(let D=p.length-1;D>=0;--D)if(!u0(y,p[D])){const H=p[D];let Z=_[D];Z=Pe(Z);const et=d.childContextForFieldPath(H);if(Z instanceof Th)y.push(H);else{const J=Fl(Z,et);J!=null&&(y.push(H),T.set(H,J))}}const b=new Tn(y);return new r0(T,b,d.fieldTransforms)}function xI(r,t,i,a=!1){return Fl(i,r.createContext(a?4:3,t))}function Fl(r,t){if(o0(r=Pe(r)))return Ym("Unsupported field value:",t,r),a0(r,t);if(r instanceof Eh)return(function(a,l){if(!s0(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=Fl(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Pe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return fw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=re.fromDate(a);return{timestampValue:Xc(l.serializer,c)}}if(a instanceof re){const c=new re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Xc(l.serializer,c)}}if(a instanceof wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:RT(l.serializer,a._byteString)};if(a instanceof Ce){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Nm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Zn)return(function(d,p){const _=d instanceof Zn?d.toArray():d;return{mapValue:{fields:{[eT]:{stringValue:nT},[Qc]:{arrayValue:{values:_.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return Rm(p.serializer,T)}))}}}}}})(a,l);if(MT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${oh(a)}`)})(r,t)}function a0(r,t){const i={};return XE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$r(r,((a,l)=>{const c=Fl(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function o0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof wi||r instanceof Un||r instanceof Ce||r instanceof Eh||r instanceof Zn||MT(r))}function Ym(r,t,i){if(!o0(i)||!KE(i)){const a=oh(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function to(r,t,i){if((t=Pe(t))instanceof Gm)return t._internalPath;if(typeof t=="string")return l0(r,t);throw Wc("Field path arguments must be of type string or ",r,!1,void 0,i)}const UI=new RegExp("[~\\*/\\[\\]]");function l0(r,t,i){if(t.search(UI)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Gm(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Wc(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new it(Y.INVALID_ARGUMENT,p+r+_)}function u0(r,t){return r.some((i=>i.isEqual(t)))}class LI{convertValue(t,i="none"){switch(Xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return $r(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Qc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new Zn(i)}convertGeoPoint(t){return new wi(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ch(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Nl(t));default:return null}}convertTimestamp(t){const i=Kr(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=te.fromString(t);Gt(VT(a),9688,{name:t});const l=new Ol(a.get(1),a.get(3)),c=new ht(a.popFirst(5));return l.isEqual(i)||$i(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class c0 extends LI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,i)}}function Kv(){return new Km("serverTimestamp")}const Yv="@firebase/firestore",Xv="4.11.0";function Jv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class h0{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new kI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(to("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class kI extends h0{data(){return super.data()}}function PI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new it(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xm{}class f0 extends Xm{}function Zv(r,t,...i){let a=[];t instanceof Xm&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((_=>_ instanceof Zm)).length,p=c.filter((_=>_ instanceof Jm)).length;if(d>1||d>0&&p>0)throw new it(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class Jm extends f0{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new Jm(t,i,a)}_apply(t){const i=this._parse(t);return d0(t._query,i),new Qs(t.firestore,t.converter,tm(t._query,i))}_parse(t){const i=Qm(t.firestore);return(function(c,d,p,_,y,T,b){let D;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new it(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){tE(b,T);const Z=[];for(const et of b)Z.push(Wv(_,c,et));D={arrayValue:{values:Z}}}else D=Wv(_,c,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||tE(b,T),D=xI(p,d,b,T==="in"||T==="not-in");return Re.create(y,T,D)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Zm extends Xm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Zm(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Wn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const _ of p)d0(d,_),d=tm(d,_)})(t._query,i),new Qs(t.firestore,t.converter,tm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $m extends f0{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new $m(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new it(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new it(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ml(c,d)})(t._query,this._field,this._direction);return new Qs(t.firestore,t.converter,rw(t._query,i))}}function $v(r,t="asc"){const i=t,a=to("orderBy",r);return $m._create(a,i)}function Wv(r,t,i){if(typeof(i=Pe(i))=="string"){if(i==="")throw new it(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cT(t)&&i.indexOf("/")!==-1)throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(te.fromString(i));if(!ht.isDocumentKey(a))throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return uv(r,new ht(a))}if(i instanceof Ce)return uv(r,i._key);throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(i)}.`)}function tE(r,t){if(!Array.isArray(r)||r.length===0)throw new it(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function d0(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new it(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function zI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Tl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ls extends h0{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(to("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ls._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ls._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ls._jsonSchema={type:Ie("string",Ls._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class kc extends Ls{data(t={}){return super.data(t)}}class Ha{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Tl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new kc(this._firestore,this._userDataWriter,a.key,a,new Tl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:BI(p.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ha._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function BI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:r})}}Ha._jsonSchemaVersion="firestore/querySnapshot/1.0",Ha._jsonSchema={type:Ie("string",Ha._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};function jI(r,t,i,...a){r=Gr(r,Ce);const l=Gr(r.firestore,Wa),c=Qm(l);let d;return d=typeof(t=Pe(t))=="string"||t instanceof Gm?MI(c,"updateDoc",r._key,t,i,a):VI(c,"updateDoc",r._key,t),Wm(l,[d.toMutation(r._key,Jn.exists(!0))])}function eE(r){return Wm(Gr(r.firestore,Wa),[new Im(r._key,Jn.none())])}function nE(r,t){const i=Gr(r.firestore,Wa),a=Lc(r),l=zI(r.converter,t),c=Qm(r.firestore);return Wm(i,[OI(c,"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Jn.exists(!1))]).then((()=>a))}function iE(r,...t){r=Pe(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Jv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Jv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Ce)d=Gr(r.firestore,Wa),p=wm(r._key.path),c={next:y=>{t[a]&&t[a](qI(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Gr(r,Qs);d=Gr(y.firestore,Wa),p=y._query;const T=new c0(d);c={next:b=>{t[a]&&t[a](new Ha(d,T,y,b))},error:t[a+1],complete:t[a+2]},PI(r._query)}const _=i0(d);return TI(_,p,l,c)}function Wm(r,t){const i=i0(r);return AI(i,t)}function qI(r,t,i){const a=i.docs.get(t._key),l=new c0(r);return new Ls(r,l,t._key,a,new Tl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){_b(io),Ka(new zs("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Wa(new Tb(a.getProvider("auth-internal")),new bb(d,a.getProvider("app-check-internal")),jb(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),qr(Yv,Xv,t),qr(Yv,Xv,"esm2020")})();function m0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HI=m0,g0=new Pl("auth","Firebase",m0());const th=new gm("@firebase/auth");function GI(r,...t){th.logLevel<=Vt.WARN&&th.warn(`Auth (${io}): ${r}`,...t)}function Pc(r,...t){th.logLevel<=Vt.ERROR&&th.error(`Auth (${io}): ${r}`,...t)}function Ci(r,...t){throw eg(r,...t)}function $n(r,...t){return eg(r,...t)}function tg(r,t,i){const a={...HI(),[t]:i};return new Pl("auth","Firebase",a).create(t,{appName:r.name})}function ks(r){return tg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FI(r,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Ci(r,"argument-error"),tg(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eg(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return g0.create(r,...t)}function pt(r,t,...i){if(!r)throw eg(t,...i)}function Xi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Pc(t),new Error(t)}function tr(r,t){r||Xi(t)}function hm(){return typeof self<"u"&&self.location?.href||""}function QI(){return rE()==="http:"||rE()==="https:"}function rE(){return typeof self<"u"&&self.location?.protocol||null}function KI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QI()||XS()||"connection"in navigator)?navigator.onLine:!0}function YI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,tr(i>t,"Short delay should be less than long delay!"),this.isMobile=QS()||JS()}get(){return KI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ng(r,t){tr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class p0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const XI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const JI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZI=new Ql(3e4,6e4);function ig(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function uo(r,t,i,a,l={}){return y0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=zl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return YS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&no(r.emulatorConfig.host)&&(y.credentials="include"),p0.fetch()(await _0(r,r.config.apiHost,i,p),y)})}async function y0(r,t,i){r._canInitEmulator=!1;const a={...XI,...t};try{const l=new WI(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Nc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Nc(r,"user-disabled",d);const T=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw tg(r,T,y);Ci(r,T)}}catch(l){if(l instanceof er)throw l;Ci(r,"network-request-failed",{message:String(l)})}}async function $I(r,t,i,a,l={}){const c=await uo(r,t,i,a,l);return"mfaPendingCredential"in c&&Ci(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function _0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?ng(r.config,l):`${r.config.apiScheme}://${l}`;return JI.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class WI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a($n(this.auth,"network-request-failed")),ZI.get())})}}function Nc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=$n(r,t,a);return l.customData._tokenResponse=i,l}async function tC(r,t){return uo(r,"POST","/v1/accounts:delete",t)}async function eh(r,t){return uo(r,"POST","/v1/accounts:lookup",t)}function Il(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function eC(r,t=!1){const i=Pe(r),a=await i.getIdToken(t),l=rg(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Il(Bd(l.auth_time)),issuedAtTime:Il(Bd(l.iat)),expirationTime:Il(Bd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(r){return Number(r)*1e3}function rg(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const l=RE(i);return l?JSON.parse(l):(Pc("Failed to decode base64 JWT payload"),null)}catch(l){return Pc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function sE(r){const t=rg(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function kl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof er&&nC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function nC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class iC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class fm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nh(r){const t=r.auth,i=await r.getIdToken(),a=await kl(r,eh(t,{idToken:i}));pt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?v0(l.providerUserInfo):[],d=sC(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function rC(r){const t=Pe(r);await nh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function sC(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function v0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function aC(r,t){const i=await y0(r,{},async()=>{const a=zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await _0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&no(r.emulatorConfig.host)&&(_.credentials="include"),p0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function oC(r,t){return uo(r,"POST","/v2/accounts:revokeToken",ig(r,t))}class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):sE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=sE(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await aC(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ga;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function Ur(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new iC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new fm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await kl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return eC(this,t)}reload(){return rC(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await nh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(ks(this.auth));const t=await this.getIdToken();return await kl(this,tC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:b,emailVerified:D,isAnonymous:H,providerData:Z,stsTokenManager:et}=i;pt(b&&et,t,"internal-error");const J=Ga.fromJSON(this.name,et);pt(typeof b=="string",t,"internal-error"),Ur(a,t.name),Ur(l,t.name),pt(typeof D=="boolean",t,"internal-error"),pt(typeof H=="boolean",t,"internal-error"),Ur(c,t.name),Ur(d,t.name),Ur(p,t.name),Ur(_,t.name),Ur(y,t.name),Ur(T,t.name);const ft=new Xn({uid:b,auth:t,email:l,emailVerified:D,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:y,lastLoginAt:T});return Z&&Array.isArray(Z)&&(ft.providerData=Z.map(gt=>({...gt}))),_&&(ft._redirectEventId=_),ft}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ga;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await nh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?v0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ga;p.updateFromIdToken(a);const _=new Xn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const aE=new Map;function Ji(r){tr(r instanceof Function,"Expected a class definition");let t=aE.get(r);return t?(tr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,aE.set(r,t),t)}class E0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}E0.type="NONE";const oE=E0;function zc(r,t,i){return`firebase:${r}:${t}:${i}`}class Fa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=zc(this.userKey,l.apiKey,c),this.fullPersistenceKey=zc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await eh(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Fa(Ji(oE),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Ji(oE);const d=zc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const T=await y._get(d);if(T){let b;if(typeof T=="string"){const D=await eh(t,{idToken:T}).catch(()=>{});if(!D)break;b=await Xn._fromGetAccountInfoResponse(t,D,T)}else b=Xn._fromJSON(t,T);y!==c&&(p=b),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Fa(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Fa(c,t,a))}}function lE(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(b0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(T0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(R0(t))return"Blackberry";if(I0(t))return"Webos";if(A0(t))return"Safari";if((t.includes("chrome/")||S0(t))&&!t.includes("edge/"))return"Chrome";if(w0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function T0(r=$e()){return/firefox\//i.test(r)}function A0(r=$e()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function S0(r=$e()){return/crios\//i.test(r)}function b0(r=$e()){return/iemobile/i.test(r)}function w0(r=$e()){return/android/i.test(r)}function R0(r=$e()){return/blackberry/i.test(r)}function I0(r=$e()){return/webos/i.test(r)}function sg(r=$e()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function lC(r=$e()){return sg(r)&&!!window.navigator?.standalone}function uC(){return ZS()&&document.documentMode===10}function C0(r=$e()){return sg(r)||w0(r)||I0(r)||R0(r)||/windows phone/i.test(r)||b0(r)}function D0(r,t=[]){let i;switch(r){case"Browser":i=lE($e());break;case"Worker":i=`${lE($e())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${io}/${a}`}class cC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function hC(r,t={}){return uo(r,"GET","/v2/passwordPolicy",ig(r,t))}const fC=6;class dC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??fC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class mC{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uE(this),this.idTokenSubscription=new uE(this),this.beforeStateQueue=new cC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await eh(this,{idToken:t}),a=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await nh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=YI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(ks(this));const i=t?Pe(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await hC(this),i=new dC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Pl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await oC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ji(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=D0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&GI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ah(r){return Pe(r)}class uE{constructor(t){this.auth=t,this.observer=null,this.addObserver=s1(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ag={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gC(r){ag=r}function pC(r){return ag.loadJS(r)}function yC(){return ag.gapiScript}function _C(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function vC(r,t){const i=ym(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ps(c,t??{}))return l;Ci(l,"already-initialized")}return i.initialize({options:t})}function EC(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ji);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function TC(r,t,i){const a=Ah(r);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=N0(t),{host:d,port:p}=AC(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(Ps(y,a.config.emulator)&&Ps(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,no(d)?(NE(`${c}//${d}${_}`),OE("Auth",!0)):SC()}function N0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function AC(r){const t=N0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:cE(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:cE(d)}}}function cE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function SC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class O0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function Qa(r,t){return $I(r,"POST","/v1/accounts:signInWithIdp",ig(r,t))}const bC="http://localhost";class Hs extends O0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Hs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ci("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Hs(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Qa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Qa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Qa(t,i)}buildRequest(){const t={requestUri:bC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=zl(i)}return t}}class og{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Kl extends og{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Lr extends Kl{constructor(){super("facebook.com")}static credential(t){return Hs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lr.credential(t.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";class Yi extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Hs._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Yi.credentialFromTaggedObject(t)}static credentialFromError(t){return Yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Yi.credential(i,a)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";class kr extends Kl{constructor(){super("github.com")}static credential(t){return Hs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";class Pr extends Kl{constructor(){super("twitter.com")}static credential(t,i){return Hs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Pr.credential(i,a)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";class eo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Xn._fromIdTokenResponse(t,a,l),d=hE(a);return new eo({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=hE(a);return new eo({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function hE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class ih extends er{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new ih(t,i,a,l)}}function V0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(r,c,t,a):c})}async function wC(r,t,i=!1){const a=await kl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return eo._forOperation(r,"link",a)}async function RC(r,t,i=!1){const{auth:a}=r;if(Yn(a.app))return Promise.reject(ks(a));const l="reauthenticate";try{const c=await kl(r,V0(a,l,t,r),i);pt(c.idToken,a,"internal-error");const d=rg(c.idToken);pt(d,a,"internal-error");const{sub:p}=d;return pt(r.uid===p,a,"user-mismatch"),eo._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ci(a,"user-mismatch"),c}}async function IC(r,t,i=!1){if(Yn(r.app))return Promise.reject(ks(r));const a="signIn",l=await V0(r,a,t),c=await eo._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function CC(r,t,i,a){return Pe(r).onIdTokenChanged(t,i,a)}function DC(r,t,i){return Pe(r).beforeAuthStateChanged(t,i)}function NC(r,t,i,a){return Pe(r).onAuthStateChanged(t,i,a)}function OC(r){return Pe(r).signOut()}const rh="__sak";class M0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const VC=1e3,MC=10;class x0 extends M0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);uC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,MC):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},VC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}x0.type="LOCAL";const xC=x0;class U0 extends M0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}U0.type="SESSION";const L0=U0;function UC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Sh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Sh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await UC(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sh.receivers=[];function lg(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class LC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=lg("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const D=b;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(D.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ri(){return window}function kC(r){Ri().location.href=r}function k0(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function PC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zC(){return navigator?.serviceWorker?.controller||null}function BC(){return k0()?self:null}const P0="firebaseLocalStorageDb",jC=1,sh="firebaseLocalStorage",z0="fbase_key";class Yl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function bh(r,t){return r.transaction([sh],t?"readwrite":"readonly").objectStore(sh)}function qC(){const r=indexedDB.deleteDatabase(P0);return new Yl(r).toPromise()}function dm(){const r=indexedDB.open(P0,jC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(sh,{keyPath:z0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(sh)?t(a):(a.close(),await qC(),t(await dm()))})})}async function fE(r,t,i){const a=bh(r,!0).put({[z0]:t,value:i});return new Yl(a).toPromise()}async function HC(r,t){const i=bh(r,!1).get(t),a=await new Yl(i).toPromise();return a===void 0?null:a.value}function dE(r,t){const i=bh(r,!0).delete(t);return new Yl(i).toPromise()}const GC=800,FC=3;class B0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>FC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sh._getInstance(BC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PC(),!this.activeServiceWorker)return;this.sender=new LC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||zC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await dm();return await fE(t,rh,"1"),await dE(t,rh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>fE(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>HC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>dE(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=bh(l,!1).getAll();return new Yl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B0.type="LOCAL";const QC=B0;new Ql(3e4,6e4);function j0(r,t){return t?Ji(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ug extends O0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Qa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function KC(r){return IC(r.auth,new ug(r),r.bypassAuthState)}function YC(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),RC(i,new ug(r),r.bypassAuthState)}async function XC(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),wC(i,new ug(r),r.bypassAuthState)}class q0{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return KC;case"linkViaPopup":case"linkViaRedirect":return XC;case"reauthViaPopup":case"reauthViaRedirect":return YC;default:Ci(this.auth,"internal-error")}}resolve(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const JC=new Ql(2e3,1e4);async function ZC(r,t,i){if(Yn(r.app))return Promise.reject($n(r,"operation-not-supported-in-this-environment"));const a=Ah(r);FI(r,t,og);const l=j0(a,i);return new xs(a,"signInViaPopup",t,l).executeNotNull()}class xs extends q0{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const t=lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,JC.get())};t()}}xs.currentPopupAction=null;const $C="pendingRedirect",Bc=new Map;class WC extends q0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Bc.get(this.auth._key());if(!t){try{const a=await t2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Bc.set(this.auth._key(),t)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t2(r,t){const i=i2(t),a=n2(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function e2(r,t){Bc.set(r._key(),t)}function n2(r){return Ji(r._redirectPersistence)}function i2(r){return zc($C,r.config.apiKey,r.name)}async function r2(r,t,i=!1){if(Yn(r.app))return Promise.reject(ks(r));const a=Ah(r),l=j0(a,t),d=await new WC(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const s2=600*1e3;class a2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!o2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!H0(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError($n(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=s2&&this.cachedEventUids.clear(),this.cachedEventUids.has(mE(t))}saveEventToCache(t){this.cachedEventUids.add(mE(t)),this.lastProcessedEventTime=Date.now()}}function mE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function H0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function o2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H0(r);default:return!1}}async function l2(r,t={}){return uo(r,"GET","/v1/projects",t)}const u2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c2=/^https?/;async function h2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await l2(r);for(const i of t)try{if(f2(i))return}catch{}Ci(r,"unauthorized-domain")}function f2(r){const t=hm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!c2.test(i))return!1;if(u2.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const d2=new Ql(3e4,6e4);function gE(){const r=Ri().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function m2(r){return new Promise((t,i)=>{function a(){gE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{gE(),i($n(r,"network-request-failed"))},timeout:d2.get()})}if(Ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ri().gapi?.load)a();else{const l=_C("iframefcb");return Ri()[l]=()=>{gapi.load?a():i($n(r,"network-request-failed"))},pC(`${yC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw jc=null,t})}let jc=null;function g2(r){return jc=jc||m2(r),jc}const p2=new Ql(5e3,15e3),y2="__/auth/iframe",_2="emulator/auth/iframe",v2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T2(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?ng(t,_2):`https://${r.config.authDomain}/${y2}`,a={apiKey:t.apiKey,appName:r.name,v:io},l=E2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${zl(a).slice(1)}`}async function A2(r){const t=await g2(r),i=Ri().gapi;return pt(i,r,"internal-error"),t.open({where:document.body,url:T2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=$n(r,"network-request-failed"),p=Ri().setTimeout(()=>{c(d)},p2.get());function _(){Ri().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const S2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b2=500,w2=600,R2="_blank",I2="http://localhost";class pE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C2(r,t,i,a=b2,l=w2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...S2,width:a.toString(),height:l.toString(),top:c,left:d},y=$e().toLowerCase();i&&(p=S0(y)?R2:i),T0(y)&&(t=t||I2,_.scrollbars="yes");const T=Object.entries(_).reduce((D,[H,Z])=>`${D}${H}=${Z},`,"");if(lC(y)&&p!=="_self")return D2(t||"",p),new pE(null);const b=window.open(t||"",p,T);pt(b,r,"popup-blocked");try{b.focus()}catch{}return new pE(b)}function D2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const N2="__/auth/handler",O2="emulator/auth/handler",V2=encodeURIComponent("fac");async function yE(r,t,i,a,l,c){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:io,eventId:l};if(t instanceof og){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",r1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,b]of Object.entries({}))d[T]=b}if(t instanceof Kl){const T=t.getScopes().filter(b=>b!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const _=await r._getAppCheckToken(),y=_?`#${V2}=${encodeURIComponent(_)}`:"";return`${M2(r)}?${zl(p).slice(1)}${y}`}function M2({config:r}){return r.emulator?ng(r,O2):`https://${r.authDomain}/${N2}`}const jd="webStorageSupport";class x2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=L0,this._completeRedirectFn=r2,this._overrideRedirectResult=e2}async _openPopup(t,i,a,l){tr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await yE(t,i,a,hm(),l);return C2(t,c,lg())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await yE(t,i,a,hm(),l);return kC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(tr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await A2(t),a=new a2(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(jd,{type:jd},l=>{const c=l?.[0]?.[jd];c!==void 0&&i(!!c),Ci(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=h2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return C0()||A0()||sg()}}const U2=x2;var _E="@firebase/auth",vE="1.12.0";class L2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function k2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P2(r){Ka(new zs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D0(r)},y=new mC(a,l,c,_);return EC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ka(new zs("auth-internal",t=>{const i=Ah(t.getProvider("auth").getImmediate());return(a=>new L2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(_E,vE,k2(r)),qr(_E,vE,"esm2020")}const z2=300,B2=DE("authIdTokenMaxAge")||z2;let EE=null;const j2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>B2)return;const l=i?.token;EE!==l&&(EE=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function q2(r=UE()){const t=ym(r,"auth");if(t.isInitialized())return t.getImmediate();const i=vC(r,{popupRedirectResolver:U2,persistence:[QC,xC,L0]}),a=DE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=j2(c.toString());DC(i,d,()=>d(i.currentUser)),CC(i,p=>d(p))}}const l=IE("auth");return l&&TC(i,`http://${l}`),i}function H2(){return document.getElementsByTagName("head")?.[0]??document}gC({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=$n("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",H2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P2("Browser");const G2={apiKey:"AIzaSyCoDdaAQ36laH4G9KQqPERkQbNqNxO_Gok",authDomain:"diary-app-cc9cd.firebaseapp.com",projectId:"diary-app-cc9cd",storageBucket:"diary-app-cc9cd.firebasestorage.app",messagingSenderId:"133868238231",appId:"1:133868238231:web:4dbcbdada1b7377a6b80d2"},G0=xE(G2),Os=RI(G0),qd=q2(G0),F2=new Yi;function Q2(){const[r,t]=Le.useState(null),[i,a]=Le.useState(""),[l,c]=Le.useState(""),[d,p]=Le.useState(""),[_,y]=Le.useState([]),[T,b]=Le.useState(""),[D,H]=Le.useState(""),[Z,et]=Le.useState([]),[J,ft]=Le.useState("all"),[gt,_t]=Le.useState("todo"),jt=new Date().toISOString().slice(0,10);new Date().toTimeString().slice(0,5);const ee=J==="todo"||J==="shopping";new Date().toLocaleDateString("ko-KR",{month:"numeric",day:"numeric",weekday:"short"}).replaceAll(" ","."),Le.useEffect(()=>{const S=NC(qd,At=>t(At));return()=>S()},[]),Le.useEffect(()=>{const S=new Date;a(S.toISOString().slice(0,10)),c(S.toTimeString().slice(0,5))},[]),Le.useEffect(()=>{if(!r){y([]);return}const S=Dc(Os,"users",r.uid,"entries"),At=Zv(S,$v("createdAt","desc")),Yt=iE(At,q=>{const $=q.docs.map(ot=>({id:ot.id,...ot.data()}));y($)});return()=>Yt()},[r]),Le.useEffect(()=>{if(!r){et([]);return}const S=Dc(Os,"users",r.uid,"todos"),At=Zv(S,$v("createdAt","desc")),Yt=iE(At,q=>{const $=q.docs.map(ot=>({id:ot.id,...ot.data()}));et($)});return()=>Yt()},[r]);const Lt=async()=>{await ZC(qd,F2)},C=async()=>{await OC(qd)},w=async S=>{if(!r)return;const At=Lc(Os,"users",r.uid,"entries",S);await eE(At)},I=async()=>{if(!r)return;const S=(d||"").trim();if(!S)return;const At=Dc(Os,"users",r.uid,"entries");await nE(At,{text:S,completed:!1,date:i,time:new Date().toTimeString().slice(0,5),createdAt:Kv()}),p("")},M=async()=>{try{if(!r){alert(" !");return}const S=(T||"").trim();if(!S){alert(" !");return}const At=new Date().toISOString().slice(0,10),Yt=Dc(Os,"users",r.uid,"todos"),q=gt==="shopping",$=q?Number(D||0):0;await nE(Yt,{text:S,completed:!1,date:At,kind:q?"shopping":"todo",price:$,createdAt:Kv()}),console.log("ADD OK:",{kind:q?"shopping":"todo",t:S,priceNum:$}),b(""),H("")}catch(S){console.error("ADD FAIL:",S),alert(S?.message||" ( )")}},O=async(S,At)=>{if(!r)return;const Yt=Lc(Os,"users",r.uid,"todos",S);await jI(Yt,{completed:!At})},U=async S=>{if(!r)return;const At=Lc(Os,"users",r.uid,"todos",S);await eE(At)};return tt.jsxs("div",{className:"wrap",children:[tt.jsx("header",{className:"top",children:tt.jsxs("div",{children:[tt.jsx("div",{className:"titleDaily",children:"Daily Ink"}),tt.jsx("div",{className:"subtitle",children:" "})]})}),tt.jsxs("div",{className:"topAuthRow",style:{display:"flex",justifyContent:"flex-end",alignItems:"center",gap:"10px"},children:[tt.jsxs("div",{className:"viewToggle",children:[tt.jsx("button",{type:"button",className:`viewBtn all ${J==="all"?"active":""}`,onClick:()=>ft("all"),title:"  ",children:"ALL"}),tt.jsx("button",{type:"button",className:`viewBtn diary ${J==="diary"?"active":""}`,onClick:()=>ft("diary"),title:" ",children:"D"}),tt.jsx("button",{type:"button",className:`viewBtn todo ${J==="todo"?"active":""}`,onClick:()=>{ft(gt==="shopping"?"shopping":"todo")},title:"TODO ",children:"T"})]}),r?tt.jsx("button",{className:"todoAddBtn",onClick:C,children:""}):tt.jsx("button",{className:"todoAddBtn",onClick:Lt,children:"Google "})]}),tt.jsxs("div",{className:`content ${J}`,children:[J!=="todo"&&J!=="shopping"&&tt.jsxs("div",{className:"diary-section",children:[tt.jsxs("div",{className:"toolbar",children:[tt.jsx("input",{type:"date",value:i,onChange:S=>a(S.target.value)}),tt.jsx("input",{type:"time",value:l,onChange:S=>c(S.target.value)})]}),tt.jsx("textarea",{value:d,onChange:S=>p(S.target.value)}),tt.jsx("div",{className:"saveRow",children:tt.jsx("button",{className:"save-button",onClick:I,children:""})})]}),J!=="diary"&&tt.jsxs("div",{className:"todo-section",children:[tt.jsxs("div",{className:"todoTop",children:[tt.jsx("h2",{style:{cursor:"pointer"},onClick:()=>_t(S=>S==="todo"?"shopping":"todo"),children:gt==="shopping"?"SHOPPING":"TODO"}),tt.jsx("button",{className:"todoAddBtn",onClick:M,children:"+ Add"})]}),(()=>{const S=new Date().toISOString().slice(0,10),At=gt==="shopping"?"shopping":"todo",q=Z.filter(lt=>(lt.kind||"todo")===At&&typeof lt.date=="string").reduce((lt,N)=>{const Q=N.date||"unknown";return(lt[Q]||=[]).push(N),lt},{}),$=Object.keys(q).filter(lt=>lt!=="unknown").sort((lt,N)=>N.localeCompare(lt)),ot=q[S]||[],Dt=$.filter(lt=>lt!==S);return tt.jsxs(tt.Fragment,{children:[gt==="todo"&&tt.jsxs(tt.Fragment,{children:[tt.jsx("input",{className:"todoInput",placeholder:"  ",value:T,onChange:lt=>b(lt.target.value)}),tt.jsx("ul",{children:ot.map(lt=>tt.jsxs("li",{className:`todo-item ${lt.completed?"completed":""}`,children:[tt.jsx("input",{type:"checkbox",checked:!!lt.completed,onChange:()=>O(lt.id,!!lt.completed)}),tt.jsx("span",{className:"todoText",children:tt.jsx("span",{className:"todoTextInner",children:lt.text})}),tt.jsx("button",{onClick:()=>U(lt.id),children:""})]},lt.id))}),ee&&tt.jsx(TE,{mode:"todo",dates:Dt,byDate:q,defaultOpenCount:4,onToggleTodo:O,onDelete:U})]}),gt==="shopping"&&tt.jsxs(tt.Fragment,{children:[tt.jsx("input",{className:"todoInput",placeholder:"",value:T,onChange:lt=>b(lt.target.value)}),tt.jsx("input",{className:"todoInput priceFull",type:"number",placeholder:"",value:D,onChange:lt=>H(lt.target.value)}),tt.jsx("ul",{children:ot.map(lt=>tt.jsxs("li",{className:"todo-item",children:[tt.jsx("span",{className:"todoText",children:tt.jsx("span",{className:"todoTextInner",children:lt.text})}),Number(lt.price||0)>0&&tt.jsxs("span",{className:"priceTag",children:[Number(lt.price||0).toLocaleString(),""]}),tt.jsx("button",{onClick:()=>U(lt.id),children:""})]},lt.id))}),tt.jsxs("div",{className:"todayTotal",children:[":"," ",ot.reduce((lt,N)=>lt+Number(N.price||0),0).toLocaleString(),""]}),ee&&tt.jsx(TE,{mode:"shopping",dates:Dt,byDate:q,defaultOpenCount:4,onToggleTodo:O,onDelete:U})]})]})})()]})]}),(J==="diary"||J==="all")&&tt.jsxs("div",{className:`belowGrid ${J}`,children:[tt.jsxs("div",{className:"entriesWrap",children:[J==="all"?tt.jsx("div",{className:"entriesTitle todayHeader",children:new Date().toLocaleDateString("ko-KR",{month:"long",day:"numeric",weekday:"long"})}):tt.jsx("div",{className:"entriesTitle todayHeader",children:new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})}),tt.jsx("div",{className:"entries",children:(J==="all"?_.filter(S=>(S.date||"")===jt):_).map(S=>tt.jsxs("div",{className:"entryCard",children:[tt.jsx("div",{className:"entryDateLine",children:J==="all"?S.time||(S.createdAt?.toDate?.()?S.createdAt.toDate().toTimeString().slice(0,5):""):`${S.date||""} ${S.time||(S.createdAt?.toDate?.()?S.createdAt.toDate().toTimeString().slice(0,5):"")}`.trim()}),tt.jsx("div",{className:"entryBody",children:S.text}),J!=="all"&&tt.jsx("button",{onClick:()=>w(S.id),children:""})]},S.id))})]}),J==="all"&&tt.jsx("div",{})]})]})}function TE({mode:r,dates:t,byDate:i,defaultOpenCount:a=4,onToggleTodo:l,onDelete:c}){const[d,p]=Le.useState(null);return Le.useEffect(()=>{p(null)},[r,a]),Le.useEffect(()=>{if(d!==null)return;const _={};t.slice(0,a).forEach(y=>{_[y]=!0}),p(_)},[d,t,a]),!t||t.length===0?tt.jsxs("div",{className:"historyPanel",children:[tt.jsx("div",{className:"historyTitle",children:" "}),tt.jsx("div",{className:"historyEmpty",children:"   ."})]}):tt.jsxs("div",{className:"historyPanel",children:[tt.jsx("div",{className:"historyTitle",children:" "}),tt.jsx("div",{className:"historyList",children:t.map(_=>{const y=!!d?.[_],T=i[_]||[],b=T.reduce((D,H)=>D+Number(H.price||0),0);return tt.jsxs("div",{className:"historyDay",children:[tt.jsxs("button",{type:"button",className:`historyDateBtn ${y?"open":""}`,onClick:()=>p(D=>({...D||{},[_]:!y})),"aria-expanded":y,children:[tt.jsx("span",{className:"historyDateText",children:_}),tt.jsx("span",{className:"historyCount",children:T.length}),r==="shopping"&&tt.jsxs("span",{className:"historyTotal",children:[b.toLocaleString(),""]})]}),y&&tt.jsx("div",{className:"historyBody",children:tt.jsx("ul",{className:"historyUl",children:T.map(D=>tt.jsxs("li",{className:`todo-item ${r==="todo"&&D.completed?"completed":""}`,children:[r==="todo"&&tt.jsx("input",{type:"checkbox",checked:!!D.completed,onChange:()=>l?.(D.id,!!D.completed)}),tt.jsx("span",{className:"todoText",children:tt.jsx("span",{className:"todoTextInner",children:D.text})}),r==="shopping"&&Number(D.price||0)>0&&tt.jsxs("span",{className:"priceTag",children:[Number(D.price||0).toLocaleString(),""]}),tt.jsx("button",{onClick:()=>c?.(D.id),children:""})]},D.id))})})]},_)})})]})}const K2="modulepreload",Y2=function(r){return"/diary-app/"+r},AE={},X2=function(t,i,a){let l=Promise.resolve();if(i&&i.length>0){let y=function(T){return Promise.all(T.map(b=>Promise.resolve(b).then(D=>({status:"fulfilled",value:D}),D=>({status:"rejected",reason:D}))))};var d=y;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),_=p?.nonce||p?.getAttribute("nonce");l=y(i.map(T=>{if(T=Y2(T),T in AE)return;AE[T]=!0;const b=T.endsWith(".css"),D=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${D}`))return;const H=document.createElement("link");if(H.rel=b?"stylesheet":K2,b||(H.as="script"),H.crossOrigin="",H.href=T,_&&H.setAttribute("nonce",_),document.head.appendChild(H),b)return new Promise((Z,et)=>{H.addEventListener("load",Z),H.addEventListener("error",()=>et(new Error(`Unable to preload CSS for ${T}`)))})}))}function c(p){const _=new Event("vite:preloadError",{cancelable:!0});if(_.payload=p,window.dispatchEvent(_),!_.defaultPrevented)throw p}return l.then(p=>{for(const _ of p||[])_.status==="rejected"&&c(_.reason);return t().catch(c)})};function J2(r={}){const{immediate:t=!1,onNeedRefresh:i,onOfflineReady:a,onRegistered:l,onRegisteredSW:c,onRegisterError:d}=r;let p,_;const y=async(b=!0)=>{await _};async function T(){if("serviceWorker"in navigator){if(p=await X2(async()=>{const{Workbox:b}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:b}},[]).then(({Workbox:b})=>new b("/diary-app/sw.js",{scope:"/diary-app/",type:"classic"})).catch(b=>{d?.(b)}),!p)return;p.addEventListener("activated",b=>{(b.isUpdate||b.isExternal)&&window.location.reload()}),p.addEventListener("installed",b=>{b.isUpdate||a?.()}),p.register({immediate:t}).then(b=>{c?c("/diary-app/sw.js",b):l?.(b)}).catch(b=>{d?.(b)})}}return _=T(),y}J2({immediate:!0});VS.createRoot(document.getElementById("root")).render(tt.jsx(bS.StrictMode,{children:tt.jsx(Q2,{})}));
