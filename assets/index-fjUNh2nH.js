(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function TE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var wd={exports:{}},pl={};var V_;function vS(){if(V_)return pl;V_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return pl.Fragment=t,pl.jsx=i,pl.jsxs=i,pl}var M_;function ES(){return M_||(M_=1,wd.exports=vS()),wd.exports}var At=ES(),Rd={exports:{}},yt={};var U_;function TS(){if(U_)return yt;U_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function j(V){return V===null||typeof V!="object"?null:(V=O&&V[O]||V["@@iterator"],typeof V=="function"?V:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,et={};function ut(V,K,tt){this.props=V,this.context=K,this.refs=et,this.updater=tt||J}ut.prototype.isReactComponent={},ut.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},ut.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function vt(){}vt.prototype=ut.prototype;function gt(V,K,tt){this.props=V,this.context=K,this.refs=et,this.updater=tt||J}var zt=gt.prototype=new vt;zt.constructor=gt,$(zt,ut.prototype),zt.isPureReactComponent=!0;var $t=Array.isArray;function Mt(){}var b={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(V,K,tt){var rt=tt.ref;return{$$typeof:r,type:V,key:K,ref:rt!==void 0?rt:null,props:tt}}function M(V,K){return R(V.type,K,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function x(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(tt){return K[tt]})}var I=/\/+/g;function ie(V,K){return typeof V=="object"&&V!==null&&V.key!=null?x(""+V.key):K.toString(36)}function Ce(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Mt,Mt):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,K,tt,rt,mt){var St=typeof V;(St==="undefined"||St==="boolean")&&(V=null);var Ut=!1;if(V===null)Ut=!0;else switch(St){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(V.$$typeof){case r:case t:Ut=!0;break;case A:return Ut=V._init,G(Ut(V._payload),K,tt,rt,mt)}}if(Ut)return mt=mt(V),Ut=rt===""?"."+ie(V,0):rt,$t(mt)?(tt="",Ut!=null&&(tt=Ut.replace(I,"$&/")+"/"),G(mt,K,tt,"",function(ts){return ts})):mt!=null&&(N(mt)&&(mt=M(mt,tt+(mt.key==null||V&&V.key===mt.key?"":(""+mt.key).replace(I,"$&/")+"/")+Ut)),K.push(mt)),1;Ut=0;var De=rt===""?".":rt+":";if($t(V))for(var re=0;re<V.length;re++)rt=V[re],St=De+ie(rt,re),Ut+=G(rt,K,tt,St,mt);else if(re=j(V),typeof re=="function")for(V=re.call(V),re=0;!(rt=V.next()).done;)rt=rt.value,St=De+ie(rt,re++),Ut+=G(rt,K,tt,St,mt);else if(St==="object"){if(typeof V.then=="function")return G(Ce(V),K,tt,rt,mt);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function W(V,K,tt){if(V==null)return V;var rt=[],mt=0;return G(V,rt,"","",function(St){return K.call(tt,St,mt++)}),rt}function ct(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(tt){(V._status===0||V._status===-1)&&(V._status=1,V._result=tt)},function(tt){(V._status===0||V._status===-1)&&(V._status=2,V._result=tt)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var Lt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ht={map:W,forEach:function(V,K,tt){W(V,function(){K.apply(this,arguments)},tt)},count:function(V){var K=0;return W(V,function(){K++}),K},toArray:function(V){return W(V,function(K){return K})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return yt.Activity=S,yt.Children=Ht,yt.Component=ut,yt.Fragment=i,yt.Profiler=l,yt.PureComponent=gt,yt.StrictMode=a,yt.Suspense=v,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,yt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return b.H.useMemoCache(V)}},yt.cache=function(V){return function(){return V.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(V,K,tt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=$({},V.props),mt=V.key;if(K!=null)for(St in K.key!==void 0&&(mt=""+K.key),K)!w.call(K,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&K.ref===void 0||(rt[St]=K[St]);var St=arguments.length-2;if(St===1)rt.children=tt;else if(1<St){for(var Ut=Array(St),De=0;De<St;De++)Ut[De]=arguments[De+2];rt.children=Ut}return R(V.type,mt,rt)},yt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},yt.createElement=function(V,K,tt){var rt,mt={},St=null;if(K!=null)for(rt in K.key!==void 0&&(St=""+K.key),K)w.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(mt[rt]=K[rt]);var Ut=arguments.length-2;if(Ut===1)mt.children=tt;else if(1<Ut){for(var De=Array(Ut),re=0;re<Ut;re++)De[re]=arguments[re+2];mt.children=De}if(V&&V.defaultProps)for(rt in Ut=V.defaultProps,Ut)mt[rt]===void 0&&(mt[rt]=Ut[rt]);return R(V,St,mt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(V){return{$$typeof:p,render:V}},yt.isValidElement=N,yt.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:ct}},yt.memo=function(V,K){return{$$typeof:y,type:V,compare:K===void 0?null:K}},yt.startTransition=function(V){var K=b.T,tt={};b.T=tt;try{var rt=V(),mt=b.S;mt!==null&&mt(tt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Mt,Lt)}catch(St){Lt(St)}finally{K!==null&&tt.types!==null&&(K.types=tt.types),b.T=K}},yt.unstable_useCacheRefresh=function(){return b.H.useCacheRefresh()},yt.use=function(V){return b.H.use(V)},yt.useActionState=function(V,K,tt){return b.H.useActionState(V,K,tt)},yt.useCallback=function(V,K){return b.H.useCallback(V,K)},yt.useContext=function(V){return b.H.useContext(V)},yt.useDebugValue=function(){},yt.useDeferredValue=function(V,K){return b.H.useDeferredValue(V,K)},yt.useEffect=function(V,K){return b.H.useEffect(V,K)},yt.useEffectEvent=function(V){return b.H.useEffectEvent(V)},yt.useId=function(){return b.H.useId()},yt.useImperativeHandle=function(V,K,tt){return b.H.useImperativeHandle(V,K,tt)},yt.useInsertionEffect=function(V,K){return b.H.useInsertionEffect(V,K)},yt.useLayoutEffect=function(V,K){return b.H.useLayoutEffect(V,K)},yt.useMemo=function(V,K){return b.H.useMemo(V,K)},yt.useOptimistic=function(V,K){return b.H.useOptimistic(V,K)},yt.useReducer=function(V,K,tt){return b.H.useReducer(V,K,tt)},yt.useRef=function(V){return b.H.useRef(V)},yt.useState=function(V){return b.H.useState(V)},yt.useSyncExternalStore=function(V,K,tt){return b.H.useSyncExternalStore(V,K,tt)},yt.useTransition=function(){return b.H.useTransition()},yt.version="19.2.4",yt}var x_;function pm(){return x_||(x_=1,Rd.exports=TS()),Rd.exports}var Kn=pm();const AS=TE(Kn);var Id={exports:{}},yl={},Cd={exports:{}},Dd={};var L_;function SS(){return L_||(L_=1,(function(r){function t(G,W){var ct=G.length;G.push(W);t:for(;0<ct;){var Lt=ct-1>>>1,Ht=G[Lt];if(0<l(Ht,W))G[Lt]=W,G[ct]=Ht,ct=Lt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var W=G[0],ct=G.pop();if(ct!==W){G[0]=ct;t:for(var Lt=0,Ht=G.length,V=Ht>>>1;Lt<V;){var K=2*(Lt+1)-1,tt=G[K],rt=K+1,mt=G[rt];if(0>l(tt,ct))rt<Ht&&0>l(mt,tt)?(G[Lt]=mt,G[rt]=ct,Lt=rt):(G[Lt]=tt,G[K]=ct,Lt=K);else if(rt<Ht&&0>l(mt,ct))G[Lt]=mt,G[rt]=ct,Lt=rt;else break t}}return W}function l(G,W){var ct=G.sortIndex-W.sortIndex;return ct!==0?ct:G.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],y=[],A=1,S=null,O=3,j=!1,J=!1,$=!1,et=!1,ut=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function zt(G){for(var W=i(y);W!==null;){if(W.callback===null)a(y);else if(W.startTime<=G)a(y),W.sortIndex=W.expirationTime,t(v,W);else break;W=i(y)}}function $t(G){if($=!1,zt(G),!J)if(i(v)!==null)J=!0,Mt||(Mt=!0,x());else{var W=i(y);W!==null&&Ce($t,W.startTime-G)}}var Mt=!1,b=-1,w=5,R=-1;function M(){return et?!0:!(r.unstable_now()-R<w)}function N(){if(et=!1,Mt){var G=r.unstable_now();R=G;var W=!0;try{t:{J=!1,$&&($=!1,vt(b),b=-1),j=!0;var ct=O;try{e:{for(zt(G),S=i(v);S!==null&&!(S.expirationTime>G&&M());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,O=S.priorityLevel;var Ht=Lt(S.expirationTime<=G);if(G=r.unstable_now(),typeof Ht=="function"){S.callback=Ht,zt(G),W=!0;break e}S===i(v)&&a(v),zt(G)}else a(v);S=i(v)}if(S!==null)W=!0;else{var V=i(y);V!==null&&Ce($t,V.startTime-G),W=!1}}break t}finally{S=null,O=ct,j=!1}W=void 0}}finally{W?x():Mt=!1}}}var x;if(typeof gt=="function")x=function(){gt(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ie=I.port2;I.port1.onmessage=N,x=function(){ie.postMessage(null)}}else x=function(){ut(N,0)};function Ce(G,W){b=ut(function(){G(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(G){switch(O){case 1:case 2:case 3:var W=3;break;default:W=O}var ct=O;O=W;try{return G()}finally{O=ct}},r.unstable_requestPaint=function(){et=!0},r.unstable_runWithPriority=function(G,W){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ct=O;O=G;try{return W()}finally{O=ct}},r.unstable_scheduleCallback=function(G,W,ct){var Lt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Lt+ct:Lt):ct=Lt,G){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ct+Ht,G={id:A++,callback:W,priorityLevel:G,startTime:ct,expirationTime:Ht,sortIndex:-1},ct>Lt?(G.sortIndex=ct,t(y,G),i(v)===null&&G===i(y)&&($?(vt(b),b=-1):$=!0,Ce($t,ct-Lt))):(G.sortIndex=Ht,t(v,G),J||j||(J=!0,Mt||(Mt=!0,x()))),G},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(G){var W=O;return function(){var ct=O;O=W;try{return G.apply(this,arguments)}finally{O=ct}}}})(Dd)),Dd}var P_;function bS(){return P_||(P_=1,Cd.exports=SS()),Cd.exports}var Nd={exports:{}},Ke={};var k_;function wS(){if(k_)return Ke;k_=1;var r=pm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:v,containerInfo:y,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ke.createPortal=function(v,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,A)},Ke.flushSync=function(v){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=A,a.d.f()}},Ke.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},Ke.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ke.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:j}):A==="script"&&a.d.X(v,{crossOrigin:S,integrity:O,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},Ke.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin);a.d.L(v,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(v,y){if(typeof v=="string")if(y){var A=p(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},Ke.requestFormReset=function(v){a.d.r(v)},Ke.unstable_batchedUpdates=function(v,y){return v(y)},Ke.useFormState=function(v,y,A){return d.H.useFormState(v,y,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.4",Ke}var z_;function RS(){if(z_)return Nd.exports;z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nd.exports=wS(),Nd.exports}var B_;function IS(){if(B_)return yl;B_=1;var r=bS(),t=pm(),i=RS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),zt=Symbol.for("react.forward_ref"),$t=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case ut:return"Profiler";case et:return"StrictMode";case $t:return"Suspense";case Mt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case gt:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case zt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case b:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var Ce=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function V(e){return{current:e}}function K(e){0>Ht||(e.current=Lt[Ht],Lt[Ht]=null,Ht--)}function tt(e,n){Ht++,Lt[Ht]=e.current,e.current=n}var rt=V(null),mt=V(null),St=V(null),Ut=V(null);function De(e,n){switch(tt(St,n),tt(mt,e),tt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?e_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=e_(n),e=n_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),tt(rt,e)}function re(){K(rt),K(mt),K(St)}function ts(e){e.memoizedState!==null&&tt(Ut,e);var n=rt.current,s=n_(n,e.type);n!==s&&(tt(mt,e),tt(rt,s))}function Qs(e){mt.current===e&&(K(rt),K(mt)),Ut.current===e&&(K(Ut),fl._currentValue=ct)}var Ks,Ys;function ti(e){if(Ks===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ks=n&&n[1]||"",Ys=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ks+e+Ys}var ho=!1;function es(e,n){if(!e||ho)return"";ho=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var z=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){z=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){z=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),k=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===k.length)for(o=C.length-1,h=k.length-1;1<=o&&0<=h&&C[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==k[h]){var H=`
`+C[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{ho=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ti(s):""}function fo(e,n){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return es(e.type,!1);case 11:return es(e.type.render,!1);case 1:return es(e.type,!0);case 31:return ti("Activity");default:return""}}function mo(e){try{var n="",s=null;do n+=fo(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,Ne=r.unstable_scheduleCallback,nr=r.unstable_cancelCallback,Rh=r.unstable_shouldYield,Jl=r.unstable_requestPaint,$e=r.unstable_now,ns=r.unstable_getCurrentPriorityLevel,go=r.unstable_ImmediatePriority,po=r.unstable_UserBlockingPriority,ir=r.unstable_NormalPriority,Ih=r.unstable_LowPriority,Zl=r.unstable_IdlePriority,$l=r.log,Wl=r.unstable_setDisableYieldValue,xn=null,ke=null;function Tn(e){if(typeof $l=="function"&&Wl(e),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(xn,e)}catch{}}var ce=Math.clz32?Math.clz32:eu,tu=Math.log,Xs=Math.LN2;function eu(e){return e>>>=0,e===0?32:31-(tu(e)/Xs|0)|0}var ei=256,is=262144,pe=4194304;function ni(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ni(o):(g&=E,g!==0?h=ni(g):s||(s=E&~e,s!==0&&(h=ni(s))))):(E=o&~f,E!==0?h=ni(E):g!==0?h=ni(g):s||(s=o&~e,s!==0&&(h=ni(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ch(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function ri(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function rs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,k=e.hiddenUpdates;for(s=g&~s;0<s;){var H=31-ce(s),Q=1<<H;E[H]=0,C[H]=-1;var z=k[H];if(z!==null)for(k[H]=null,H=0;H<z.length;H++){var q=z[H];q!==null&&(q.lane&=-536870913)}s&=~Q}o!==0&&ss(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ss(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function yo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ce(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function _o(e,n){var s=n&-n;return s=(s&42)!==0?1:as(s),(s&(e.suspendedLanes|n))!==0?0:s}function as(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function iu(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:w_(e.type))}function Pn(e,n){var s=W.p;try{return W.p=e,n()}finally{W.p=s}}var kn=Math.random().toString(36).slice(2),ye="__reactFiber$"+kn,Me="__reactProps$"+kn,si="__reactContainer$"+kn,Js="__reactEvents$"+kn,Nh="__reactListeners$"+kn,ru="__reactHandles$"+kn,su="__reactResources$"+kn,ai="__reactMarker$"+kn;function Zs(e){delete e[ye],delete e[Me],delete e[Js],delete e[Nh],delete e[ru]}function oi(e){var n=e[ye];if(n)return n;for(var s=e.parentNode;s;){if(n=s[si]||s[ye]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=u_(e);e!==null;){if(s=e[ye])return s;e=u_(e)}return n}e=s,s=e.parentNode}return null}function An(e){if(e=e[ye]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function hn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function li(e){var n=e[su];return n||(n=e[su]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[ai]=!0}var vo=new Set,Eo={};function ui(e,n){ci(e,n),ci(e+"Capture",n)}function ci(e,n){for(Eo[e]=n,e=0;e<n.length;e++)vo.add(n[e])}var To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},So={};function au(e){return ge.call(So,e)?!0:ge.call(Ao,e)?!1:To.test(e)?So[e]=!0:(Ao[e]=!0,!1)}function $s(e,n,s){if(au(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function fn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function ve(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=rr(e)?"checked":"value";e._valueTracker=bo(e,n,""+e[n])}}function os(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=rr(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ls=/[\n"\\]/g;function en(e){return e.replace(ls,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ws(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?wo(e,g,Ue(n)):s!=null?wo(e,g,Ue(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function ou(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function wo(e,n,s){n==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function sr(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function lu(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function ar(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Ce(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Gt(e)}function nn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||uu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Io(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Ro(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ro(e,f,n[f])}function ta(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(e){return or.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var Co=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lr=null,fi=null;function us(e){var n=An(e);if(n&&(e=n.stateNode)){var s=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ws(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Me]||null;if(!h)throw Error(a(90));Ws(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&os(o)}break t;case"textarea":lu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&sr(e,!!s.multiple,n,!1)}}}var na=!1;function ur(e,n,s){if(na)return e(n,s);na=!0;try{var o=e(n);return o}finally{if(na=!1,(lr!==null||fi!==null)&&(ic(),lr&&(n=lr,e=fi,fi=lr=null,us(n),e)))for(n=0;n<e.length;n++)us(e[n])}}function Bn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Me]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cs=!1;if(bn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){cs=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{cs=!1}var di=null,Do=null,hs=null;function No(){if(hs)return hs;var e,n=Do,s=n.length,o,h="value"in di?di.value:di.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return hs=h.slice(e,1<o?1-o:void 0)}function fs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function qn(){return!1}function ze(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:qn,this.isPropagationStopped=qn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=ze(Oi),cr=S({},Oi,{view:0,detail:0}),Oo=ze(cr),hr,ia,gi,ra=S({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(hr=e.screenX-gi.screenX,ia=e.screenY-gi.screenY):ia=hr=0,gi=e),hr)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),Vo=ze(ra),ds=S({},ra,{dataTransfer:0}),hu=ze(ds),fu=S({},cr,{relatedTarget:0}),ms=ze(fu),Mo=S({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),du=ze(Mo),sa=S({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mu=ze(sa),gu=S({},Oi,{data:0}),pi=ze(gu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_u[e])?!!n[e]:!1}function fr(){return vu}var We=S({},cr,{key:function(e){if(e.key){var n=pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return e.type==="keypress"?fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eu=ze(We),Tu=S({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=ze(Tu),u=S({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),m=ze(u),_=S({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(_),L=S({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(L),Z=S({},Oi,{newState:0,oldState:0}),Et=ze(Z),he=[9,13,27,32],Bt=bn&&"CompositionEvent"in window,se=null;bn&&"documentMode"in document&&(se=document.documentMode);var wn=bn&&"TextEvent"in window&&!se,yi=bn&&(!Bt||se&&8<se&&11>=se),jn=" ",Hn=!1;function gs(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function H0(e,n){switch(e){case"compositionend":return aa(n);case"keypress":return n.which!==32?null:(Hn=!0,jn);case"textInput":return e=n.data,e===jn&&Hn?null:e;default:return null}}function G0(e,n){if(oa)return e==="compositionend"||!Bt&&gs(e,n)?(e=No(),hs=Do=di=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var F0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!F0[e.type]:n==="textarea"}function dg(e,n,s,o){lr?fi?fi.push(o):fi=[o]:lr=o,n=cc(n,"onChange"),0<n.length&&(s=new mi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Uo=null,xo=null;function Q0(e){Xy(e,0)}function Au(e){var n=hn(e);if(os(n))return e}function mg(e,n){if(e==="change")return n}var gg=!1;if(bn){var Oh;if(bn){var Vh="oninput"in document;if(!Vh){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),Vh=typeof pg.oninput=="function"}Oh=Vh}else Oh=!1;gg=Oh&&(!document.documentMode||9<document.documentMode)}function yg(){Uo&&(Uo.detachEvent("onpropertychange",_g),xo=Uo=null)}function _g(e){if(e.propertyName==="value"&&Au(xo)){var n=[];dg(n,xo,e,Sn(e)),ur(Q0,n)}}function K0(e,n,s){e==="focusin"?(yg(),Uo=n,xo=s,Uo.attachEvent("onpropertychange",_g)):e==="focusout"&&yg()}function Y0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(xo)}function X0(e,n){if(e==="click")return Au(n)}function J0(e,n){if(e==="input"||e==="change")return Au(n)}function Z0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:Z0;function Lo(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ge.call(n,h)||!dn(e[h],n[h]))return!1}return!0}function vg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eg(e,n){var s=vg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=vg(s)}}function Tg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Tg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ag(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=hi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=hi(e.document)}return n}function Mh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var $0=bn&&"documentMode"in document&&11>=document.documentMode,la=null,Uh=null,Po=null,xh=!1;function Sg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;xh||la==null||la!==hi(o)||(o=la,"selectionStart"in o&&Mh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Po&&Lo(Po,o)||(Po=o,o=cc(Uh,"onSelect"),0<o.length&&(n=new mi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=la)))}function ps(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ua={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},Lh={},bg={};bn&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function ys(e){if(Lh[e])return Lh[e];if(!ua[e])return e;var n=ua[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in bg)return Lh[e]=n[s];return e}var wg=ys("animationend"),Rg=ys("animationiteration"),Ig=ys("animationstart"),W0=ys("transitionrun"),tA=ys("transitionstart"),eA=ys("transitioncancel"),Cg=ys("transitionend"),Dg=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function Gn(e,n){Dg.set(e,n),ui(n,[e])}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],ca=0,kh=0;function bu(){for(var e=ca,n=kh=ca=0;n<e;){var s=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Ng(s,h,f)}}function wu(e,n,s,o){Rn[ca++]=e,Rn[ca++]=n,Rn[ca++]=s,Rn[ca++]=o,kh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function zh(e,n,s,o){return wu(e,n,s,o),Ru(e)}function _s(e,n){return wu(e,null,null,n),Ru(e)}function Ng(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ce(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Ru(e){if(50<sl)throw sl=0,Xf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ha={};function nA(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,s,o){return new nA(e,n,s,o)}function Bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var s=e.alternate;return s===null?(s=mn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Og(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Bh(e)&&(g=1);else if(typeof e=="string")g=oS(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=mn(31,s,n,h),e.elementType=R,e.lanes=f,e;case $:return vs(s.children,h,f,n);case et:g=8,h|=24;break;case ut:return e=mn(12,s,n,h|2),e.elementType=ut,e.lanes=f,e;case $t:return e=mn(13,s,n,h),e.elementType=$t,e.lanes=f,e;case Mt:return e=mn(19,s,n,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:g=10;break t;case vt:g=9;break t;case zt:g=11;break t;case b:g=14;break t;case w:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=mn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function vs(e,n,s,o){return e=mn(7,e,o,n),e.lanes=s,e}function qh(e,n,s){return e=mn(6,e,null,n),e.lanes=s,e}function Vg(e){var n=mn(18,null,null,0);return n.stateNode=e,n}function jh(e,n,s){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Mg=new WeakMap;function In(e,n){if(typeof e=="object"&&e!==null){var s=Mg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:mo(n)},Mg.set(e,n),n)}return{value:e,source:n,stack:mo(n)}}var fa=[],da=0,Cu=null,ko=0,Cn=[],Dn=0,dr=null,_i=1,vi="";function Ui(e,n){fa[da++]=ko,fa[da++]=Cu,Cu=e,ko=n}function Ug(e,n,s){Cn[Dn++]=_i,Cn[Dn++]=vi,Cn[Dn++]=dr,dr=e;var o=_i;e=vi;var h=32-ce(o)-1;o&=~(1<<h),s+=1;var f=32-ce(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,_i=1<<32-ce(n)+h|s<<h|o,vi=f+e}else _i=1<<f|s<<h|o,vi=e}function Hh(e){e.return!==null&&(Ui(e,1),Ug(e,1,0))}function Gh(e){for(;e===Cu;)Cu=fa[--da],fa[da]=null,ko=fa[--da],fa[da]=null;for(;e===dr;)dr=Cn[--Dn],Cn[Dn]=null,vi=Cn[--Dn],Cn[Dn]=null,_i=Cn[--Dn],Cn[Dn]=null}function xg(e,n){Cn[Dn++]=_i,Cn[Dn++]=vi,Cn[Dn++]=dr,_i=n.id,vi=n.overflow,dr=e}var Be=null,te=null,Vt=!1,mr=null,Nn=!1,Fh=Error(a(519));function gr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(In(n,e)),Fh}function Lg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ye]=e,n[Me]=o,s){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(s=0;s<ol.length;s++)Rt(ol[s],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),ou(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),ar(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Wy(n.textContent,s)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||gr(e,!0)}function Pg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Be=Be.return}}function ma(e){if(e!==Be)return!1;if(!Vt)return Pg(e),Vt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||cd(e.type,e.memoizedProps)),s=!s),s&&te&&gr(e),Pg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=l_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=l_(e)}else n===27?(n=te,Dr(e.type)?(e=gd,gd=null,te=e):te=n):te=Be?Vn(e.stateNode.nextSibling):null;return!0}function Es(){te=Be=null,Vt=!1}function Qh(){var e=mr;return e!==null&&(on===null?on=e:on.push.apply(on,e),mr=null),e}function zo(e){mr===null?mr=[e]:mr.push(e)}var Kh=V(null),Ts=null,xi=null;function pr(e,n,s){tt(Kh,n._currentValue),n._currentValue=s}function Li(e){e._currentValue=Kh.current,K(Kh)}function Yh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Xh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Yh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Yh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ga(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;dn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}h=h.return}e!==null&&Xh(n,e,s,o),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function As(e){Ts=e,xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return kg(Ts,e)}function Nu(e,n){return Ts===null&&As(e),kg(e,n)}function kg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},xi===null){if(e===null)throw Error(a(308));xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else xi=xi.next=n;return s}var iA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},rA=r.unstable_scheduleCallback,sA=r.unstable_NormalPriority,Ee={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new iA,data:new Map,refCount:0}}function Bo(e){e.refCount--,e.refCount===0&&rA(sA,function(){e.controller.abort()})}var qo=null,Zh=0,pa=0,ya=null;function aA(e,n){if(qo===null){var s=qo=[];Zh=0,pa=ed(),ya={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Zh++,n.then(zg,zg),n}function zg(){if(--Zh===0&&qo!==null){ya!==null&&(ya.status="fulfilled");var e=qo;qo=null,pa=0,ya=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function oA(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Bg=G.S;G.S=function(e,n){Sy=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&aA(e,n),Bg!==null&&Bg(e,n)};var Ss=V(null);function $h(){var e=Ss.current;return e!==null?e:Zt.pooledCache}function Ou(e,n){n===null?tt(Ss,Ss.current):tt(Ss,n.pool)}function qg(){var e=$h();return e===null?null:{parent:Ee._currentValue,pool:e}}var _a=Error(a(460)),Wh=Error(a(474)),Vu=Error(a(542)),Mu={then:function(){}};function jg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(zn,zn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fg(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fg(e),e}throw ws=n,_a}}function bs(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ws=s,_a):s}}var ws=null;function Gg(){if(ws===null)throw Error(a(459));var e=ws;return ws=null,e}function Fg(e){if(e===_a||e===Vu)throw Error(a(483))}var va=null,jo=0;function Uu(e){var n=jo;return jo+=1,va===null&&(va=[]),Hg(va,e,n)}function Ho(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function xu(e,n){throw n.$$typeof===O?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Qg(e){function n(U,D){if(e){var P=U.deletions;P===null?(U.deletions=[D],U.flags|=16):P.push(D)}}function s(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=Mi(U,D),U.index=0,U.sibling=null,U}function f(U,D,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<D?(U.flags|=67108866,D):P):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,P,F){return D===null||D.tag!==6?(D=qh(P,U.mode,F),D.return=U,D):(D=h(D,P),D.return=U,D)}function C(U,D,P,F){var ot=P.type;return ot===$?H(U,D,P.props.children,F,P.key):D!==null&&(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===w&&bs(ot)===D.type)?(D=h(D,P.props),Ho(D,P),D.return=U,D):(D=Iu(P.type,P.key,P.props,null,U.mode,F),Ho(D,P),D.return=U,D)}function k(U,D,P,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=jh(P,U.mode,F),D.return=U,D):(D=h(D,P.children||[]),D.return=U,D)}function H(U,D,P,F,ot){return D===null||D.tag!==7?(D=vs(P,U.mode,F,ot),D.return=U,D):(D=h(D,P),D.return=U,D)}function Q(U,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=qh(""+D,U.mode,P),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case j:return P=Iu(D.type,D.key,D.props,null,U.mode,P),Ho(P,D),P.return=U,P;case J:return D=jh(D,U.mode,P),D.return=U,D;case w:return D=bs(D),Q(U,D,P)}if(Ce(D)||x(D))return D=vs(D,U.mode,P,null),D.return=U,D;if(typeof D.then=="function")return Q(U,Uu(D),P);if(D.$$typeof===gt)return Q(U,Nu(U,D),P);xu(U,D)}return null}function z(U,D,P,F){var ot=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ot!==null?null:E(U,D,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case j:return P.key===ot?C(U,D,P,F):null;case J:return P.key===ot?k(U,D,P,F):null;case w:return P=bs(P),z(U,D,P,F)}if(Ce(P)||x(P))return ot!==null?null:H(U,D,P,F,null);if(typeof P.then=="function")return z(U,D,Uu(P),F);if(P.$$typeof===gt)return z(U,D,Nu(U,P),F);xu(U,P)}return null}function q(U,D,P,F,ot){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(P)||null,E(D,U,""+F,ot);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case j:return U=U.get(F.key===null?P:F.key)||null,C(D,U,F,ot);case J:return U=U.get(F.key===null?P:F.key)||null,k(D,U,F,ot);case w:return F=bs(F),q(U,D,P,F,ot)}if(Ce(F)||x(F))return U=U.get(P)||null,H(D,U,F,ot,null);if(typeof F.then=="function")return q(U,D,P,Uu(F),ot);if(F.$$typeof===gt)return q(U,D,P,Nu(D,F),ot);xu(D,F)}return null}function st(U,D,P,F){for(var ot=null,Pt=null,at=D,bt=D=0,Ct=null;at!==null&&bt<P.length;bt++){at.index>bt?(Ct=at,at=null):Ct=at.sibling;var kt=z(U,at,P[bt],F);if(kt===null){at===null&&(at=Ct);break}e&&at&&kt.alternate===null&&n(U,at),D=f(kt,D,bt),Pt===null?ot=kt:Pt.sibling=kt,Pt=kt,at=Ct}if(bt===P.length)return s(U,at),Vt&&Ui(U,bt),ot;if(at===null){for(;bt<P.length;bt++)at=Q(U,P[bt],F),at!==null&&(D=f(at,D,bt),Pt===null?ot=at:Pt.sibling=at,Pt=at);return Vt&&Ui(U,bt),ot}for(at=o(at);bt<P.length;bt++)Ct=q(at,U,bt,P[bt],F),Ct!==null&&(e&&Ct.alternate!==null&&at.delete(Ct.key===null?bt:Ct.key),D=f(Ct,D,bt),Pt===null?ot=Ct:Pt.sibling=Ct,Pt=Ct);return e&&at.forEach(function(Ur){return n(U,Ur)}),Vt&&Ui(U,bt),ot}function ht(U,D,P,F){if(P==null)throw Error(a(151));for(var ot=null,Pt=null,at=D,bt=D=0,Ct=null,kt=P.next();at!==null&&!kt.done;bt++,kt=P.next()){at.index>bt?(Ct=at,at=null):Ct=at.sibling;var Ur=z(U,at,kt.value,F);if(Ur===null){at===null&&(at=Ct);break}e&&at&&Ur.alternate===null&&n(U,at),D=f(Ur,D,bt),Pt===null?ot=Ur:Pt.sibling=Ur,Pt=Ur,at=Ct}if(kt.done)return s(U,at),Vt&&Ui(U,bt),ot;if(at===null){for(;!kt.done;bt++,kt=P.next())kt=Q(U,kt.value,F),kt!==null&&(D=f(kt,D,bt),Pt===null?ot=kt:Pt.sibling=kt,Pt=kt);return Vt&&Ui(U,bt),ot}for(at=o(at);!kt.done;bt++,kt=P.next())kt=q(at,U,bt,kt.value,F),kt!==null&&(e&&kt.alternate!==null&&at.delete(kt.key===null?bt:kt.key),D=f(kt,D,bt),Pt===null?ot=kt:Pt.sibling=kt,Pt=kt);return e&&at.forEach(function(_S){return n(U,_S)}),Vt&&Ui(U,bt),ot}function Jt(U,D,P,F){if(typeof P=="object"&&P!==null&&P.type===$&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case j:t:{for(var ot=P.key;D!==null;){if(D.key===ot){if(ot=P.type,ot===$){if(D.tag===7){s(U,D.sibling),F=h(D,P.props.children),F.return=U,U=F;break t}}else if(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===w&&bs(ot)===D.type){s(U,D.sibling),F=h(D,P.props),Ho(F,P),F.return=U,U=F;break t}s(U,D);break}else n(U,D);D=D.sibling}P.type===$?(F=vs(P.props.children,U.mode,F,P.key),F.return=U,U=F):(F=Iu(P.type,P.key,P.props,null,U.mode,F),Ho(F,P),F.return=U,U=F)}return g(U);case J:t:{for(ot=P.key;D!==null;){if(D.key===ot)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(U,D.sibling),F=h(D,P.children||[]),F.return=U,U=F;break t}else{s(U,D);break}else n(U,D);D=D.sibling}F=jh(P,U.mode,F),F.return=U,U=F}return g(U);case w:return P=bs(P),Jt(U,D,P,F)}if(Ce(P))return st(U,D,P,F);if(x(P)){if(ot=x(P),typeof ot!="function")throw Error(a(150));return P=ot.call(P),ht(U,D,P,F)}if(typeof P.then=="function")return Jt(U,D,Uu(P),F);if(P.$$typeof===gt)return Jt(U,D,Nu(U,P),F);xu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(U,D.sibling),F=h(D,P),F.return=U,U=F):(s(U,D),F=qh(P,U.mode,F),F.return=U,U=F),g(U)):s(U,D)}return function(U,D,P,F){try{jo=0;var ot=Jt(U,D,P,F);return va=null,ot}catch(at){if(at===_a||at===Vu)throw at;var Pt=mn(29,at,null,U.mode);return Pt.lanes=F,Pt.return=U,Pt}}}var Rs=Qg(!0),Kg=Qg(!1),yr=!1;function tf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _r(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vr(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(e),Ng(e,null,s),n}return wu(e,o,n,s),Ru(e)}function Go(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,yo(e,s)}}function nf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var rf=!1;function Fo(){if(rf){var e=ya;if(e!==null)throw e}}function Qo(e,n,s,o){rf=!1;var h=e.updateQueue;yr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,k=C.next;C.next=null,g===null?f=k:g.next=k,g=C;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=k:E.next=k,H.lastBaseUpdate=C))}if(f!==null){var Q=h.baseState;g=0,H=k=C=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(It&z)===z:(o&z)===z){z!==0&&z===pa&&(rf=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,ht=E;z=n;var Jt=s;switch(ht.tag){case 1:if(st=ht.payload,typeof st=="function"){Q=st.call(Jt,Q,z);break t}Q=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ht.payload,z=typeof st=="function"?st.call(Jt,Q,z):st,z==null)break t;Q=S({},Q,z);break t;case 2:yr=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(k=H=q,C=Q):H=H.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(C=Q),h.baseState=C,h.firstBaseUpdate=k,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),br|=g,e.lanes=g,e.memoizedState=Q}}function Yg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Xg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Yg(s[e],n)}var Ea=V(null),Lu=V(0);function Jg(e,n){e=Fi,tt(Lu,e),tt(Ea,n),Fi=e|n.baseLanes}function sf(){tt(Lu,Fi),tt(Ea,Ea.current)}function af(){Fi=Lu.current,K(Ea),K(Lu)}var gn=V(null),On=null;function Er(e){var n=e.alternate;tt(fe,fe.current&1),tt(gn,e),On===null&&(n===null||Ea.current!==null||n.memoizedState!==null)&&(On=e)}function of(e){tt(fe,fe.current),tt(gn,e),On===null&&(On=e)}function Zg(e){e.tag===22?(tt(fe,fe.current),tt(gn,e),On===null&&(On=e)):Tr()}function Tr(){tt(fe,fe.current),tt(gn,gn.current)}function pn(e){K(gn),On===e&&(On=null),K(fe)}var fe=V(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||dd(s)||md(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,Tt=null,Yt=null,Te=null,ku=!1,Ta=!1,Is=!1,zu=0,Ko=0,Aa=null,lA=0;function le(){throw Error(a(321))}function lf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!dn(e[s],n[s]))return!1;return!0}function uf(e,n,s,o,h,f){return Pi=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Up:bf,Is=!1,f=s(o,h),Is=!1,Ta&&(f=Wg(n,s,o,h)),$g(e),f}function $g(e){G.H=Jo;var n=Yt!==null&&Yt.next!==null;if(Pi=0,Te=Yt=Tt=null,ku=!1,Ko=0,Aa=null,n)throw Error(a(300));e===null||Ae||(e=e.dependencies,e!==null&&Du(e)&&(Ae=!0))}function Wg(e,n,s,o){Tt=e;var h=0;do{if(Ta&&(Aa=null),Ko=0,Ta=!1,25<=h)throw Error(a(301));if(h+=1,Te=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=xp,f=n(s,o)}while(Ta);return f}function uA(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Yo(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(Tt.flags|=1024),n}function cf(){var e=zu!==0;return zu=0,e}function hf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function ff(e){if(ku){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ku=!1}Pi=0,Te=Yt=Tt=null,Ta=!1,Ko=zu=0,Aa=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Tt.memoizedState=Te=e:Te=Te.next=e,Te}function de(){if(Yt===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=Te===null?Tt.memoizedState:Te.next;if(n!==null)Te=n,Yt=e;else{if(e===null)throw Tt.alternate===null?Error(a(467)):Error(a(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Te===null?Tt.memoizedState=Te=e:Te=Te.next=e}return Te}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(e){var n=Ko;return Ko+=1,Aa===null&&(Aa=[]),e=Hg(Aa,e,n),n=Tt,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Up:bf),e}function qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yo(e);if(e.$$typeof===gt)return qe(e)}throw Error(a(438,String(e)))}function df(e){var n=null,s=Tt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Tt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Bu(),Tt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function ki(e,n){return typeof n=="function"?n(e):n}function ju(e){var n=de();return mf(n,Yt,e)}function mf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,k=n,H=!1;do{var Q=k.lane&-536870913;if(Q!==k.lane?(It&Q)===Q:(Pi&Q)===Q){var z=k.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Q===pa&&(H=!0);else if((Pi&z)===z){k=k.next,z===pa&&(H=!0);continue}else Q={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(E=C=Q,g=f):C=C.next=Q,Tt.lanes|=z,br|=z;Q=k.action,Is&&s(f,Q),f=k.hasEagerState?k.eagerState:s(f,Q)}else z={lane:Q,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(E=C=z,g=f):C=C.next=z,Tt.lanes|=Q,br|=Q;k=k.next}while(k!==null&&k!==n);if(C===null?g=f:C.next=E,!dn(f,e.memoizedState)&&(Ae=!0,H&&(s=ya,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function gf(e){var n=de(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);dn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function tp(e,n,s){var o=Tt,h=de(),f=Vt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!dn((Yt||h).memoizedState,s);if(g&&(h.memoizedState=s,Ae=!0),h=h.queue,_f(ip.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,Sa(9,{destroy:void 0},np.bind(null,o,h,s,n),null),Zt===null)throw Error(a(349));f||(Pi&127)!==0||ep(o,n,s)}return s}function ep(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Tt.updateQueue,n===null?(n=Bu(),Tt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function np(e,n,s,o){n.value=s,n.getSnapshot=o,rp(n)&&sp(e)}function ip(e,n,s){return s(function(){rp(n)&&sp(e)})}function rp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!dn(e,s)}catch{return!0}}function sp(e){var n=_s(e,2);n!==null&&ln(n,e,2)}function pf(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Is){Tn(!0);try{s()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},n}function ap(e,n,s,o){return e.baseState=s,mf(e,Yt,typeof o=="function"?o:ki)}function cA(e,n,s,o,h){if(Fu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,op(n,f)):(f.next=s.next,n.pending=s.next=f)}}function op(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(h,o),C=G.S;C!==null&&C(g,E),lp(e,n,E)}catch(k){yf(e,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,o),lp(e,n,f)}catch(k){yf(e,n,k)}}function lp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){up(e,n,o)},function(o){return yf(e,n,o)}):up(e,n,s)}function up(e,n,s){n.status="fulfilled",n.value=s,cp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,op(e,s)))}function yf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,cp(n),n=n.next;while(n!==o)}e.action=null}function cp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function hp(e,n){return n}function fp(e,n){if(Vt){var s=Zt.formState;if(s!==null){t:{var o=Tt;if(Vt){if(te){e:{for(var h=te,f=Nn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=Vn(h.nextSibling),o=h.data==="F!";break t}}gr(o)}o=!1}o&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hp,lastRenderedState:n},s.queue=o,s=Op.bind(null,Tt,o),o.dispatch=s,o=pf(!1),f=Sf.bind(null,Tt,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=cA.bind(null,Tt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function dp(e){var n=de();return mp(n,Yt,e)}function mp(e,n,s){if(n=mf(e,n,hp)[0],e=ju(ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Yo(n)}catch(g){throw g===_a?Vu:g}else o=n;n=de();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Tt.flags|=2048,Sa(9,{destroy:void 0},hA.bind(null,h,s),null)),[o,f,e]}function hA(e,n){e.action=n}function gp(e){var n=de(),s=Yt;if(s!==null)return mp(n,s,e);de(),n=n.memoizedState,s=de();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Sa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=Bu(),Tt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function pp(){return de().memoizedState}function Hu(e,n,s,o){var h=tn();Tt.flags|=e,h.memoizedState=Sa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Gu(e,n,s,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Yt!==null&&o!==null&&lf(o,Yt.memoizedState.deps)?h.memoizedState=Sa(n,f,s,o):(Tt.flags|=e,h.memoizedState=Sa(1|n,f,s,o))}function yp(e,n){Hu(8390656,8,e,n)}function _f(e,n){Gu(2048,8,e,n)}function fA(e){Tt.flags|=4;var n=Tt.updateQueue;if(n===null)n=Bu(),Tt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function _p(e){var n=de().memoizedState;return fA({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function vp(e,n){return Gu(4,2,e,n)}function Ep(e,n){return Gu(4,4,e,n)}function Tp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ap(e,n,s){s=s!=null?s.concat([e]):null,Gu(4,4,Tp.bind(null,n,e),s)}function vf(){}function Sp(e,n){var s=de();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&lf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function bp(e,n){var s=de();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&lf(n,o[1]))return o[0];if(o=e(),Is){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[o,n],o}function Ef(e,n,s){return s===void 0||(Pi&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=wy(),Tt.lanes|=e,br|=e,s)}function wp(e,n,s,o){return dn(s,n)?s:Ea.current!==null?(e=Ef(e,s,o),dn(e,n)||(Ae=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(It&261930)===0?(Ae=!0,e.memoizedState=s):(e=wy(),Tt.lanes|=e,br|=e,n)}function Rp(e,n,s,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Sf(e,!1,n,s);try{var C=h(),k=G.S;if(k!==null&&k(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=oA(C,o);Xo(e,n,H,vn(e))}else Xo(e,n,o,vn(e))}catch(Q){Xo(e,n,{then:function(){},status:"rejected",reason:Q},vn())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function dA(){}function Tf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Ip(e).queue;Rp(e,h,n,ct,s===null?dA:function(){return Cp(e),s(o)})}function Ip(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Cp(e){var n=Ip(e);n.next===null&&(n=e.alternate.memoizedState),Xo(e,n.next.queue,{},vn())}function Af(){return qe(fl)}function Dp(){return de().memoizedState}function Np(){return de().memoizedState}function mA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=vn();e=_r(s);var o=vr(n,e,s);o!==null&&(ln(o,n,s),Go(o,n,s)),n={cache:Jh()},e.payload=n;return}n=n.return}}function gA(e,n,s){var o=vn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fu(e)?Vp(n,s):(s=zh(e,n,s,o),s!==null&&(ln(s,e,o),Mp(s,n,o)))}function Op(e,n,s){var o=vn();Xo(e,n,s,o)}function Xo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))Vp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,dn(E,g))return wu(e,n,h,0),Zt===null&&bu(),!1}catch{}if(s=zh(e,n,h,o),s!==null)return ln(s,e,o),Mp(s,n,o),!0}return!1}function Sf(e,n,s,o){if(o={lane:2,revertLane:ed(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(n)throw Error(a(479))}else n=zh(e,s,o,2),n!==null&&ln(n,e,2)}function Fu(e){var n=e.alternate;return e===Tt||n!==null&&n===Tt}function Vp(e,n){Ta=ku=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Mp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,yo(e,s)}}var Jo={readContext:qe,use:qu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Jo.useEffectEvent=le;var Up={readContext:qe,use:qu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:yp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Hu(4194308,4,Tp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var o=e();if(Is){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=tn();if(s!==void 0){var h=s(n);if(Is){Tn(!0);try{s(n)}finally{Tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=gA.bind(null,Tt,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=pf(e);var n=e.queue,s=Op.bind(null,Tt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:vf,useDeferredValue:function(e,n){var s=tn();return Ef(s,e,n)},useTransition:function(){var e=pf(!1);return e=Rp.bind(null,Tt,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Tt,h=tn();if(Vt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Zt===null)throw Error(a(349));(It&127)!==0||ep(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,yp(ip.bind(null,o,f,e),[e]),o.flags|=2048,Sa(9,{destroy:void 0},np.bind(null,o,f,s,n),null),s},useId:function(){var e=tn(),n=Zt.identifierPrefix;if(Vt){var s=vi,o=_i;s=(o&~(1<<32-ce(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=zu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=lA++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Af,useFormState:fp,useActionState:fp,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Sf.bind(null,Tt,!0,s),s.dispatch=n,[e,n]},useMemoCache:df,useCacheRefresh:function(){return tn().memoizedState=mA.bind(null,Tt)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((qt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},bf={readContext:qe,use:qu,useCallback:Sp,useContext:qe,useEffect:_f,useImperativeHandle:Ap,useInsertionEffect:vp,useLayoutEffect:Ep,useMemo:bp,useReducer:ju,useRef:pp,useState:function(){return ju(ki)},useDebugValue:vf,useDeferredValue:function(e,n){var s=de();return wp(s,Yt.memoizedState,e,n)},useTransition:function(){var e=ju(ki)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:tp,useId:Dp,useHostTransitionStatus:Af,useFormState:dp,useActionState:dp,useOptimistic:function(e,n){var s=de();return ap(s,Yt,e,n)},useMemoCache:df,useCacheRefresh:Np};bf.useEffectEvent=_p;var xp={readContext:qe,use:qu,useCallback:Sp,useContext:qe,useEffect:_f,useImperativeHandle:Ap,useInsertionEffect:vp,useLayoutEffect:Ep,useMemo:bp,useReducer:gf,useRef:pp,useState:function(){return gf(ki)},useDebugValue:vf,useDeferredValue:function(e,n){var s=de();return Yt===null?Ef(s,e,n):wp(s,Yt.memoizedState,e,n)},useTransition:function(){var e=gf(ki)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:tp,useId:Dp,useHostTransitionStatus:Af,useFormState:gp,useActionState:gp,useOptimistic:function(e,n){var s=de();return Yt!==null?ap(s,Yt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:df,useCacheRefresh:Np};xp.useEffectEvent=_p;function wf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Rf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=vn(),h=_r(o);h.payload=n,s!=null&&(h.callback=s),n=vr(e,h,o),n!==null&&(ln(n,e,o),Go(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=vn(),h=_r(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=vr(e,h,o),n!==null&&(ln(n,e,o),Go(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=vn(),o=_r(s);o.tag=2,n!=null&&(o.callback=n),n=vr(e,o,s),n!==null&&(ln(n,e,s),Go(n,e,s))}};function Lp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Lo(s,o)||!Lo(h,f):!0}function Pp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Rf.enqueueReplaceState(n,n.state,null)}function Cs(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function kp(e){Su(e)}function zp(e){console.error(e)}function Bp(e){Su(e)}function Qu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function qp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function If(e,n,s){return s=_r(s),s.tag=3,s.payload={element:null},s.callback=function(){Qu(e,n)},s}function jp(e){return e=_r(e),e.tag=3,e}function Hp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){qp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){qp(n,s,o),typeof h!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function pA(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ga(n,s,h,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return On===null?rc():s.alternate===null&&ue===0&&(ue=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),$f(e,o,h)),!1;case 22:return s.flags|=65536,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),$f(e,o,h)),!1}throw Error(a(435,s.tag))}return $f(e,o,h),rc(),!1}if(Vt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Fh&&(e=Error(a(422),{cause:o}),zo(In(e,s)))):(o!==Fh&&(n=Error(a(423),{cause:o}),zo(In(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=In(o,s),h=If(e.stateNode,o,h),nf(e,h),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:o});if(f=In(f,s),rl===null?rl=[f]:rl.push(f),ue!==4&&(ue=2),n===null)return!0;o=In(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=If(s.stateNode,o,e),nf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(wr===null||!wr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=jp(h),Hp(h,e,s,o),nf(s,h),!1}s=s.return}while(s!==null);return!1}var Cf=Error(a(461)),Ae=!1;function je(e,n,s,o){n.child=e===null?Kg(n,null,s,o):Rs(n,e.child,s,o)}function Gp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return As(n),o=uf(e,n,s,g,f,h),E=cf(),e!==null&&!Ae?(hf(e,n,h),zi(e,n,h)):(Vt&&E&&Hh(n),n.flags|=1,je(e,n,o,h),n.child)}function Fp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Bh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Qp(e,n,f,o,h)):(e=Iu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Lf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Lo,s(g,o)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=Mi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Qp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Lo(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,Lf(e,h))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,zi(e,n,h)}return Df(e,n,s,o,h)}function Kp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Yp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?Jg(n,f):sf(),Zg(n);else return o=n.lanes=536870912,Yp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Ou(n,f.cachePool),Jg(n,f),Tr(),n.memoizedState=null):(e!==null&&Ou(n,null),sf(),Tr());return je(e,n,h,s),n.child}function Zo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Yp(e,n,s,o,h){var f=$h();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Ou(n,null),sf(),Zg(n),e!==null&&ga(e,n,o,!0),n.childLanes=h,null}function Ku(e,n){return n=Xu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Xp(e,n,s){return Rs(n,e.child,null,s),e=Ku(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function yA(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=Ku(n,o),n.lanes=536870912,Zo(null,e);if(of(n),(e=te)?(e=o_(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:dr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=Vg(e),s.return=n,n.child=s,Be=n,te=null)):e=null,e===null)throw gr(n);return n.lanes=536870912,null}return Ku(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(of(n),h)if(n.flags&256)n.flags&=-257,n=Xp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ae||ga(e,n,s,!1),h=(s&e.childLanes)!==0,Ae||h){if(o=Zt,o!==null&&(g=_o(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,_s(e,g),ln(o,e,g),Cf;rc(),n=Xp(e,n,s)}else e=f.treeContext,te=Vn(g.nextSibling),Be=n,Vt=!0,mr=null,Nn=!1,e!==null&&xg(n,e),n=Ku(n,o),n.flags|=4096;return n}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Yu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Df(e,n,s,o,h){return As(n),s=uf(e,n,s,o,void 0,h),o=cf(),e!==null&&!Ae?(hf(e,n,h),zi(e,n,h)):(Vt&&o&&Hh(n),n.flags|=1,je(e,n,s,h),n.child)}function Jp(e,n,s,o,h,f){return As(n),n.updateQueue=null,s=Wg(n,o,s,h),$g(e),o=cf(),e!==null&&!Ae?(hf(e,n,f),zi(e,n,f)):(Vt&&o&&Hh(n),n.flags|=1,je(e,n,s,f),n.child)}function Zp(e,n,s,o,h){if(As(n),n.stateNode===null){var f=ha,g=s.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},tf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?qe(g):ha,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(wf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Rf.enqueueReplaceState(f,f.state,null),Qo(n,o,f,h),Fo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Cs(s,E);f.props=C;var k=f.context,H=s.contextType;g=ha,typeof H=="object"&&H!==null&&(g=qe(H));var Q=s.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&Pp(n,f,o,g),yr=!1;var z=n.memoizedState;f.state=z,Qo(n,o,f,h),Fo(),k=n.memoizedState,E||z!==k||yr?(typeof Q=="function"&&(wf(n,s,Q,o),k=n.memoizedState),(C=yr||Lp(n,s,C,o,z,k,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=k),f.props=o,f.state=k,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ef(e,n),g=n.memoizedProps,H=Cs(s,g),f.props=H,Q=n.pendingProps,z=f.context,k=s.contextType,C=ha,typeof k=="object"&&k!==null&&(C=qe(k)),E=s.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||z!==C)&&Pp(n,f,o,C),yr=!1,z=n.memoizedState,f.state=z,Qo(n,o,f,h),Fo();var q=n.memoizedState;g!==Q||z!==q||yr||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof E=="function"&&(wf(n,s,E,o),q=n.memoizedState),(H=yr||Lp(n,s,H,o,z,q,C)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Yu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Rs(n,e.child,null,h),n.child=Rs(n,null,s,h)):je(e,n,s,h),n.memoizedState=f.state,e=n.child):e=zi(e,n,h),e}function $p(e,n,s,o){return Es(),n.flags|=256,je(e,n,s,o),n.child}var Nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(e){return{baseLanes:e,cachePool:qg()}}function Vf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=_n),e}function Wp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?Er(n):Tr(),(e=te)?(e=o_(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:dr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=Vg(e),s.return=n,n.child=s,Be=n,te=null)):e=null,e===null)throw gr(n);return md(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Tr(),h=n.mode,E=Xu({mode:"hidden",children:E},h),o=vs(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Of(s),o.childLanes=Vf(e,g,s),n.memoizedState=Nf,Zo(null,o)):(Er(n),Mf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Er(n),n.flags&=-257,n=Uf(e,n,s)):n.memoizedState!==null?(Tr(),n.child=e.child,n.flags|=128,n=null):(Tr(),E=o.fallback,h=n.mode,o=Xu({mode:"visible",children:o.children},h),E=vs(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Rs(n,e.child,null,s),o=n.child,o.memoizedState=Of(s),o.childLanes=Vf(e,g,s),n.memoizedState=Nf,n=Zo(null,o));else if(Er(n),md(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,o=Error(a(419)),o.stack="",o.digest=g,zo({value:o,source:null,stack:null}),n=Uf(e,n,s)}else if(Ae||ga(e,n,s,!1),g=(s&e.childLanes)!==0,Ae||g){if(g=Zt,g!==null&&(o=_o(g,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,_s(e,o),ln(g,e,o),Cf;dd(E)||rc(),n=Uf(e,n,s)}else dd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,te=Vn(E.nextSibling),Be=n,Vt=!0,mr=null,Nn=!1,e!==null&&xg(n,e),n=Mf(n,o.children),n.flags|=4096);return n}return h?(Tr(),E=o.fallback,h=n.mode,C=e.child,k=C.sibling,o=Mi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,k!==null?E=Mi(k,E):(E=vs(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Zo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Of(s):(h=E.cachePool,h!==null?(C=Ee._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=qg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Vf(e,g,s),n.memoizedState=Nf,Zo(e.child,o)):(Er(n),s=e.child,e=s.sibling,s=Mi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Mf(e,n){return n=Xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xu(e,n){return e=mn(22,e,null,n),e.lanes=0,e}function Uf(e,n,s){return Rs(n,e.child,null,s),e=Mf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ty(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Yh(e.return,n,s)}function xf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ey(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,tt(fe,g),je(e,n,o,s),o=Vt?ko:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ty(e,s,n);else if(e.tag===19)ty(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Pu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),xf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}xf(n,!0,s,null,f,o);break;case"together":xf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function zi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),br|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ga(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Mi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Mi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Lf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function _A(e,n,s){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),pr(n,Ee,e.memoizedState.cache),Es();break;case 27:case 5:ts(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:pr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,of(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Er(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Wp(e,n,s):(Er(n),e=zi(e,n,s),e!==null?e.sibling:null);Er(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ga(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ey(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(fe,fe.current),o)break;return null;case 22:return n.lanes=0,Kp(e,n,s,n.pendingProps);case 24:pr(n,Ee,e.memoizedState.cache)}return zi(e,n,s)}function ny(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Lf(e,s)&&(n.flags&128)===0)return Ae=!1,_A(e,n,s);Ae=(e.flags&131072)!==0}else Ae=!1,Vt&&(n.flags&1048576)!==0&&Ug(n,ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=bs(n.elementType),n.type=e,typeof e=="function")Bh(e)?(o=Cs(e,o),n.tag=1,n=Zp(null,n,e,o,s)):(n.tag=0,n=Df(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===zt){n.tag=11,n=Gp(null,n,e,o,s);break t}else if(h===b){n.tag=14,n=Fp(null,n,e,o,s);break t}}throw n=ie(e)||e,Error(a(306,n,""))}}return n;case 0:return Df(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Cs(o,n.pendingProps),Zp(e,n,o,h,s);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,ef(e,n),Qo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,pr(n,Ee,o),o!==f.cache&&Xh(n,[Ee],s,!0),Fo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=$p(e,n,o,s);break t}else if(o!==h){h=In(Error(a(424)),n),zo(h),n=$p(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,te=Vn(e.firstChild),Be=n,Vt=!0,mr=null,Nn=!0,s=Kg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Es(),o===h){n=zi(e,n,s);break t}je(e,n,o,s)}n=n.child}return n;case 26:return Yu(e,n),e===null?(s=d_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Vt||(s=n.type,e=n.pendingProps,o=hc(St.current).createElement(s),o[ye]=n,o[Me]=e,He(o,s,e),_e(o),n.stateNode=o):n.memoizedState=d_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ts(n),e===null&&Vt&&(o=n.stateNode=c_(n.type,n.pendingProps,St.current),Be=n,Nn=!0,h=te,Dr(n.type)?(gd=h,te=Vn(o.firstChild)):te=h),je(e,n,n.pendingProps.children,s),Yu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=te)&&(o=YA(o,n.type,n.pendingProps,Nn),o!==null?(n.stateNode=o,Be=n,te=Vn(o.firstChild),Nn=!1,h=!0):h=!1),h||gr(n)),ts(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,cd(h,f)?o=null:g!==null&&cd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=uf(e,n,uA,null,null,s),fl._currentValue=h),Yu(e,n),je(e,n,o,s),n.child;case 6:return e===null&&Vt&&((e=s=te)&&(s=XA(s,n.pendingProps,Nn),s!==null?(n.stateNode=s,Be=n,te=null,e=!0):e=!1),e||gr(n)),null;case 13:return Wp(e,n,s);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Rs(n,null,o,s):je(e,n,o,s),n.child;case 11:return Gp(e,n,n.type,n.pendingProps,s);case 7:return je(e,n,n.pendingProps,s),n.child;case 8:return je(e,n,n.pendingProps.children,s),n.child;case 12:return je(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,pr(n,n.type,o.value),je(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,As(n),h=qe(h),o=o(h),n.flags|=1,je(e,n,o,s),n.child;case 14:return Fp(e,n,n.type,n.pendingProps,s);case 15:return Qp(e,n,n.type,n.pendingProps,s);case 19:return ey(e,n,s);case 31:return yA(e,n,s);case 22:return Kp(e,n,s,n.pendingProps);case 24:return As(n),o=qe(Ee),e===null?(h=$h(),h===null&&(h=Zt,f=Jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},tf(n),pr(n,Ee,h)):((e.lanes&s)!==0&&(ef(e,n),Qo(n,null,null,s),Fo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),pr(n,Ee,o)):(o=f.cache,pr(n,Ee,o),o!==h.cache&&Xh(n,[Ee],s,!0))),je(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(e){e.flags|=4}function Pf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Dy())e.flags|=8192;else throw ws=Mu,Wh}else e.flags&=-16777217}function iy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!__(n))if(Dy())e.flags|=8192;else throw ws=Mu,Wh}function Ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?nu():536870912,e.lanes|=n,Ia|=n)}function $o(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function vA(e,n,s){var o=n.pendingProps;switch(Gh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(Ee),re(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ma(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Qh())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(ee(n),iy(n,f)):(ee(n),Pf(n,h,null,o,s))):f?f!==e.memoizedState?(Bi(n),ee(n),iy(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(n),ee(n),Pf(n,h,e,o,s)),null;case 27:if(Qs(n),s=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}e=rt.current,ma(n)?Lg(n):(e=c_(h,o,s),n.stateNode=e,Bi(n))}return ee(n),null;case 5:if(Qs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(f=rt.current,ma(n))Lg(n);else{var g=hc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[ye]=n,f[Me]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(n)}}return ee(n),Pf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,ma(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ye]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Wy(e.nodeValue,s)),e||gr(n,!0)}else e=hc(e).createTextNode(o),e[ye]=n,n.stateNode=e}return ee(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ma(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ye]=n}else Es(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else s=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ma(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ye]=n}else Es(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Ju(n,n.updateQueue),ee(n),null);case 4:return re(),e===null&&sd(n.stateNode.containerInfo),ee(n),null;case 10:return Li(n.type),ee(n),null;case 19:if(K(fe),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)$o(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Pu(e),f!==null){for(n.flags|=128,$o(o,!1),e=f.updateQueue,n.updateQueue=e,Ju(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Og(s,e),s=s.sibling;return tt(fe,fe.current&1|2),Vt&&Ui(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>ec&&(n.flags|=128,h=!0,$o(o,!1),n.lanes=4194304)}else{if(!h)if(e=Pu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ju(n,e),$o(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return ee(n),null}else 2*$e()-o.renderingStartTime>ec&&s!==536870912&&(n.flags|=128,h=!0,$o(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,s=fe.current,tt(fe,h?s&1|2:s&1),Vt&&Ui(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return pn(n),af(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),s=n.updateQueue,s!==null&&Ju(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(Ss),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Li(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function EA(e,n){switch(Gh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Ee),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Qs(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(a(340));Es()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Es()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(fe),null;case 4:return re(),null;case 10:return Li(n.type),null;case 22:case 23:return pn(n),af(),e!==null&&K(Ss),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Ee),null;case 25:return null;default:return null}}function ry(e,n){switch(Gh(n),n.tag){case 3:Li(Ee),re();break;case 26:case 27:case 5:Qs(n);break;case 4:re();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:K(fe);break;case 10:Li(n.type);break;case 22:case 23:pn(n),af(),e!==null&&K(Ss);break;case 24:Li(Ee)}}function Wo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Qt(n,n.return,E)}}function Ar(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=s,k=E;try{k()}catch(H){Qt(h,C,H)}}}o=o.next}while(o!==f)}}catch(H){Qt(n,n.return,H)}}function sy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Xg(n,s)}catch(o){Qt(e,e.return,o)}}}function ay(e,n,s){s.props=Cs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Qt(e,n,o)}}function tl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Qt(e,n,h)}}function Ei(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Qt(e,n,h)}else s.current=null}function oy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Qt(e,e.return,h)}}function kf(e,n,s){try{var o=e.stateNode;jA(o,e.type,s,n),o[Me]=n}catch(h){Qt(e,e.return,h)}}function ly(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Dr(e.type)||e.tag===4}function zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ly(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=zn));else if(o!==4&&(o===27&&Dr(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Bf(e,n,s),e=e.sibling;e!==null;)Bf(e,n,s),e=e.sibling}function Zu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Dr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Zu(e,n,s),e=e.sibling;e!==null;)Zu(e,n,s),e=e.sibling}function uy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,s),n[ye]=e,n[Me]=s}catch(f){Qt(e,e.return,f)}}var qi=!1,Se=!1,qf=!1,cy=typeof WeakSet=="function"?WeakSet:Set,xe=null;function TA(e,n){if(e=e.containerInfo,ld=_c,e=Ag(e),Mh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,C=-1,k=0,H=0,Q=e,z=null;e:for(;;){for(var q;Q!==s||h!==0&&Q.nodeType!==3||(E=g+h),Q!==f||o!==0&&Q.nodeType!==3||(C=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(q=Q.firstChild)!==null;)z=Q,Q=q;for(;;){if(Q===e)break e;if(z===s&&++k===h&&(E=g),z===f&&++H===o&&(C=g),(q=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=q}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(ud={focusedElem:e,selectionRange:s},_c=!1,xe=n;xe!==null;)if(n=xe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xe=e;else for(;xe!==null;){switch(n=xe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var st=Cs(s.type,h);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ht){Qt(s,s.return,ht)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)fd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,xe=e;break}xe=n.return}}function hy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(e,s),o&4&&Wo(5,s);break;case 1:if(Hi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(s,s.return,g)}else{var h=Cs(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(s,s.return,g)}}o&64&&sy(s),o&512&&tl(s,s.return);break;case 3:if(Hi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Xg(e,n)}catch(g){Qt(s,s.return,g)}}break;case 27:n===null&&o&4&&uy(s);case 26:case 5:Hi(e,s),n===null&&o&4&&oy(s),o&512&&tl(s,s.return);break;case 12:Hi(e,s);break;case 31:Hi(e,s),o&4&&my(e,s);break;case 13:Hi(e,s),o&4&&gy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=NA.bind(null,s),JA(e,s))));break;case 22:if(o=s.memoizedState!==null||qi,!o){n=n!==null&&n.memoizedState!==null||Se,h=qi;var f=Se;qi=o,(Se=n)&&!f?Gi(e,s,(s.subtreeFlags&8772)!==0):Hi(e,s),qi=h,Se=f}break;case 30:break;default:Hi(e,s)}}function fy(e){var n=e.alternate;n!==null&&(e.alternate=null,fy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Zs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,rn=!1;function ji(e,n,s){for(s=s.child;s!==null;)dy(e,n,s),s=s.sibling}function dy(e,n,s){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(xn,s)}catch{}switch(s.tag){case 26:Se||Ei(s,n),ji(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Se||Ei(s,n);var o=ae,h=rn;Dr(s.type)&&(ae=s.stateNode,rn=!1),ji(e,n,s),ul(s.stateNode),ae=o,rn=h;break;case 5:Se||Ei(s,n);case 6:if(o=ae,h=rn,ae=null,ji(e,n,s),ae=o,rn=h,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Qt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Qt(s,n,f)}break;case 18:ae!==null&&(rn?(e=ae,s_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),xa(e)):s_(ae,s.stateNode));break;case 4:o=ae,h=rn,ae=s.stateNode.containerInfo,rn=!0,ji(e,n,s),ae=o,rn=h;break;case 0:case 11:case 14:case 15:Ar(2,s,n),Se||Ar(4,s,n),ji(e,n,s);break;case 1:Se||(Ei(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ay(s,n,o)),ji(e,n,s);break;case 21:ji(e,n,s);break;case 22:Se=(o=Se)||s.memoizedState!==null,ji(e,n,s),Se=o;break;default:ji(e,n,s)}}function my(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{xa(e)}catch(s){Qt(n,n.return,s)}}}function gy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xa(e)}catch(s){Qt(n,n.return,s)}}function AA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new cy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new cy),n;default:throw Error(a(435,e.tag))}}function $u(e,n){var s=AA(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=OA.bind(null,e,o);o.then(h,h)}})}function sn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Dr(E.type)){ae=E.stateNode,rn=!1;break t}break;case 5:ae=E.stateNode,rn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ae===null)throw Error(a(160));dy(f,g,h),ae=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)py(n,e),n=n.sibling}var Fn=null;function py(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),an(e),o&4&&(Ar(3,e,e.return),Wo(3,e),Ar(5,e,e.return));break;case 1:sn(n,e),an(e),o&512&&(Se||s===null||Ei(s,s.return)),o&64&&qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Fn;if(sn(n,e),an(e),o&512&&(Se||s===null||Ei(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ai]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,s),f[ye]=e,_e(f),o=f;break t;case"link":var g=p_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;case"meta":if(g=p_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ye]=e,_e(f),o=f}e.stateNode=o}else y_(h,e.type,e.stateNode);else e.stateNode=g_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?y_(h,e.type,e.stateNode):g_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&kf(e,e.memoizedProps,s.memoizedProps)}break;case 27:sn(n,e),an(e),o&512&&(Se||s===null||Ei(s,s.return)),s!==null&&o&4&&kf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(sn(n,e),an(e),o&512&&(Se||s===null||Ei(s,s.return)),e.flags&32){h=e.stateNode;try{nn(h,"")}catch(st){Qt(e,e.return,st)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,kf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(qf=!0);break;case 6:if(sn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(st){Qt(e,e.return,st)}}break;case 3:if(mc=null,h=Fn,Fn=fc(n.containerInfo),sn(n,e),Fn=h,an(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{xa(n.containerInfo)}catch(st){Qt(e,e.return,st)}qf&&(qf=!1,yy(e));break;case 4:o=Fn,Fn=fc(e.stateNode.containerInfo),sn(n,e),an(e),Fn=o;break;case 12:sn(n,e),an(e);break;case 31:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 13:sn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(tc=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,k=qi,H=Se;if(qi=k||h,Se=H||C,sn(n,e),Se=H,qi=k,an(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||qi||Se||Ds(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var Q=C.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Qt(C,C.return,st)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(st){Qt(C,C.return,st)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;h?a_(q,!0):a_(C.stateNode,!1)}catch(st){Qt(C,C.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,$u(e,s))));break;case 19:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 30:break;case 21:break;default:sn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ly(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=zf(e);Zu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(nn(g,""),s.flags&=-33);var E=zf(e);Zu(e,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,k=zf(e);Bf(e,k,C);break;default:throw Error(a(161))}}catch(H){Qt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function yy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;yy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hy(e,n.alternate,n),n=n.sibling}function Ds(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ar(4,n,n.return),Ds(n);break;case 1:Ei(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ay(n,n.return,s),Ds(n);break;case 27:ul(n.stateNode);case 26:case 5:Ei(n,n.return),Ds(n);break;case 22:n.memoizedState===null&&Ds(n);break;case 30:Ds(n);break;default:Ds(n)}e=e.sibling}}function Gi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,s),Wo(4,f);break;case 1:if(Gi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Qt(o,o.return,k)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Yg(C[h],E)}catch(k){Qt(o,o.return,k)}}s&&g&64&&sy(f),tl(f,f.return);break;case 27:uy(f);case 26:case 5:Gi(h,f,s),s&&o===null&&g&4&&oy(f),tl(f,f.return);break;case 12:Gi(h,f,s);break;case 31:Gi(h,f,s),s&&g&4&&my(h,f);break;case 13:Gi(h,f,s),s&&g&4&&gy(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,s),tl(f,f.return);break;case 30:break;default:Gi(h,f,s)}n=n.sibling}}function jf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Bo(s))}function Hf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e))}function Qn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)_y(e,n,s,o),n=n.sibling}function _y(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,s,o),h&2048&&Wo(9,n);break;case 1:Qn(e,n,s,o);break;case 3:Qn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e)));break;case 12:if(h&2048){Qn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Qt(n,n.return,C)}}else Qn(e,n,s,o);break;case 31:Qn(e,n,s,o);break;case 13:Qn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,s,o):el(e,n):f._visibility&2?Qn(e,n,s,o):(f._visibility|=2,ba(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&jf(g,n);break;case 24:Qn(e,n,s,o),h&2048&&Hf(n.alternate,n);break;default:Qn(e,n,s,o)}}function ba(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,C=o,k=g.flags;switch(g.tag){case 0:case 11:case 15:ba(f,g,E,C,h),Wo(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?ba(f,g,E,C,h):el(f,g):(H._visibility|=2,ba(f,g,E,C,h)),h&&k&2048&&jf(g.alternate,g);break;case 24:ba(f,g,E,C,h),h&&k&2048&&Hf(g.alternate,g);break;default:ba(f,g,E,C,h)}n=n.sibling}}function el(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:el(s,o),h&2048&&jf(o.alternate,o);break;case 24:el(s,o),h&2048&&Hf(o.alternate,o);break;default:el(s,o)}n=n.sibling}}var nl=8192;function wa(e,n,s){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)vy(e,n,s),e=e.sibling}function vy(e,n,s){switch(e.tag){case 26:wa(e,n,s),e.flags&nl&&e.memoizedState!==null&&lS(s,Fn,e.memoizedState,e.memoizedProps);break;case 5:wa(e,n,s);break;case 3:case 4:var o=Fn;Fn=fc(e.stateNode.containerInfo),wa(e,n,s),Fn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=nl,nl=16777216,wa(e,n,s),nl=o):wa(e,n,s));break;default:wa(e,n,s)}}function Ey(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function il(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];xe=o,Ay(o,e)}Ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ty(e),e=e.sibling}function Ty(e){switch(e.tag){case 0:case 11:case 15:il(e),e.flags&2048&&Ar(9,e,e.return);break;case 3:il(e);break;case 12:il(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):il(e);break;default:il(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];xe=o,Ay(o,e)}Ey(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ar(8,n,n.return),Wu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function Ay(e,n){for(;xe!==null;){var s=xe;switch(s.tag){case 0:case 11:case 15:Ar(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Bo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,xe=o;else t:for(s=e;xe!==null;){o=xe;var h=o.sibling,f=o.return;if(fy(o),o===s){xe=null;break t}if(h!==null){h.return=f,xe=h;break t}xe=f}}}var SA={getCacheForType:function(e){var n=qe(Ee),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(Ee).controller.signal}},bA=typeof WeakMap=="function"?WeakMap:Map,qt=0,Zt=null,wt=null,It=0,Ft=0,yn=null,Sr=!1,Ra=!1,Gf=!1,Fi=0,ue=0,br=0,Ns=0,Ff=0,_n=0,Ia=0,rl=null,on=null,Qf=!1,tc=0,Sy=0,ec=1/0,nc=null,wr=null,Oe=0,Rr=null,Ca=null,Qi=0,Kf=0,Yf=null,by=null,sl=0,Xf=null;function vn(){return(qt&2)!==0&&It!==0?It&-It:G.T!==null?ed():iu()}function wy(){if(_n===0)if((It&536870912)===0||Vt){var e=is;is<<=1,(is&3932160)===0&&(is=262144),_n=e}else _n=536870912;return e=gn.current,e!==null&&(e.flags|=32),_n}function ln(e,n,s){(e===Zt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Da(e,0),Ir(e,It,_n,!1)),rs(e,s),((qt&2)===0||e!==Zt)&&(e===Zt&&((qt&2)===0&&(Ns|=s),ue===4&&Ir(e,It,_n,!1)),Ti(e))}function Ry(e,n,s){if((qt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),h=o?IA(e,n):Zf(e,n,!0),f=o;do{if(h===0){Ra&&!o&&Ir(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!wA(s)){h=Zf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=rl;var C=E.current.memoizedState.isDehydrated;if(C&&(Da(E,g).flags|=256),g=Zf(E,g,!1),g!==2){if(Gf&&!C){E.errorRecoveryDisabledLanes|=f,Ns|=f,h=4;break t}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Da(e,0),Ir(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ir(o,n,_n,!Sr);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=tc+300-$e(),10<h)){if(Ir(o,n,_n,!Sr),ii(o,0,!0)!==0)break t;Qi=n,o.timeoutHandle=i_(Iy.bind(null,o,s,on,nc,Qf,n,_n,Ns,Ia,Sr,f,"Throttled",-0,0),h);break t}Iy(o,s,on,nc,Qf,n,_n,Ns,Ia,Sr,f,null,-0,0)}}break}while(!0);Ti(e)}function Iy(e,n,s,o,h,f,g,E,C,k,H,Q,z,q){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},vy(n,f,Q);var st=(f&62914560)===f?tc-$e():(f&4194048)===f?Sy-$e():0;if(st=uS(Q,st),st!==null){Qi=f,e.cancelPendingCommit=st(xy.bind(null,e,n,f,s,o,h,g,E,C,H,Q,null,z,q)),Ir(e,f,g,!k);return}}xy(e,n,f,s,o,h,g,E,C)}function wA(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ir(e,n,s,o){n&=~Ff,n&=~Ns,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ce(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&ss(e,s,n)}function ic(){return(qt&6)===0?(al(0),!1):!0}function Jf(){if(wt!==null){if(Ft===0)var e=wt.return;else e=wt,xi=Ts=null,ff(e),va=null,jo=0,e=wt;for(;e!==null;)ry(e.alternate,e),e=e.return;wt=null}}function Da(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,FA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Qi=0,Jf(),Zt=e,wt=s=Mi(e.current,null),It=n,Ft=0,yn=null,Sr=!1,Ra=Ln(e,n),Gf=!1,Ia=_n=Ff=Ns=br=ue=0,on=rl=null,Qf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ce(o),f=1<<h;n|=e[h],o&=~f}return Fi=n,bu(),s}function Cy(e,n){Tt=null,G.H=Jo,n===_a||n===Vu?(n=Gg(),Ft=3):n===Wh?(n=Gg(),Ft=4):Ft=n===Cf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,wt===null&&(ue=1,Qu(e,In(n,e.current)))}function Dy(){var e=gn.current;return e===null?!0:(It&4194048)===It?On===null:(It&62914560)===It||(It&536870912)!==0?e===On:!1}function Ny(){var e=G.H;return G.H=Jo,e===null?Jo:e}function Oy(){var e=G.A;return G.A=SA,e}function rc(){ue=4,Sr||(It&4194048)!==It&&gn.current!==null||(Ra=!0),(br&134217727)===0&&(Ns&134217727)===0||Zt===null||Ir(Zt,It,_n,!1)}function Zf(e,n,s){var o=qt;qt|=2;var h=Ny(),f=Oy();(Zt!==e||It!==n)&&(nc=null,Da(e,n)),n=!1;var g=ue;t:do try{if(Ft!==0&&wt!==null){var E=wt,C=yn;switch(Ft){case 8:Jf(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var k=Ft;if(Ft=0,yn=null,Na(e,E,C,k),s&&Ra){g=0;break t}break;default:k=Ft,Ft=0,yn=null,Na(e,E,C,k)}}RA(),g=ue;break}catch(H){Cy(e,H)}while(!0);return n&&e.shellSuspendCounter++,xi=Ts=null,qt=o,G.H=h,G.A=f,wt===null&&(Zt=null,It=0,bu()),g}function RA(){for(;wt!==null;)Vy(wt)}function IA(e,n){var s=qt;qt|=2;var o=Ny(),h=Oy();Zt!==e||It!==n?(nc=null,ec=$e()+500,Da(e,n)):Ra=Ln(e,n);t:do try{if(Ft!==0&&wt!==null){n=wt;var f=yn;e:switch(Ft){case 1:Ft=0,yn=null,Na(e,n,f,1);break;case 2:case 9:if(jg(f)){Ft=0,yn=null,My(n);break}n=function(){Ft!==2&&Ft!==9||Zt!==e||(Ft=7),Ti(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:jg(f)?(Ft=0,yn=null,My(n)):(Ft=0,yn=null,Na(e,n,f,7));break;case 5:var g=null;switch(wt.tag){case 26:g=wt.memoizedState;case 5:case 27:var E=wt;if(g?__(g):E.stateNode.complete){Ft=0,yn=null;var C=E.sibling;if(C!==null)wt=C;else{var k=E.return;k!==null?(wt=k,sc(k)):wt=null}break e}}Ft=0,yn=null,Na(e,n,f,5);break;case 6:Ft=0,yn=null,Na(e,n,f,6);break;case 8:Jf(),ue=6;break t;default:throw Error(a(462))}}CA();break}catch(H){Cy(e,H)}while(!0);return xi=Ts=null,G.H=o,G.A=h,qt=s,wt!==null?0:(Zt=null,It=0,bu(),ue)}function CA(){for(;wt!==null&&!Rh();)Vy(wt)}function Vy(e){var n=ny(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?sc(e):wt=n}function My(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Jp(s,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Jp(s,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:ff(n);default:ry(s,n),n=wt=Og(n,Fi),n=ny(s,n,Fi)}e.memoizedProps=e.pendingProps,n===null?sc(e):wt=n}function Na(e,n,s,o){xi=Ts=null,ff(n),va=null,jo=0;var h=n.return;try{if(pA(e,h,n,s,It)){ue=1,Qu(e,In(s,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;ue=1,Qu(e,In(s,e.current)),wt=null;return}n.flags&32768?(Vt||o===1?e=!0:Ra||(It&536870912)!==0?e=!1:(Sr=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Uy(n,e)):sc(n)}function sc(e){var n=e;do{if((n.flags&32768)!==0){Uy(n,Sr);return}e=n.return;var s=vA(n.alternate,n,Fi);if(s!==null){wt=s;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);ue===0&&(ue=5)}function Uy(e,n){do{var s=EA(e.alternate,e);if(s!==null){s.flags&=32767,wt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=s}while(e!==null);ue=6,wt=null}function xy(e,n,s,o,h,f,g,E,C){e.cancelPendingCommit=null;do ac();while(Oe!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=kh,Dh(e,s,f,g,E,C),e===Zt&&(wt=Zt=null,It=0),Ca=n,Rr=e,Qi=s,Kf=f,Yf=h,by=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,VA(ir,function(){return By(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=W.p,W.p=2,g=qt,qt|=4;try{TA(e,n,s)}finally{qt=g,W.p=h,G.T=o}}Oe=1,Ly(),Py(),ky()}}function Ly(){if(Oe===1){Oe=0;var e=Rr,n=Ca,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=W.p;W.p=2;var h=qt;qt|=4;try{py(n,e);var f=ud,g=Ag(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Tg(E.ownerDocument.documentElement,E)){if(C!==null&&Mh(E)){var k=C.start,H=C.end;if(H===void 0&&(H=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var q=z.getSelection(),st=E.textContent.length,ht=Math.min(C.start,st),Jt=C.end===void 0?ht:Math.min(C.end,st);!q.extend&&ht>Jt&&(g=Jt,Jt=ht,ht=g);var U=Eg(E,ht),D=Eg(E,Jt);if(U&&D&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=Q.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),ht>Jt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}_c=!!ld,ud=ld=null}finally{qt=h,W.p=o,G.T=s}}e.current=n,Oe=2}}function Py(){if(Oe===2){Oe=0;var e=Rr,n=Ca,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=W.p;W.p=2;var h=qt;qt|=4;try{hy(e,n.alternate,n)}finally{qt=h,W.p=o,G.T=s}}Oe=3}}function ky(){if(Oe===4||Oe===3){Oe=0,Jl();var e=Rr,n=Ca,s=Qi,o=by;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Ca=Rr=null,zy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(wr=null),Di(s),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(xn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=W.p,W.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,W.p=h}}(Qi&3)!==0&&ac(),Ti(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Xf?sl++:(sl=0,Xf=e):sl=0,al(0)}}function zy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Bo(n)))}function ac(){return Ly(),Py(),ky(),By()}function By(){if(Oe!==5)return!1;var e=Rr,n=Kf;Kf=0;var s=Di(Qi),o=G.T,h=W.p;try{W.p=32>s?32:s,G.T=null,s=Yf,Yf=null;var f=Rr,g=Qi;if(Oe=0,Ca=Rr=null,Qi=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,Ty(f.current),_y(f,f.current,g,s),qt=E,al(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(xn,f)}catch{}return!0}finally{W.p=h,G.T=o,zy(e,n)}}function qy(e,n,s){n=In(s,n),n=If(e.stateNode,n,2),e=vr(e,n,2),e!==null&&(rs(e,2),Ti(e))}function Qt(e,n,s){if(e.tag===3)qy(e,e,s);else for(;n!==null;){if(n.tag===3){qy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(wr===null||!wr.has(o))){e=In(s,e),s=jp(2),o=vr(n,s,2),o!==null&&(Hp(s,o,n,e),rs(o,2),Ti(o));break}}n=n.return}}function $f(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new bA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Gf=!0,h.add(s),e=DA.bind(null,e,n,s),n.then(e,e))}function DA(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Zt===e&&(It&s)===s&&(ue===4||ue===3&&(It&62914560)===It&&300>$e()-tc?(qt&2)===0&&Da(e,0):Ff|=s,Ia===It&&(Ia=0)),Ti(e)}function jy(e,n){n===0&&(n=nu()),e=_s(e,n),e!==null&&(rs(e,n),Ti(e))}function NA(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),jy(e,s)}function OA(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),jy(e,s)}function VA(e,n){return Ne(e,n)}var oc=null,Oa=null,Wf=!1,lc=!1,td=!1,Cr=0;function Ti(e){e!==Oa&&e.next===null&&(Oa===null?oc=Oa=e:Oa=Oa.next=e),lc=!0,Wf||(Wf=!0,UA())}function al(e,n){if(!td&&lc){td=!0;do for(var s=!1,o=oc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Qy(o,f))}else f=It,f=ii(o,o===Zt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ln(o,f)||(s=!0,Qy(o,f));o=o.next}while(s);td=!1}}function MA(){Hy()}function Hy(){lc=Wf=!1;var e=0;Cr!==0&&GA()&&(e=Cr);for(var n=$e(),s=null,o=oc;o!==null;){var h=o.next,f=Gy(o,n);f===0?(o.next=null,s===null?oc=h:s.next=h,h===null&&(Oa=s)):(s=o,(e!==0||(f&3)!==0)&&(lc=!0)),o=h}Oe!==0&&Oe!==5||al(e),Cr!==0&&(Cr=0)}function Gy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,C=h[g];C===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Ch(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=Zt,s=It,s=ii(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&nr(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ln(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&nr(o),Di(s)){case 2:case 8:s=po;break;case 32:s=ir;break;case 268435456:s=Zl;break;default:s=ir}return o=Fy.bind(null,e),s=Ne(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&nr(o),e.callbackPriority=2,e.callbackNode=null,2}function Fy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ac()&&e.callbackNode!==s)return null;var o=It;return o=ii(e,e===Zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ry(e,o,n),Gy(e,$e()),e.callbackNode!=null&&e.callbackNode===s?Fy.bind(null,e):null)}function Qy(e,n){if(ac())return null;Ry(e,n,!0)}function UA(){QA(function(){(qt&6)!==0?Ne(go,MA):Hy()})}function ed(){if(Cr===0){var e=pa;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Cr=e}return Cr}function Ky(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ea(""+e)}function Yy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function xA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Ky((h[Me]||null).action),g=o.submitter;g&&(n=(n=g[Me]||null)?Ky(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new mi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Cr!==0){var C=g?Yy(h,g):new FormData(h);Tf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?Yy(h,g):new FormData(h),Tf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var nd=0;nd<Ph.length;nd++){var id=Ph[nd],LA=id.toLowerCase(),PA=id[0].toUpperCase()+id.slice(1);Gn(LA,"on"+PA)}Gn(wg,"onAnimationEnd"),Gn(Rg,"onAnimationIteration"),Gn(Ig,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(W0,"onTransitionRun"),Gn(tA,"onTransitionStart"),Gn(eA,"onTransitionCancel"),Gn(Cg,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function Xy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,k=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(H){Su(H)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,k=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(H){Su(H)}h.currentTarget=null,f=C}}}}function Rt(e,n){var s=n[Js];s===void 0&&(s=n[Js]=new Set);var o=e+"__bubble";s.has(o)||(Jy(n,e,2,!1),s.add(o))}function rd(e,n,s){var o=0;n&&(o|=4),Jy(s,e,o,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function sd(e){if(!e[uc]){e[uc]=!0,vo.forEach(function(s){s!=="selectionchange"&&(kA.has(s)||rd(s,!1,e),rd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uc]||(n[uc]=!0,rd("selectionchange",!1,n))}}function Jy(e,n,s,o){switch(w_(n)){case 2:var h=fS;break;case 8:h=dS;break;default:h=Ed}s=h.bind(null,n,s,e),h=void 0,!cs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ad(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=oi(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}ur(function(){var k=f,H=Sn(s),Q=[];t:{var z=Dg.get(e);if(z!==void 0){var q=mi,st=e;switch(e){case"keypress":if(fs(s)===0)break t;case"keydown":case"keyup":q=Eu;break;case"focusin":st="focus",q=ms;break;case"focusout":st="blur",q=ms;break;case"beforeblur":case"afterblur":q=ms;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case wg:case Rg:case Ig:q=du;break;case Cg:q=T;break;case"scroll":case"scrollend":q=Oo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Vi;break;case"toggle":case"beforetoggle":q=Et}var ht=(n&4)!==0,Jt=!ht&&(e==="scroll"||e==="scrollend"),U=ht?z!==null?z+"Capture":null:z;ht=[];for(var D=k,P;D!==null;){var F=D;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||U===null||(F=Bn(D,U),F!=null&&ht.push(ll(D,F,P))),Jt)break;D=D.return}0<ht.length&&(z=new q(z,st,null,s,H),Q.push({event:z,listeners:ht}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&s!==Co&&(st=s.relatedTarget||s.fromElement)&&(oi(st)||st[si]))break t;if((q||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,q?(st=s.relatedTarget||s.toElement,q=k,st=st?oi(st):null,st!==null&&(Jt=c(st),ht=st.tag,st!==Jt||ht!==5&&ht!==27&&ht!==6)&&(st=null)):(q=null,st=k),q!==st)){if(ht=Vo,F="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ht=Vi,F="onPointerLeave",U="onPointerEnter",D="pointer"),Jt=q==null?z:hn(q),P=st==null?z:hn(st),z=new ht(F,D+"leave",q,s,H),z.target=Jt,z.relatedTarget=P,F=null,oi(H)===k&&(ht=new ht(U,D+"enter",st,s,H),ht.target=P,ht.relatedTarget=Jt,F=ht),Jt=F,q&&st)e:{for(ht=zA,U=q,D=st,P=0,F=U;F;F=ht(F))P++;F=0;for(var ot=D;ot;ot=ht(ot))F++;for(;0<P-F;)U=ht(U),P--;for(;0<F-P;)D=ht(D),F--;for(;P--;){if(U===D||D!==null&&U===D.alternate){ht=U;break e}U=ht(U),D=ht(D)}ht=null}else ht=null;q!==null&&Zy(Q,z,q,ht,!1),st!==null&&Jt!==null&&Zy(Q,Jt,st,ht,!0)}}t:{if(z=k?hn(k):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Pt=mg;else if(fg(z))if(gg)Pt=J0;else{Pt=Y0;var at=K0}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&ta(k.elementType)&&(Pt=mg):Pt=X0;if(Pt&&(Pt=Pt(e,k))){dg(Q,Pt,s,H);break t}at&&at(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&wo(z,"number",z.value)}switch(at=k?hn(k):window,e){case"focusin":(fg(at)||at.contentEditable==="true")&&(la=at,Uh=k,Po=null);break;case"focusout":Po=Uh=la=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,Sg(Q,s,H);break;case"selectionchange":if($0)break;case"keydown":case"keyup":Sg(Q,s,H)}var bt;if(Bt)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else oa?gs(e,s)&&(Ct="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ct="onCompositionStart");Ct&&(yi&&s.locale!=="ko"&&(oa||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&oa&&(bt=No()):(di=H,Do="value"in di?di.value:di.textContent,oa=!0)),at=cc(k,Ct),0<at.length&&(Ct=new pi(Ct,e,null,s,H),Q.push({event:Ct,listeners:at}),bt?Ct.data=bt:(bt=aa(s),bt!==null&&(Ct.data=bt)))),(bt=wn?H0(e,s):G0(e,s))&&(Ct=cc(k,"onBeforeInput"),0<Ct.length&&(at=new pi("onBeforeInput","beforeinput",null,s,H),Q.push({event:at,listeners:Ct}),at.data=bt)),xA(Q,e,k,s,H)}Xy(Q,n)})}function ll(e,n,s){return{instance:e,listener:n,currentTarget:s}}function cc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Bn(e,s),h!=null&&o.unshift(ll(e,h,f)),h=Bn(e,n),h!=null&&o.push(ll(e,h,f))),e.tag===3)return o;e=e.return}return[]}function zA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,C=E.alternate,k=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||k===null||(C=k,h?(k=Bn(s,f),k!=null&&g.unshift(ll(s,k,C))):h||(k=Bn(s,f),k!=null&&g.push(ll(s,k,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var BA=/\r\n?/g,qA=/\u0000|\uFFFD/g;function $y(e){return(typeof e=="string"?e:""+e).replace(BA,`
`).replace(qA,"")}function Wy(e,n){return n=$y(n),$y(e)===n}function Xt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":fn(e,"class",o);break;case"tabIndex":fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,s,o);break;case"style":Io(e,o,f);break;case"data":if(n!=="object"){fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ea(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ea(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=zn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ea(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),$s(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":$s(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=cu.get(s)||s,$s(e,s,o))}}function od(e,n,s,o,h,f){switch(s){case"style":Io(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Me]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):$s(e,s,o)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,f,g,s,null)}}h&&Xt(e,n,"srcSet",s.srcSet,s,null),o&&Xt(e,n,"src",s.src,s,null);return;case"input":Rt("invalid",e);var E=f=g=h=null,C=null,k=null;for(o in s)if(s.hasOwnProperty(o)){var H=s[o];if(H!=null)switch(o){case"name":h=H;break;case"type":g=H;break;case"checked":C=H;break;case"defaultChecked":k=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Xt(e,n,o,H,s,null)}}ou(e,f,E,C,k,g,h,!1);return;case"select":Rt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Xt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?sr(e,!!o,n,!1):s!=null&&sr(e,!!o,s,!0);return;case"textarea":Rt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(e,n,g,E,s,null)}ar(e,o,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(o=s[C],o!=null)&&(C==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Xt(e,n,C,o,s,null));return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<ol.length;o++)Rt(ol[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in s)if(s.hasOwnProperty(k)&&(o=s[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,k,o,s,null)}return;default:if(ta(n)){for(H in s)s.hasOwnProperty(H)&&(o=s[H],o!==void 0&&od(e,n,H,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Xt(e,n,E,o,s,null))}function jA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,k=null,H=null;for(q in s){var Q=s[q];if(s.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Q;default:o.hasOwnProperty(q)||Xt(e,n,q,null,o,Q)}}for(var z in o){var q=o[z];if(Q=s[z],o.hasOwnProperty(z)&&(q!=null||Q!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":k=q;break;case"defaultChecked":H=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Q&&Xt(e,n,z,q,o,Q)}}Ws(e,g,E,C,k,H,f,h);return;case"select":q=g=E=z=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&Xt(e,n,h,f,o,C)}n=E,s=g,o=q,z!=null?sr(e,!!s,z,!1):!!o!=!!s&&(n!=null?sr(e,!!s,n,!0):sr(e,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Xt(e,n,g,h,o,f)}lu(e,z,q);return;case"option":for(var st in s)z=s[st],s.hasOwnProperty(st)&&z!=null&&!o.hasOwnProperty(st)&&(st==="selected"?e.selected=!1:Xt(e,n,st,null,o,z));for(C in o)z=o[C],q=s[C],o.hasOwnProperty(C)&&z!==q&&(z!=null||q!=null)&&(C==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Xt(e,n,C,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in s)z=s[ht],s.hasOwnProperty(ht)&&z!=null&&!o.hasOwnProperty(ht)&&Xt(e,n,ht,null,o,z);for(k in o)if(z=o[k],q=s[k],o.hasOwnProperty(k)&&z!==q&&(z!=null||q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Xt(e,n,k,z,o,q)}return;default:if(ta(n)){for(var Jt in s)z=s[Jt],s.hasOwnProperty(Jt)&&z!==void 0&&!o.hasOwnProperty(Jt)&&od(e,n,Jt,void 0,o,z);for(H in o)z=o[H],q=s[H],!o.hasOwnProperty(H)||z===q||z===void 0&&q===void 0||od(e,n,H,z,o,q);return}}for(var U in s)z=s[U],s.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Xt(e,n,U,null,o,z);for(Q in o)z=o[Q],q=s[Q],!o.hasOwnProperty(Q)||z===q||z==null&&q==null||Xt(e,n,Q,z,o,q)}function t_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&t_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],k=C.startTime;if(k>E)break;var H=C.transferSize,Q=C.initiatorType;H&&t_(Q)&&(C=C.responseEnd,g+=H*(C<E?1:(E-k)/(C-k)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ld=null,ud=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function e_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function cd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hd=null;function GA(){var e=window.event;return e&&e.type==="popstate"?e===hd?!1:(hd=e,!0):(hd=null,!1)}var i_=typeof setTimeout=="function"?setTimeout:void 0,FA=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,QA=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(e){return r_.resolve(null).then(e).catch(KA)}:i_;function KA(e){setTimeout(function(){throw e})}function Dr(e){return e==="head"}function s_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),xa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ul(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ul(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ul(e.ownerDocument.body);s=h}while(s);xa(n)}function a_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function fd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":fd(s),Zs(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function YA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function XA(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Vn(e.nextSibling),e===null))return null;return e}function o_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function dd(e){return e.data==="$?"||e.data==="$~"}function md(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function JA(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var gd=null;function l_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Vn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function u_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function c_(e,n,s){switch(n=hc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ul(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Zs(e)}var Mn=new Map,h_=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=W.d;W.d={f:ZA,r:$A,D:WA,C:tS,L:eS,m:nS,X:rS,S:iS,M:sS};function ZA(){var e=Ki.f(),n=ic();return e||n}function $A(e){var n=An(e);n!==null&&n.tag===5&&n.type==="form"?Cp(n):Ki.r(e)}var Va=typeof document>"u"?null:document;function f_(e,n,s){var o=Va;if(o&&typeof n=="string"&&n){var h=en(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),h_.has(h)||(h_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),_e(n),o.head.appendChild(n)))}}function WA(e){Ki.D(e),f_("dns-prefetch",e,null)}function tS(e,n){Ki.C(e,n),f_("preconnect",e,n)}function eS(e,n,s){Ki.L(e,n,s);var o=Va;if(o&&e&&n){var h='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+en(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+en(s.imageSizes)+'"]')):h+='[href="'+en(e)+'"]';var f=h;switch(n){case"style":f=Ma(e);break;case"script":f=Ua(e)}Mn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Mn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(cl(f))||n==="script"&&o.querySelector(hl(f))||(n=o.createElement("link"),He(n,"link",e),_e(n),o.head.appendChild(n)))}}function nS(e,n){Ki.m(e,n);var s=Va;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ua(e)}if(!Mn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Mn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(hl(f)))return}o=s.createElement("link"),He(o,"link",e),_e(o),s.head.appendChild(o)}}}function iS(e,n,s){Ki.S(e,n,s);var o=Va;if(o&&e){var h=li(o).hoistableStyles,f=Ma(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(cl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Mn.get(f))&&pd(e,s);var C=g=o.createElement("link");_e(C),He(C,"link",e),C._p=new Promise(function(k,H){C.onload=k,C.onerror=H}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,dc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function rS(e,n){Ki.X(e,n);var s=Va;if(s&&e){var o=li(s).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=s.querySelector(hl(h)),f||(e=S({src:e,async:!0},n),(n=Mn.get(h))&&yd(e,n),f=s.createElement("script"),_e(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function sS(e,n){Ki.M(e,n);var s=Va;if(s&&e){var o=li(s).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=s.querySelector(hl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Mn.get(h))&&yd(e,n),f=s.createElement("script"),_e(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function d_(e,n,s,o){var h=(h=St.current)?fc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ma(s.href),s=li(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ma(s.href);var f=li(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(cl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Mn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Mn.set(e,s),f||aS(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ua(s),s=li(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ma(e){return'href="'+en(e)+'"'}function cl(e){return'link[rel="stylesheet"]['+e+"]"}function m_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function aS(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",s),_e(n),e.head.appendChild(n))}function Ua(e){return'[src="'+en(e)+'"]'}function hl(e){return"script[async]"+e}function g_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(s.href)+'"]');if(o)return n.instance=o,_e(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),He(o,"style",h),dc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ma(s.href);var f=e.querySelector(cl(h));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=m_(s),(h=Mn.get(h))&&pd(o,h),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),He(f,"link",o),n.state.loading|=4,dc(f,s.precedence,e),n.instance=f;case"script":return f=Ua(s.src),(h=e.querySelector(hl(f)))?(n.instance=h,_e(h),h):(o=s,(h=Mn.get(f))&&(o=S({},s),yd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,dc(o,s.precedence,e));return n.instance}function dc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var mc=null;function p_(e,n,s){if(mc===null){var o=new Map,h=mc=new Map;h.set(s,o)}else h=mc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ai]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function y_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function oS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function __(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function lS(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ma(o.href),f=n.querySelector(cl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,_e(f);return}f=n.ownerDocument||n,o=m_(o),(h=Mn.get(h))&&pd(o,h),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),He(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=gc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var _d=0;function uS(e,n){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&_d===0&&(_d=62500*HA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>_d?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(cS,e),pc=null,gc.call(e))}function cS(e,n){if(!(n.state.loading&4)){var s=pc.get(e);if(s)var o=s.get(null);else{s=new Map,pc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var fl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function hS(e,n,s,o,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function v_(e,n,s,o,h,f,g,E,C,k,H,Q){return e=new hS(e,n,s,g,C,k,H,Q,E),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),e.current=f,f.stateNode=e,n=Jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},tf(f),e}function E_(e){return e?(e=ha,e):ha}function T_(e,n,s,o,h,f){h=E_(h),o.context===null?o.context=h:o.pendingContext=h,o=_r(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=vr(e,o,n),s!==null&&(ln(s,e,n),Go(s,e,n))}function A_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function vd(e,n){A_(e,n),(e=e.alternate)&&A_(e,n)}function S_(e){if(e.tag===13||e.tag===31){var n=_s(e,67108864);n!==null&&ln(n,e,67108864),vd(e,67108864)}}function b_(e){if(e.tag===13||e.tag===31){var n=vn();n=as(n);var s=_s(e,n);s!==null&&ln(s,e,n),vd(e,n)}}var _c=!0;function fS(e,n,s,o){var h=G.T;G.T=null;var f=W.p;try{W.p=2,Ed(e,n,s,o)}finally{W.p=f,G.T=h}}function dS(e,n,s,o){var h=G.T;G.T=null;var f=W.p;try{W.p=8,Ed(e,n,s,o)}finally{W.p=f,G.T=h}}function Ed(e,n,s,o){if(_c){var h=Td(o);if(h===null)ad(e,n,o,vc,s),R_(e,o);else if(gS(h,e,n,s,o))o.stopPropagation();else if(R_(e,o),n&4&&-1<mS.indexOf(e)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ni(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-ce(g);E.entanglements[1]|=C,g&=~C}Ti(f),(qt&6)===0&&(ec=$e()+500,al(0))}}break;case 31:case 13:E=_s(f,2),E!==null&&ln(E,f,2),ic(),vd(f,2)}if(f=Td(o),f===null&&ad(e,n,o,vc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ad(e,n,o,null,s)}}function Td(e){return e=Sn(e),Ad(e)}var vc=null;function Ad(e){if(vc=null,e=oi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vc=e,null}function w_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ns()){case go:return 2;case po:return 8;case ir:case Ih:return 32;case Zl:return 268435456;default:return 32}default:return 32}}var Sd=!1,Nr=null,Or=null,Vr=null,dl=new Map,ml=new Map,Mr=[],mS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R_(e,n){switch(e){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(n.pointerId)}}function gl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&S_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function gS(e,n,s,o,h){switch(n){case"focusin":return Nr=gl(Nr,e,n,s,o,h),!0;case"dragenter":return Or=gl(Or,e,n,s,o,h),!0;case"mouseover":return Vr=gl(Vr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return dl.set(f,gl(dl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ml.set(f,gl(ml.get(f)||null,e,n,s,o,h)),!0}return!1}function I_(e){var n=oi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Pn(e.priority,function(){b_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Pn(e.priority,function(){b_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Td(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Co=o,s.target.dispatchEvent(o),Co=null}else return n=An(s),n!==null&&S_(n),e.blockedOn=s,!1;n.shift()}return!0}function C_(e,n,s){Ec(e)&&s.delete(n)}function pS(){Sd=!1,Nr!==null&&Ec(Nr)&&(Nr=null),Or!==null&&Ec(Or)&&(Or=null),Vr!==null&&Ec(Vr)&&(Vr=null),dl.forEach(C_),ml.forEach(C_)}function Tc(e,n){e.blockedOn===n&&(e.blockedOn=null,Sd||(Sd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pS)))}var Ac=null;function D_(e){Ac!==e&&(Ac=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Ad(o||s)===null)continue;break}var f=An(s);f!==null&&(e.splice(n,3),n-=3,Tf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function xa(e){function n(C){return Tc(C,e)}Nr!==null&&Tc(Nr,e),Or!==null&&Tc(Or,e),Vr!==null&&Tc(Vr,e),dl.forEach(n),ml.forEach(n);for(var s=0;s<Mr.length;s++){var o=Mr[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Mr.length&&(s=Mr[0],s.blockedOn===null);)I_(s),s.blockedOn===null&&Mr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Me]||null;if(typeof f=="function")g||D_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Me]||null)E=g.formAction;else if(Ad(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),D_(s)}}}function N_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function bd(e){this._internalRoot=e}Sc.prototype.render=bd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=vn();T_(s,o,e,n,null,null)},Sc.prototype.unmount=bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;T_(e.current,2,null,e,null,null),ic(),n[si]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=iu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Mr.length&&n!==0&&n<Mr[s].priority;s++);Mr.splice(s,0,e),s===0&&I_(e)}};var O_=t.version;if(O_!=="19.2.4")throw Error(a(527,O_,"19.2.4"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var yS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{xn=bc.inject(yS),ke=bc}catch{}}return yl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=kp,f=zp,g=Bp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=v_(e,1,!1,null,null,s,o,null,h,f,g,N_),e[si]=n.current,sd(e),new bd(n)},yl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=kp,g=zp,E=Bp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=v_(e,1,!0,n,s??null,o,h,C,f,g,E,N_),n.context=E_(null),s=n.current,o=vn(),o=as(o),h=_r(o),h.callback=null,vr(s,h,o),s=o,n.current.lanes=s,rs(n,s),Ti(n),e[si]=n.current,sd(e),new Sc(n)},yl.version="19.2.4",yl}var q_;function CS(){if(q_)return Id.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Id.exports=IS(),Id.exports}var DS=CS();const NS=TE(DS),OS=()=>{};var j_={};const AE=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},VS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},SE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,v=l+2<r.length,y=v?r[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let O=(p&15)<<2|y>>6,j=y&63;v||(j=64,d||(O=64)),a.push(i[A],i[S],i[O],i[j])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(AE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):VS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new MS;const O=c<<2|p>>4;if(a.push(O),y!==64){const j=p<<4&240|y>>2;if(a.push(j),S!==64){const J=y<<6&192|S;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class MS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const US=function(r){const t=AE(r);return SE.encodeByteArray(t,!0)},jc=function(r){return US(r).replace(/\./g,"")},bE=function(r){try{return SE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function xS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const LS=()=>xS().__FIREBASE_DEFAULTS__,PS=()=>{if(typeof process>"u"||typeof j_>"u")return;const r=j_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},kS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&bE(r[1]);return t&&JSON.parse(t)},oh=()=>{try{return OS()||LS()||PS()||kS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},wE=r=>oh()?.emulatorHosts?.[r],zS=r=>{const t=wE(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},RE=()=>oh()?.config,IE=r=>oh()?.[`_${r}`];class BS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function io(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CE(r){return(await fetch(r,{credentials:"include"})).ok}function qS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[jc(JSON.stringify(i)),jc(JSON.stringify(d)),""].join(".")}const Sl={};function jS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?r.emulator.push(t):r.prod.push(t);return r}function HS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let H_=!1;function DE(r,t){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||Sl[r]===t||Sl[r]||H_)return;Sl[r]=t;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=jS().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,j){O.setAttribute("width","24"),O.setAttribute("id",j),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{H_=!0,d()},O}function A(O,j){O.setAttribute("id",j),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=HS(a),j=i("text"),J=document.getElementById(j)||document.createElement("span"),$=i("learnmore"),et=document.getElementById($)||document.createElement("a"),ut=i("preprendIcon"),vt=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const gt=O.element;p(gt),A(et,$);const zt=y();v(vt,ut),gt.append(vt,J,et,zt),document.body.appendChild(gt)}c?(J.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function FS(){const r=oh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function YS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XS(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function JS(){return!FS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZS(){try{return typeof indexedDB=="object"}catch{return!1}}function $S(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const WS="FirebaseError";class er extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=WS,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?t1(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new er(l,p,a)}}function t1(r,t){return r.replace(e1,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const e1=/\{\$([^}]+)}/g;function n1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ps(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(G_(c)&&G_(d)){if(!Ps(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function G_(r){return r!==null&&typeof r=="object"}function Bl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function i1(r,t){const i=new r1(r,t);return i.subscribe.bind(i)}class r1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");s1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Od),l.error===void 0&&(l.error=Od),l.complete===void 0&&(l.complete=Od);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s1(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Od(){}function Pe(r){return r&&r._delegate?r._delegate:r}class ks{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Os="[DEFAULT]";class a1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new BS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(l1(t))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Os){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Os){return this.instances.has(t)}getOptions(t=Os){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:o1(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Os){return this.component?this.component.multipleInstances?t:Os:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o1(r){return r===Os?void 0:r}function l1(r){return r.instantiationMode==="EAGER"}class u1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new a1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const c1={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},h1=Dt.INFO,f1={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},d1=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=f1[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ym{constructor(t){this.name=t,this._logLevel=h1,this._logHandler=d1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?c1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const m1=(r,t)=>t.some(i=>r instanceof i);let F_,Q_;function g1(){return F_||(F_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p1(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NE=new WeakMap,Gd=new WeakMap,OE=new WeakMap,Vd=new WeakMap,_m=new WeakMap;function y1(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Br(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&NE.set(i,r)}).catch(()=>{}),_m.set(t,r),t}function _1(r){if(Gd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Gd.set(r,t)}let Fd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Gd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||OE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Br(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function v1(r){Fd=r(Fd)}function E1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Md(this),t,...i);return OE.set(a,t.sort?t.sort():[t]),Br(a)}:p1().includes(r)?function(...t){return r.apply(Md(this),t),Br(NE.get(this))}:function(...t){return Br(r.apply(Md(this),t))}}function T1(r){return typeof r=="function"?E1(r):(r instanceof IDBTransaction&&_1(r),m1(r,g1())?new Proxy(r,Fd):r)}function Br(r){if(r instanceof IDBRequest)return y1(r);if(Vd.has(r))return Vd.get(r);const t=T1(r);return t!==r&&(Vd.set(r,t),_m.set(t,r)),t}const Md=r=>_m.get(r);function A1(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Br(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Br(d.result),v.oldVersion,v.newVersion,Br(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const S1=["get","getKey","getAll","getAllKeys","count"],b1=["put","add","delete","clear"],Ud=new Map;function K_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ud.get(t))return Ud.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=b1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||S1.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&v.done]))[0]};return Ud.set(t,c),c}v1(r=>({...r,get:(t,i,a)=>K_(t,i)||r.get(t,i,a),has:(t,i)=>!!K_(t,i)||r.has(t,i)}));class w1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(R1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function R1(r){return r.getComponent()?.type==="VERSION"}const Qd="@firebase/app",Y_="0.14.8";const Zi=new ym("@firebase/app"),I1="@firebase/app-compat",C1="@firebase/analytics-compat",D1="@firebase/analytics",N1="@firebase/app-check-compat",O1="@firebase/app-check",V1="@firebase/auth",M1="@firebase/auth-compat",U1="@firebase/database",x1="@firebase/data-connect",L1="@firebase/database-compat",P1="@firebase/functions",k1="@firebase/functions-compat",z1="@firebase/installations",B1="@firebase/installations-compat",q1="@firebase/messaging",j1="@firebase/messaging-compat",H1="@firebase/performance",G1="@firebase/performance-compat",F1="@firebase/remote-config",Q1="@firebase/remote-config-compat",K1="@firebase/storage",Y1="@firebase/storage-compat",X1="@firebase/firestore",J1="@firebase/ai",Z1="@firebase/firestore-compat",$1="firebase",W1="12.9.0";const Kd="[DEFAULT]",tb={[Qd]:"fire-core",[I1]:"fire-core-compat",[D1]:"fire-analytics",[C1]:"fire-analytics-compat",[O1]:"fire-app-check",[N1]:"fire-app-check-compat",[V1]:"fire-auth",[M1]:"fire-auth-compat",[U1]:"fire-rtdb",[x1]:"fire-data-connect",[L1]:"fire-rtdb-compat",[P1]:"fire-fn",[k1]:"fire-fn-compat",[z1]:"fire-iid",[B1]:"fire-iid-compat",[q1]:"fire-fcm",[j1]:"fire-fcm-compat",[H1]:"fire-perf",[G1]:"fire-perf-compat",[F1]:"fire-rc",[Q1]:"fire-rc-compat",[K1]:"fire-gcs",[Y1]:"fire-gcs-compat",[X1]:"fire-fst",[Z1]:"fire-fst-compat",[J1]:"fire-vertex","fire-js":"fire-js",[$1]:"fire-js-all"};const Hc=new Map,eb=new Map,Yd=new Map;function X_(r,t){try{r.container.addComponent(t)}catch(i){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ya(r){const t=r.name;if(Yd.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;Yd.set(t,r);for(const i of Hc.values())X_(i,r);for(const i of eb.values())X_(i,r);return!0}function vm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Yn(r){return r==null?!1:r.settings!==void 0}const nb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new zl("app","Firebase",nb);class ib{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const ro=W1;function VE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Kd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw qr.create("bad-app-name",{appName:String(l)});if(i||(i=RE()),!i)throw qr.create("no-options");const c=Hc.get(l);if(c){if(Ps(i,c.options)&&Ps(a,c.config))return c;throw qr.create("duplicate-app",{appName:l})}const d=new u1(l);for(const v of Yd.values())d.addComponent(v);const p=new ib(i,a,d);return Hc.set(l,p),p}function ME(r=Kd){const t=Hc.get(r);if(!t&&r===Kd&&RE())return VE();if(!t)throw qr.create("no-app",{appName:r});return t}function jr(r,t,i){let a=tb[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(d.join(" "));return}Ya(new ks(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const rb="firebase-heartbeat-database",sb=1,Dl="firebase-heartbeat-store";let xd=null;function UE(){return xd||(xd=A1(rb,sb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Dl)}catch(i){console.warn(i)}}}}).catch(r=>{throw qr.create("idb-open",{originalErrorMessage:r.message})})),xd}async function ab(r){try{const i=(await UE()).transaction(Dl),a=await i.objectStore(Dl).get(xE(r));return await i.done,a}catch(t){if(t instanceof er)Zi.warn(t.message);else{const i=qr.create("idb-get",{originalErrorMessage:t?.message});Zi.warn(i.message)}}}async function J_(r,t){try{const a=(await UE()).transaction(Dl,"readwrite");await a.objectStore(Dl).put(t,xE(r)),await a.done}catch(i){if(i instanceof er)Zi.warn(i.message);else{const a=qr.create("idb-set",{originalErrorMessage:i?.message});Zi.warn(a.message)}}}function xE(r){return`${r.name}!${r.options.appId}`}const ob=1024,lb=30;class ub{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new hb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Z_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>lb){const l=fb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Z_(),{heartbeatsToSend:i,unsentEntries:a}=cb(this._heartbeatsCache.heartbeats),l=jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zi.warn(t),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function cb(r,t=ob){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),$_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),$_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class hb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZS()?$S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ab(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function $_(r){return jc(JSON.stringify({version:2,heartbeats:r})).length}function fb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function db(r){Ya(new ks("platform-logger",t=>new w1(t),"PRIVATE")),Ya(new ks("heartbeat",t=>new ub(t),"PRIVATE")),jr(Qd,Y_,r),jr(Qd,Y_,"esm2020"),jr("fire-js","")}db("");var mb="firebase",gb="12.9.0";jr(mb,gb,"app");var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hr,LE;(function(){var r;function t(b,w){function R(){}R.prototype=w.prototype,b.F=w.prototype,b.prototype=new R,b.prototype.constructor=b,b.D=function(M,N,x){for(var I=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)I[ie-2]=arguments[ie];return w.prototype[N].apply(M,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(b,w,R){R||(R=0);const M=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)M[N]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(N=0;N<16;++N)M[N]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=b.g[0],R=b.g[1],N=b.g[2];let x=b.g[3],I;I=w+(x^R&(N^x))+M[0]+3614090360&4294967295,w=R+(I<<7&4294967295|I>>>25),I=x+(N^w&(R^N))+M[1]+3905402710&4294967295,x=w+(I<<12&4294967295|I>>>20),I=N+(R^x&(w^R))+M[2]+606105819&4294967295,N=x+(I<<17&4294967295|I>>>15),I=R+(w^N&(x^w))+M[3]+3250441966&4294967295,R=N+(I<<22&4294967295|I>>>10),I=w+(x^R&(N^x))+M[4]+4118548399&4294967295,w=R+(I<<7&4294967295|I>>>25),I=x+(N^w&(R^N))+M[5]+1200080426&4294967295,x=w+(I<<12&4294967295|I>>>20),I=N+(R^x&(w^R))+M[6]+2821735955&4294967295,N=x+(I<<17&4294967295|I>>>15),I=R+(w^N&(x^w))+M[7]+4249261313&4294967295,R=N+(I<<22&4294967295|I>>>10),I=w+(x^R&(N^x))+M[8]+1770035416&4294967295,w=R+(I<<7&4294967295|I>>>25),I=x+(N^w&(R^N))+M[9]+2336552879&4294967295,x=w+(I<<12&4294967295|I>>>20),I=N+(R^x&(w^R))+M[10]+4294925233&4294967295,N=x+(I<<17&4294967295|I>>>15),I=R+(w^N&(x^w))+M[11]+2304563134&4294967295,R=N+(I<<22&4294967295|I>>>10),I=w+(x^R&(N^x))+M[12]+1804603682&4294967295,w=R+(I<<7&4294967295|I>>>25),I=x+(N^w&(R^N))+M[13]+4254626195&4294967295,x=w+(I<<12&4294967295|I>>>20),I=N+(R^x&(w^R))+M[14]+2792965006&4294967295,N=x+(I<<17&4294967295|I>>>15),I=R+(w^N&(x^w))+M[15]+1236535329&4294967295,R=N+(I<<22&4294967295|I>>>10),I=w+(N^x&(R^N))+M[1]+4129170786&4294967295,w=R+(I<<5&4294967295|I>>>27),I=x+(R^N&(w^R))+M[6]+3225465664&4294967295,x=w+(I<<9&4294967295|I>>>23),I=N+(w^R&(x^w))+M[11]+643717713&4294967295,N=x+(I<<14&4294967295|I>>>18),I=R+(x^w&(N^x))+M[0]+3921069994&4294967295,R=N+(I<<20&4294967295|I>>>12),I=w+(N^x&(R^N))+M[5]+3593408605&4294967295,w=R+(I<<5&4294967295|I>>>27),I=x+(R^N&(w^R))+M[10]+38016083&4294967295,x=w+(I<<9&4294967295|I>>>23),I=N+(w^R&(x^w))+M[15]+3634488961&4294967295,N=x+(I<<14&4294967295|I>>>18),I=R+(x^w&(N^x))+M[4]+3889429448&4294967295,R=N+(I<<20&4294967295|I>>>12),I=w+(N^x&(R^N))+M[9]+568446438&4294967295,w=R+(I<<5&4294967295|I>>>27),I=x+(R^N&(w^R))+M[14]+3275163606&4294967295,x=w+(I<<9&4294967295|I>>>23),I=N+(w^R&(x^w))+M[3]+4107603335&4294967295,N=x+(I<<14&4294967295|I>>>18),I=R+(x^w&(N^x))+M[8]+1163531501&4294967295,R=N+(I<<20&4294967295|I>>>12),I=w+(N^x&(R^N))+M[13]+2850285829&4294967295,w=R+(I<<5&4294967295|I>>>27),I=x+(R^N&(w^R))+M[2]+4243563512&4294967295,x=w+(I<<9&4294967295|I>>>23),I=N+(w^R&(x^w))+M[7]+1735328473&4294967295,N=x+(I<<14&4294967295|I>>>18),I=R+(x^w&(N^x))+M[12]+2368359562&4294967295,R=N+(I<<20&4294967295|I>>>12),I=w+(R^N^x)+M[5]+4294588738&4294967295,w=R+(I<<4&4294967295|I>>>28),I=x+(w^R^N)+M[8]+2272392833&4294967295,x=w+(I<<11&4294967295|I>>>21),I=N+(x^w^R)+M[11]+1839030562&4294967295,N=x+(I<<16&4294967295|I>>>16),I=R+(N^x^w)+M[14]+4259657740&4294967295,R=N+(I<<23&4294967295|I>>>9),I=w+(R^N^x)+M[1]+2763975236&4294967295,w=R+(I<<4&4294967295|I>>>28),I=x+(w^R^N)+M[4]+1272893353&4294967295,x=w+(I<<11&4294967295|I>>>21),I=N+(x^w^R)+M[7]+4139469664&4294967295,N=x+(I<<16&4294967295|I>>>16),I=R+(N^x^w)+M[10]+3200236656&4294967295,R=N+(I<<23&4294967295|I>>>9),I=w+(R^N^x)+M[13]+681279174&4294967295,w=R+(I<<4&4294967295|I>>>28),I=x+(w^R^N)+M[0]+3936430074&4294967295,x=w+(I<<11&4294967295|I>>>21),I=N+(x^w^R)+M[3]+3572445317&4294967295,N=x+(I<<16&4294967295|I>>>16),I=R+(N^x^w)+M[6]+76029189&4294967295,R=N+(I<<23&4294967295|I>>>9),I=w+(R^N^x)+M[9]+3654602809&4294967295,w=R+(I<<4&4294967295|I>>>28),I=x+(w^R^N)+M[12]+3873151461&4294967295,x=w+(I<<11&4294967295|I>>>21),I=N+(x^w^R)+M[15]+530742520&4294967295,N=x+(I<<16&4294967295|I>>>16),I=R+(N^x^w)+M[2]+3299628645&4294967295,R=N+(I<<23&4294967295|I>>>9),I=w+(N^(R|~x))+M[0]+4096336452&4294967295,w=R+(I<<6&4294967295|I>>>26),I=x+(R^(w|~N))+M[7]+1126891415&4294967295,x=w+(I<<10&4294967295|I>>>22),I=N+(w^(x|~R))+M[14]+2878612391&4294967295,N=x+(I<<15&4294967295|I>>>17),I=R+(x^(N|~w))+M[5]+4237533241&4294967295,R=N+(I<<21&4294967295|I>>>11),I=w+(N^(R|~x))+M[12]+1700485571&4294967295,w=R+(I<<6&4294967295|I>>>26),I=x+(R^(w|~N))+M[3]+2399980690&4294967295,x=w+(I<<10&4294967295|I>>>22),I=N+(w^(x|~R))+M[10]+4293915773&4294967295,N=x+(I<<15&4294967295|I>>>17),I=R+(x^(N|~w))+M[1]+2240044497&4294967295,R=N+(I<<21&4294967295|I>>>11),I=w+(N^(R|~x))+M[8]+1873313359&4294967295,w=R+(I<<6&4294967295|I>>>26),I=x+(R^(w|~N))+M[15]+4264355552&4294967295,x=w+(I<<10&4294967295|I>>>22),I=N+(w^(x|~R))+M[6]+2734768916&4294967295,N=x+(I<<15&4294967295|I>>>17),I=R+(x^(N|~w))+M[13]+1309151649&4294967295,R=N+(I<<21&4294967295|I>>>11),I=w+(N^(R|~x))+M[4]+4149444226&4294967295,w=R+(I<<6&4294967295|I>>>26),I=x+(R^(w|~N))+M[11]+3174756917&4294967295,x=w+(I<<10&4294967295|I>>>22),I=N+(w^(x|~R))+M[2]+718787259&4294967295,N=x+(I<<15&4294967295|I>>>17),I=R+(x^(N|~w))+M[9]+3951481745&4294967295,b.g[0]=b.g[0]+w&4294967295,b.g[1]=b.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,b.g[2]=b.g[2]+N&4294967295,b.g[3]=b.g[3]+x&4294967295}a.prototype.v=function(b,w){w===void 0&&(w=b.length);const R=w-this.blockSize,M=this.C;let N=this.h,x=0;for(;x<w;){if(N==0)for(;x<=R;)l(this,b,x),x+=this.blockSize;if(typeof b=="string"){for(;x<w;)if(M[N++]=b.charCodeAt(x++),N==this.blockSize){l(this,M),N=0;break}}else for(;x<w;)if(M[N++]=b[x++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var w=1;w<b.length-8;++w)b[w]=0;w=this.o*8;for(var R=b.length-8;R<b.length;++R)b[R]=w&255,w/=256;for(this.v(b),b=Array(16),w=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)b[w++]=this.g[R]>>>M&255;return b};function c(b,w){var R=p;return Object.prototype.hasOwnProperty.call(R,b)?R[b]:R[b]=w(b)}function d(b,w){this.h=w;const R=[];let M=!0;for(let N=b.length-1;N>=0;N--){const x=b[N]|0;M&&x==w||(R[N]=x,M=!1)}this.g=R}var p={};function v(b){return-128<=b&&b<128?c(b,function(w){return new d([w|0],w<0?-1:0)}):new d([b|0],b<0?-1:0)}function y(b){if(isNaN(b)||!isFinite(b))return S;if(b<0)return et(y(-b));const w=[];let R=1;for(let M=0;b>=R;M++)w[M]=b/R|0,R*=4294967296;return new d(w,0)}function A(b,w){if(b.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(b.charAt(0)=="-")return et(A(b.substring(1),w));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(w,8));let M=S;for(let x=0;x<b.length;x+=8){var N=Math.min(8,b.length-x);const I=parseInt(b.substring(x,x+N),w);N<8?(N=y(Math.pow(w,N)),M=M.j(N).add(y(I))):(M=M.j(R),M=M.add(y(I)))}return M}var S=v(0),O=v(1),j=v(16777216);r=d.prototype,r.m=function(){if($(this))return-et(this).m();let b=0,w=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);b+=(M>=0?M:4294967296+M)*w,w*=4294967296}return b},r.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(J(this))return"0";if($(this))return"-"+et(this).toString(b);const w=y(Math.pow(b,6));var R=this;let M="";for(;;){const N=zt(R,w).g;R=ut(R,N.j(w));let x=((R.g.length>0?R.g[0]:R.h)>>>0).toString(b);if(R=N,J(R))return x+M;for(;x.length<6;)x="0"+x;M=x+M}},r.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function J(b){if(b.h!=0)return!1;for(let w=0;w<b.g.length;w++)if(b.g[w]!=0)return!1;return!0}function $(b){return b.h==-1}r.l=function(b){return b=ut(this,b),$(b)?-1:J(b)?0:1};function et(b){const w=b.g.length,R=[];for(let M=0;M<w;M++)R[M]=~b.g[M];return new d(R,~b.h).add(O)}r.abs=function(){return $(this)?et(this):this},r.add=function(b){const w=Math.max(this.g.length,b.g.length),R=[];let M=0;for(let N=0;N<=w;N++){let x=M+(this.i(N)&65535)+(b.i(N)&65535),I=(x>>>16)+(this.i(N)>>>16)+(b.i(N)>>>16);M=I>>>16,x&=65535,I&=65535,R[N]=I<<16|x}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ut(b,w){return b.add(et(w))}r.j=function(b){if(J(this)||J(b))return S;if($(this))return $(b)?et(this).j(et(b)):et(et(this).j(b));if($(b))return et(this.j(et(b)));if(this.l(j)<0&&b.l(j)<0)return y(this.m()*b.m());const w=this.g.length+b.g.length,R=[];for(var M=0;M<2*w;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<b.g.length;N++){const x=this.i(M)>>>16,I=this.i(M)&65535,ie=b.i(N)>>>16,Ce=b.i(N)&65535;R[2*M+2*N]+=I*Ce,vt(R,2*M+2*N),R[2*M+2*N+1]+=x*Ce,vt(R,2*M+2*N+1),R[2*M+2*N+1]+=I*ie,vt(R,2*M+2*N+1),R[2*M+2*N+2]+=x*ie,vt(R,2*M+2*N+2)}for(b=0;b<w;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=w;b<2*w;b++)R[b]=0;return new d(R,0)};function vt(b,w){for(;(b[w]&65535)!=b[w];)b[w+1]+=b[w]>>>16,b[w]&=65535,w++}function gt(b,w){this.g=b,this.h=w}function zt(b,w){if(J(w))throw Error("division by zero");if(J(b))return new gt(S,S);if($(b))return w=zt(et(b),w),new gt(et(w.g),et(w.h));if($(w))return w=zt(b,et(w)),new gt(et(w.g),w.h);if(b.g.length>30){if($(b)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var R=O,M=w;M.l(b)<=0;)R=$t(R),M=$t(M);var N=Mt(R,1),x=Mt(M,1);for(M=Mt(M,2),R=Mt(R,2);!J(M);){var I=x.add(M);I.l(b)<=0&&(N=N.add(R),x=I),M=Mt(M,1),R=Mt(R,1)}return w=ut(b,N.j(w)),new gt(N,w)}for(N=S;b.l(w)>=0;){for(R=Math.max(1,Math.floor(b.m()/w.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),x=y(R),I=x.j(w);$(I)||I.l(b)>0;)R-=M,x=y(R),I=x.j(w);J(x)&&(x=O),N=N.add(x),b=ut(b,I)}return new gt(N,b)}r.B=function(b){return zt(this,b).h},r.and=function(b){const w=Math.max(this.g.length,b.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)&b.i(M);return new d(R,this.h&b.h)},r.or=function(b){const w=Math.max(this.g.length,b.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)|b.i(M);return new d(R,this.h|b.h)},r.xor=function(b){const w=Math.max(this.g.length,b.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)^b.i(M);return new d(R,this.h^b.h)};function $t(b){const w=b.g.length+1,R=[];for(let M=0;M<w;M++)R[M]=b.i(M)<<1|b.i(M-1)>>>31;return new d(R,b.h)}function Mt(b,w){const R=w>>5;w%=32;const M=b.g.length-R,N=[];for(let x=0;x<M;x++)N[x]=w>0?b.i(x+R)>>>w|b.i(x+R+1)<<32-w:b.i(x+R);return new d(N,b.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,LE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Hr=d}).apply(typeof W_<"u"?W_:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var PE,vl,kE,Vc,Xd,zE,BE,qE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var Z=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)Z[Et-2]=arguments[Et];return m.prototype[L].apply(T,Z)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const B=L.length||0;u.length=_+B;for(let Z=0;Z<B;Z++)u[_+Z]=L[Z]}else u.push(L)}}class ${constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function ut(){var u=b;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,_){const T=gt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new $(()=>new zt,u=>u.reset());class zt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let $t,Mt=!1,b=new vt,w=()=>{const u=Promise.resolve(void 0);$t=()=>{u.then(R)}};function R(){for(var u;u=ut();){try{u.h.call(u.g)}catch(_){et(_)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Mt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ie,N),ie.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),G=0;function W(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Ht(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function V(u){const m={};for(const _ in u)m[_]=u[_];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let B=0;B<K.length;B++)_=K[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,_,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const Z=St(u,m,T,L);return Z>-1?(m=u[Z],_||(m.fa=!1)):(m=new W(m,this.src,B,!!T,L),m.fa=_,u.push(m)),m};function mt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ct(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function St(u,m,_,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return L}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),De={};function re(u,m,_,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],_,T,L);return null}return _=mo(_),u&&u[Ce]?u.J(m,_,p(T)?!!T.capture:!1,L):ts(u,m,_,!1,T,L)}function ts(u,m,_,T,L,B){if(!m)throw Error("Invalid event type");const Z=p(L)?!!L.capture:!!L;let Et=es(u);if(Et||(u[Ut]=Et=new rt(u)),_=Et.add(m,_,T,Z,B),_.proxy)return _;if(T=Qs(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)x||(L=Z),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(ti(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Qs(){function u(_){return m.call(u.src,u.listener,_)}const m=ho;return u}function Ks(u,m,_,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ks(u,m[B],_,T,L);else T=p(T)?!!T.capture:!!T,_=mo(_),u&&u[Ce]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=St(m,_,T,L),_>-1&&(ct(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=es(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,_,T,L)),(_=u>-1?m[u]:null)&&Ys(_))}function Ys(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])mt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(ti(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=es(m))?(mt(_,u),_.h==0&&(_.src=null,m[Ut]=null)):ct(u)}}}function ti(u){return u in De?De[u]:De[u]="on"+u}function ho(u,m){if(u.da)u=!0;else{m=new ie(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Ys(u),u=_.call(T,m)}return u}function es(u){return u=u[Ut],u instanceof rt?u:null}var fo="__closure_events_fn_"+(Math.random()*1e9>>>0);function mo(u){return typeof u=="function"?u:(u[fo]||(u[fo]=function(m){return u.handleEvent(m)}),u[fo])}function ge(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}S(ge,M),ge.prototype[Ce]=!0,ge.prototype.removeEventListener=function(u,m,_,T){Ks(this,u,m,_,T)};function Ne(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),tt(m,L)}L=!0;let B,Z;if(_)for(Z=_.length-1;Z>=0;Z--)B=m.g=_[Z],L=nr(B,T,!0,m)&&L;if(B=m.g=u,L=nr(B,T,!0,m)&&L,L=nr(B,T,!1,m)&&L,_)for(Z=0;Z<_.length;Z++)B=m.g=_[Z],L=nr(B,T,!1,m)&&L}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ct(_[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},ge.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function nr(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const Z=m[B];if(Z&&!Z.da&&Z.capture==_){const Et=Z.listener,he=Z.ha||Z.src;Z.fa&&mt(u.i,Z),L=Et.call(he,T)!==!1&&L}}return L&&!T.defaultPrevented}function Rh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Jl(u){u.g=Rh(()=>{u.g=null,u.i&&(u.i=!1,Jl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends M{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(u){M.call(this),this.h=u,this.g={}}S(ns,M);var go=[];function po(u){Lt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Ys(m)},u),u.g={}}ns.prototype.N=function(){ns.Z.N.call(this),po(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=d.JSON.stringify,Ih=d.JSON.parse,Zl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function $l(){}function Wl(){}var xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){N.call(this,"d")}S(ke,N);function Tn(){N.call(this,"c")}S(Tn,N);var ce={},tu=null;function Xs(){return tu=tu||new ge}ce.Ia="serverreachability";function eu(u){N.call(this,ce.Ia,u)}S(eu,N);function ei(u){const m=Xs();Ne(m,new eu(m))}ce.STAT_EVENT="statevent";function is(u,m){N.call(this,ce.STAT_EVENT,u),this.stat=m}S(is,N);function pe(u){const m=Xs();Ne(m,new is(m,u))}ce.Ja="timingevent";function ni(u,m){N.call(this,ce.Ja,u),this.size=m}S(ni,N);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Ch(u,m,_,T,L,B){u.info(function(){if(u.g)if(B){var Z="",Et=B.split("&");for(let Bt=0;Bt<Et.length;Bt++){var he=Et[Bt].split("=");if(he.length>1){const se=he[0];he=he[1];const wn=se.split("_");Z=wn.length>=2&&wn[1]=="type"?Z+(se+"="+he+"&"):Z+(se+"=redacted&")}}}else Z=null;else Z=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+Z})}function nu(u,m,_,T,L,B,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+B+" "+Z})}function ri(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(u,_)+(T?" "+T:"")})}function rs(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Dh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let Z=1;Z<T.length;Z++)T[Z]=""}}}}return ir(B)}catch{return m}}var ss={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_o;function as(){}S(as,$l),as.prototype.g=function(){return new XMLHttpRequest},_o=new as;function Di(u){return encodeURIComponent(String(u))}function iu(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Pn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new ns(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new kn}function kn(){this.i=null,this.g="",this.h=!1}var ye={},Me={};function si(u,m,_){u.M=1,u.A=os(ve(m)),u.u=_,u.R=!0,Js(u,null)}function Js(u,m){u.F=Date.now(),ai(u),u.B=ve(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ta(_.i,"t",T),u.C=0,_=u.j.L,u.h=new kn,u.g=_u(u.j,_?m:null,!u.u),u.P>0&&(u.O=new $e(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(go[0]=L.toString()),L=go);for(let B=0;B<L.length;B++){const Z=re(_,L[B],T||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),Ch(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const Et=qn(this.g),he=this.g.ya(),Bt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||Et!=4||he==7||(he==8||Bt<=0?ei(3):ei(2)),oi(this);var m=this.g.ca();this.X=m;var _=Nh(this);if(this.o=m==200,nu(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(T)){var B=T;break e}}B=null}if(u=B)ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,pe(12),hn(this),An(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<_.length;)if(se=su(this,_),se==Me){Et==4&&(this.m=4,pe(14),u=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ye){this.m=4,pe(15),ri(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ri(this.i,this.l,se,null),li(this,se);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||_.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)ri(this.i,this.l,_,"[Invalid Chunked Response]"),hn(this),An(this);else if(_.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Mo(Z),Z.P=!0,pe(11))}}else ri(this.i,this.l,_,null),li(this,_);Et==4&&hn(this),this.o&&!this.K&&(Et==4?mu(this.j,this):(this.o=!1,ai(this)))}else Oi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),hn(this),An(this)}}}catch{}};function Nh(u){if(!ru(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let _="";const T=m.length,L=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),An(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function ru(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function su(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Me:(_=Number(m.substring(_,T)),isNaN(_)?ye:(T+=1,T+_>m.length?Me:(m=m.slice(T,T+_),u.C=T+_,m)))}Pn.prototype.cancel=function(){this.K=!0,hn(this)};function ai(u){u.T=Date.now()+u.H,Zs(u,u.H)}function Zs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(y(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(rs(this.i,this.B),this.M!=2&&(ei(),pe(17)),hn(this),this.m=2,An(this)):Zs(this,this.T-u)};function An(u){u.j.I==0||u.K||mu(u.j,u)}function hn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,po(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||ci(_.h,u))){if(!u.L&&ci(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)sa(_),hr(_);else break t;ms(_),pe(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ii(y(_.Va,_),6e3));ui(_.h)<=1&&_.ta&&(_.ta=void 0)}else pi(_,11)}else if((u.L||_.g==u)&&sa(_),!I(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let Bt=L[m];const se=Bt[0];if(!(se<=_.K))if(_.K=se,Bt=Bt[1],_.I==2)if(Bt[0]=="c"){_.M=Bt[1],_.ba=Bt[2];const wn=Bt[3];wn!=null&&(_.ka=wn,_.j.info("VER="+_.ka));const yi=Bt[4];yi!=null&&(_.za=yi,_.j.info("SVER="+_.za));const jn=Bt[5];jn!=null&&typeof jn=="number"&&jn>0&&(T=1.5*jn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Hn=u.g;if(Hn){const gs=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gs){var B=T.h;B.g||gs.indexOf("spdy")==-1&&gs.indexOf("quic")==-1&&gs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(To(B,B.h),B.h=null))}if(T.G){const aa=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(T.wa=aa,Gt(T.J,T.G,aa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var Z=u;if(T.na=yu(T,T.L?T.ba:null,T.W),Z.L){Ao(T.h,Z);var Et=Z,he=T.O;he&&(Et.H=he),Et.D&&(oi(Et),ai(Et)),T.g=Z}else fu(T);_.i.length>0&&gi(_)}else Bt[0]!="stop"&&Bt[0]!="close"||pi(_,7);else _.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?pi(_,7):Oo(_):Bt[0]!="noop"&&_.l&&_.l.qa(Bt),_.A=0)}}ei(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function vo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Eo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function To(u,m){u.g?u.g.add(m):u.h=m}function Ao(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vo.prototype.cancel=function(){if(this.i=So(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function So(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return j(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $s(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,B=null;T>=0?(L=u[_].substring(0,T),B=u[_].substring(T+1)):L=u[_],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,rr(this,u.u),this.h=u.h,bo(this,cu(u.i)),this.m=u.m):u&&(m=String(u).match(au))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),rr(this,m[4]),this.h=hi(m[5]||"",!0),bo(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new ar(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ls(m,Ws,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ls(m,Ws,!0),"@"),u.push(Di(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ls(_,_.charAt(0)=="/"?wo:ou,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ls(_,lu)),u.join("")},fn.prototype.resolve=function(u){const m=ve(this);let _=!!u.j;_?Ue(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)rr(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let Z=0;Z<L.length;){const Et=L[Z++];Et=="."?T&&Z==L.length&&B.push(""):Et==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&Z==L.length&&B.push("")):(B.push(Et),T=!0)}T=B.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?bo(m,cu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function ve(u){return new fn(u)}function Ue(u,m,_){u.j=_?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function bo(u,m,_){m instanceof ar?(u.i=m,ea(u.i,u.l)):(_||(m=ls(m,sr)),u.i=new ar(m,u.l))}function Gt(u,m,_){u.i.set(m,_)}function os(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ls(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,en),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ws=/[#\/\?@]/g,ou=/[#\?:]/g,wo=/[#\?]/g,sr=/[#\?@]/g,lu=/#/g;function ar(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&$s(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=ar.prototype,r.add=function(u,m){nn(this),this.i=null,u=or(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function uu(u,m){nn(u),m=or(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ro(u,m){return nn(u),m=or(u,m),u.g.has(m)}r.forEach=function(u,m){nn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Io(u,m){nn(u);let _=[];if(typeof m=="string")Ro(u,m)&&(_=_.concat(u.g.get(or(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return nn(this),this.i=null,u=or(this,u),Ro(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Io(this,u),u.length>0?String(u[0]):m):m};function ta(u,m,_){uu(u,m),_.length>0&&(u.i=null,u.g.set(or(u,m),j(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=Di(_);_=Io(this,_);for(let B=0;B<_.length;B++){let Z=L;_[B]!==""&&(Z+="="+Di(_[B])),u.push(Z)}}return this.i=u.join("&")};function cu(u){const m=new ar;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function or(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ea(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(uu(this,T),ta(this,L,_))},u)),u.j=m}function zn(u,m){const _=new Ln;if(d.Image){const T=new Image;T.onload=A(Sn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Sn,_,"TestLoadImage: error",!1,m,T),T.onabort=A(Sn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Sn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Co(u,m){const _=new Ln,T=new AbortController,L=setTimeout(()=>{T.abort(),Sn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Sn(_,"TestPingServer: ok",!0,m):Sn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Sn(_,"TestPingServer: error",!1,m)})}function Sn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function lr(){this.g=new Zl}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(fi,$l),fi.prototype.g=function(){return new us(this.i,this.h)};function us(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(us,ge),r=us.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;na(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function na(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ur(this):Bn(this),this.readyState==3&&na(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ur(this))},r.Na=function(u){this.g&&(this.response=u,ur(this))},r.ga=function(){this.g&&ur(this)};function ur(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bn(u){let m="";return Lt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function cs(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=bn(_),typeof u=="string"?_!=null&&Di(_):Gt(u,m,_))}function Kt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,ge);var di=/^https?$/i,Do=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_o.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){hs(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Do,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Z]of _)this.g.setRequestHeader(B,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){hs(this,B)}};function hs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,No(u),Ni(u)}function No(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Ni(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?fs(this):this.Xa())},r.Xa=function(){fs(this)};function fs(u){if(u.h&&typeof c<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),qn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let Z=String(u.D).match(au)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),T=!di.test(Z?Z.toLowerCase():"")}_=T}if(_)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var L=qn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",No(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ne(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ih(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(I(u[T]))continue;var _=iu(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[L]||[];m[L]=B,B.push(_)}Ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function cr(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new vo(u&&u.concurrentRequestLimit),this.Ba=new lr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=cr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){pe(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=yu(this,null,this.W),gi(this)};function Oo(u){if(ia(u),u.I==3){var m=u.V++,_=ve(u.J);if(Gt(_,"SID",u.M),Gt(_,"RID",m),Gt(_,"TYPE","terminate"),ds(u,_),m=new Pn(u,u.j,m),m.M=2,m.A=os(ve(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=_u(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}pu(u)}function hr(u){u.g&&(Mo(u),u.g.cancel(),u.g=null)}function ia(u){hr(u),u.v&&(d.clearTimeout(u.v),u.v=null),sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function gi(u){if(!Eo(u.h)&&!u.m){u.m=!0;var m=u.Ea;$t||w(),Mt||($t(),Mt=!0),b.add(m,u),u.D=0}}function ra(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(y(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Pn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),tt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=hu(this,L,m),_=ve(this.J),Gt(_,"RID",u),Gt(_,"CVER",22),this.G&&Gt(_,"X-HTTP-Session-Id",this.G),ds(this,_),B&&(this.R?m="headers="+Di(bn(B))+"&"+m:this.u&&cs(_,this.u,B)),To(this.h,L),this.Ra&&Gt(_,"TYPE","init"),this.S?(Gt(_,"$req",m),Gt(_,"SID","null"),L.U=!0,si(L,_,null)):si(L,_,m),this.I=2}}else this.I==3&&(u?Vo(this,u):this.i.length==0||Eo(this.h)||Vo(this))};function Vo(u,m){var _;m?_=m.l:_=u.V++;const T=ve(u.J);Gt(T,"SID",u.M),Gt(T,"RID",_),Gt(T,"AID",u.K),ds(u,T),u.u&&u.o&&cs(T,u.u,u.o),_=new Pn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=hu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),To(u.h,_),si(_,T,m)}function ds(u,m){u.H&&Lt(u.H,function(_,T){Gt(m,T,_)}),u.l&&Lt({},function(_,T){Gt(m,T,_)})}function hu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Et=-1;for(;;){const he=["count="+_];Et==-1?_>0?(Et=L[0].g,he.push("ofs="+Et)):Et=0:he.push("ofs="+Et);let Bt=!0;for(let se=0;se<_;se++){var B=L[se].g;const wn=L[se].map;if(B-=Et,B<0)Et=Math.max(0,L[se].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var Z=wn instanceof Map?wn:Object.entries(wn);for(const[yi,jn]of Z){let Hn=jn;p(jn)&&(Hn=ir(jn)),he.push(B+yi+"="+encodeURIComponent(Hn))}}catch(yi){throw he.push(B+"type="+encodeURIComponent("_badmap")),yi}}catch{T&&T(wn)}}if(Bt){Z=he.join("&");break t}}Z=void 0}return u=u.i.splice(0,_),m.G=u,Z}function fu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;$t||w(),Mt||($t(),Mt=!0),b.add(m,u),u.A=0}}function ms(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(y(u.Da,u),gu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),hr(this),du(this))};function Mo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function du(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),ds(u,m),u.u&&u.o&&cs(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=os(ve(m)),_.u=null,_.R=!0,Js(_,u)}r.Va=function(){this.C!=null&&(this.C=null,hr(this),ms(this),pe(19))};function sa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function mu(u,m){var _=null;if(u.g==m){sa(u),Mo(u),u.g=null;var T=2}else if(ci(u.h,m))_=m.G,Ao(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Xs(),Ne(T,new ni(T,_)),gi(u)}else fu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ra(u,m)||T==2&&ms(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function gu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const L=!T;T=new fn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),os(T),L?zn(T.toString(),_):Co(T.toString(),_)}else pe(2);u.I=0,u.l&&u.l.pa(m),pu(u),ia(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=So(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function yu(u,m,_){var T=_ instanceof fn?ve(_):new fn(_);if(T.g!="")m&&(T.g=m+"."+T.g),rr(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new fn(null);T&&Ue(B,T),m&&(B.g=m),L&&rr(B,L),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Gt(T,_,m),Gt(T,"VER",u.ka),ds(u,T),T}function _u(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new fi({ab:_})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}r=vu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function fr(){}fr.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ge.call(this),this.g=new cr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}S(We,ge),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Oo(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=ir(u),u=_);m.i.push(new _e(m.Ya++,u)),m.I==3&&gi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,We.Z.N.call(this)};function Eu(u){ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Eu,ke);function Tu(){Tn.call(this),this.status=1}S(Tu,Tn);function Vi(u){this.g=u}S(Vi,vu),Vi.prototype.ra=function(){Ne(this.g,"a")},Vi.prototype.qa=function(u){Ne(this.g,new Eu(u))},Vi.prototype.pa=function(u){Ne(this.g,new Tu)},Vi.prototype.oa=function(){Ne(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,qE=function(){return new fr},BE=function(){return Xs()},zE=ce,Xd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ss.NO_ERROR=0,ss.TIMEOUT=8,ss.HTTP_ERROR=6,Vc=ss,yo.COMPLETE="complete",kE=yo,Wl.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",ge.prototype.listen=ge.prototype.J,vl=Wl,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,PE=Kt}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let so="12.9.0";function pb(r){so=r}const zs=new ym("@firebase/firestore");function La(){return zs.logLevel}function it(r,...t){if(zs.logLevel<=Dt.DEBUG){const i=t.map(Em);zs.debug(`Firestore (${so}): ${r}`,...i)}}function $i(r,...t){if(zs.logLevel<=Dt.ERROR){const i=t.map(Em);zs.error(`Firestore (${so}): ${r}`,...i)}}function Bs(r,...t){if(zs.logLevel<=Dt.WARN){const i=t.map(Em);zs.warn(`Firestore (${so}): ${r}`,...i)}}function Em(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function ft(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,jE(r,a,i)}function jE(r,t,i){let a=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw $i(a),new Error(a)}function jt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||jE(t,l,a)}function _t(r,t){return r}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends er{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Us{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class HE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class _b{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class vb{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){jt(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Us,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Us)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(jt(typeof a.accessToken=="string",31837,{l:a}),new HE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class Eb{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Tb{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Eb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ab{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){jt(this.o===void 0,3512);const a=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new tv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Sb(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Tm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Sb(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Nt(r,t){return r<t?-1:r>t?1:0}function Jd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Ld(l)===Ld(c)?Nt(l,c):Ld(l)?1:-1}return Nt(r.length,t.length)}const bb=55296,wb=57343;function Ld(r){const t=r.charCodeAt(0);return t>=bb&&t<=wb}function Xa(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const ev="__name__";class Ai{constructor(t,i,a){i===void 0?i=0:i>t.length&&ft(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&ft(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ai.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ai?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ai.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Nt(t.length,i.length)}static compareSegments(t,i){const a=Ai.isNumericId(t),l=Ai.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ai.extractNumericId(t).compare(Ai.extractNumericId(i)):Jd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}}class Wt extends Ai{construct(t,i,a){return new Wt(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new nt(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const Rb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends Ai{construct(t,i,a){return new Fe(t,i,a)}static isValidIdentifier(t){return Rb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ev}static keyField(){return new Fe([ev])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new nt(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new nt(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new nt(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new nt(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class lt{constructor(t){this.path=t}static fromPath(t){return new lt(Wt.fromString(t))}static fromName(t){return new lt(Wt.fromString(t).popFirst(5))}static empty(){return new lt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Wt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new lt(new Wt(t.slice()))}}function GE(r,t,i){if(!i)throw new nt(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Ib(r,t,i,a){if(t===!0&&a===!0)throw new nt(Y.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function nv(r){if(!lt.isDocumentKey(r))throw new nt(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function iv(r){if(lt.isDocumentKey(r))throw new nt(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function FE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function lh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":ft(12329,{type:typeof r})}function Gr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new nt(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=lh(r);throw new nt(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Re(r,t){const i={typeString:r};return t&&(i.value=t),i}function ql(r,t){if(!FE(r))throw new nt(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new nt(Y.INVALID_ARGUMENT,i);return!0}const rv=-62135596800,sv=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*sv);return new ne(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new nt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new nt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<rv)throw new nt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ql(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-rv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Re("string",ne._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class pt{static fromTimestamp(t){return new pt(t)}static min(){return new pt(new ne(0,0))}static max(){return new pt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nl=-1;function Cb(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=pt.fromTimestamp(a===1e9?new ne(i+1,0):new ne(i,a));return new Qr(l,lt.empty(),t)}function Db(r){return new Qr(r.readTime,r.key,Nl)}class Qr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Qr(pt.min(),lt.empty(),Nl)}static max(){return new Qr(pt.max(),lt.empty(),Nl)}}function Nb(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=lt.comparator(r.documentKey,t.documentKey),i!==0?i:Nt(r.largestBatchId,t.largestBatchId))}const Ob="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ao(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==Ob)throw r;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((A=>{d[y]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Mb(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function oo(r){return r.name==="IndexedDbTransactionError"}class uh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uh.ce=-1;const Am=-1;function ch(r){return r==null}function Gc(r){return r===0&&1/r==-1/0}function Ub(r){return typeof r=="number"&&Number.isInteger(r)&&!Gc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const QE="";function xb(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=av(t)),t=Lb(r.get(i),t);return av(t)}function Lb(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case QE:i+="";break;default:i+=c}}return i}function av(r){return r+QE+""}function ov(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function $r(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function KE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rc(this.root,t,this.comparator,!0)}}class Rc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ge(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ft(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ft(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw ft(57766)}get value(){throw ft(16141)}get color(){throw ft(16727)}get left(){throw ft(29726)}get right(){throw ft(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new lv(this.data.getIterator())}getIteratorFrom(t){return new lv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class lv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class En{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new En([])}unionWith(t){let i=new Ve(Fe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new En(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Xa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class YE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new YE("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const Pb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(r){if(jt(!!r,39018),typeof r=="string"){let t=0;const i=Pb.exec(r);if(jt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Yr(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const XE="server_timestamp",JE="__type__",ZE="__previous_value__",$E="__local_write_time__";function Sm(r){return(r?.mapValue?.fields||{})[JE]?.stringValue===XE}function hh(r){const t=r.mapValue.fields[ZE];return Sm(t)?hh(t):t}function Ol(r){const t=Kr(r.mapValue.fields[$E].timestampValue);return new ne(t.seconds,t.nanos)}class kb{constructor(t,i,a,l,c,d,p,v,y,A,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=A,this.apiKey=S}}const Fc="(default)";class Vl{constructor(t,i){this.projectId=t,this.database=i||Fc}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(t){return t instanceof Vl&&t.projectId===this.projectId&&t.database===this.database}}function zb(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new nt(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(r.options.projectId,t)}const WE="__type__",Bb="__max__",Ic={mapValue:{}},tT="__vector__",Qc="value";function Xr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sm(r)?4:jb(r)?9007199254740991:qb(r)?10:11:ft(28295,{value:r})}function Ii(r,t){if(r===t)return!0;const i=Xr(r);if(i!==Xr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ol(r).isEqual(Ol(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Kr(l.timestampValue),p=Kr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Yr(l.bytesValue).isEqual(Yr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return me(l.geoPointValue.latitude)===me(c.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return me(l.integerValue)===me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=me(l.doubleValue),p=me(c.doubleValue);return d===p?Gc(d)===Gc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Xa(r.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(ov(d)!==ov(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ii(d[v],p[v])))return!1;return!0})(r,t);default:return ft(52216,{left:r})}}function Ml(r,t){return(r.values||[]).find((i=>Ii(i,t)))!==void 0}function Ja(r,t){if(r===t)return 0;const i=Xr(r),a=Xr(t);if(i!==a)return Nt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=me(c.integerValue||c.doubleValue),v=me(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,t);case 3:return uv(r.timestampValue,t.timestampValue);case 4:return uv(Ol(r),Ol(t));case 5:return Jd(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=Yr(c),v=Yr(d);return p.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const A=Nt(p[y],v[y]);if(A!==0)return A}return Nt(p.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Nt(me(c.latitude),me(d.latitude));return p!==0?p:Nt(me(c.longitude),me(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return cv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},y=p[Qc]?.arrayValue,A=v[Qc]?.arrayValue,S=Nt(y?.values?.length||0,A?.values?.length||0);return S!==0?S:cv(y,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=d.fields||{},A=Object.keys(y);v.sort(),A.sort();for(let S=0;S<v.length&&S<A.length;++S){const O=Jd(v[S],A[S]);if(O!==0)return O;const j=Ja(p[v[S]],y[A[S]]);if(j!==0)return j}return Nt(v.length,A.length)})(r.mapValue,t.mapValue);default:throw ft(23264,{he:i})}}function uv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nt(r,t);const i=Kr(r),a=Kr(t),l=Nt(i.seconds,a.seconds);return l!==0?l:Nt(i.nanos,a.nanos)}function cv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ja(i[l],a[l]);if(c)return c}return Nt(i.length,a.length)}function Za(r){return Zd(r)}function Zd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Kr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Yr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return lt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Zd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Zd(i.fields[d])}`;return l+"}"})(r.mapValue):ft(61005,{value:r})}function Mc(r){switch(Xr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hh(r);return t?16+Mc(t):16;case 5:return 2*r.stringValue.length;case 6:return Yr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Mc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return $r(a.fields,((c,d)=>{l+=c.length+Mc(d)})),l})(r.mapValue);default:throw ft(13486,{value:r})}}function hv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function $d(r){return!!r&&"integerValue"in r}function bm(r){return!!r&&"arrayValue"in r}function fv(r){return!!r&&"nullValue"in r}function dv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Uc(r){return!!r&&"mapValue"in r}function qb(r){return(r?.mapValue?.fields||{})[WE]?.stringValue===tT}function bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return $r(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=bl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=bl(r.arrayValue.values[i]);return t}return{...r}}function jb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Bb}class cn{constructor(t){this.value=t}static empty(){return new cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Uc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=bl(i)}setAll(t){let i=Fe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=bl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Uc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){$r(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new cn(bl(this.value))}}function eT(r){const t=[];return $r(r.fields,((i,a)=>{const l=new Fe([i]);if(Uc(a)){const c=eT(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new En(t)}class Je{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,pt.min(),pt.min(),pt.min(),cn.empty(),0)}static newFoundDocument(t,i,a,l){return new Je(t,1,i,pt.min(),a,l,0)}static newNoDocument(t,i){return new Je(t,2,i,pt.min(),pt.min(),cn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,pt.min(),pt.min(),cn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kc{constructor(t,i){this.position=t,this.inclusive=i}}function mv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=lt.comparator(lt.fromName(d.referenceValue),i.key):a=Ja(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function gv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ii(r.position[i],t.position[i]))return!1;return!0}class Ul{constructor(t,i="asc"){this.field=t,this.dir=i}}function Hb(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class nT{}class we extends nT{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Fb(t,i,a):i==="array-contains"?new Yb(t,a):i==="in"?new Xb(t,a):i==="not-in"?new Jb(t,a):i==="array-contains-any"?new Zb(t,a):new we(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Qb(t,a):new Kb(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&Xr(this.value)===Xr(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends nT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Wn(t,i)}matches(t){return iT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iT(r){return r.op==="and"}function rT(r){return Gb(r)&&iT(r)}function Gb(r){for(const t of r.filters)if(t instanceof Wn)return!1;return!0}function Wd(r){if(r instanceof we)return r.field.canonicalString()+r.op.toString()+Za(r.value);if(rT(r))return r.filters.map((t=>Wd(t))).join(",");{const t=r.filters.map((i=>Wd(i))).join(",");return`${r.op}(${t})`}}function sT(r,t){return r instanceof we?(function(a,l){return l instanceof we&&a.op===l.op&&a.field.isEqual(l.field)&&Ii(a.value,l.value)})(r,t):r instanceof Wn?(function(a,l){return l instanceof Wn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&sT(d,l.filters[p])),!0):!1})(r,t):void ft(19439)}function aT(r){return r instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${Za(i.value)}`})(r):r instanceof Wn?(function(i){return i.op.toString()+" {"+i.getFilters().map(aT).join(" ,")+"}"})(r):"Filter"}class Fb extends we{constructor(t,i,a){super(t,i,a),this.key=lt.fromName(a.referenceValue)}matches(t){const i=lt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Qb extends we{constructor(t,i){super(t,"in",i),this.keys=oT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Kb extends we{constructor(t,i){super(t,"not-in",i),this.keys=oT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function oT(r,t){return(t.arrayValue?.values||[]).map((i=>lt.fromName(i.referenceValue)))}class Yb extends we{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return bm(i)&&Ml(i.arrayValue,this.value)}}class Xb extends we{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ml(this.value.arrayValue,i)}}class Jb extends we{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ml(this.value.arrayValue,i)}}class Zb extends we{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!bm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ml(this.value.arrayValue,a)))}}class $b{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function pv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new $b(r,t,i,a,l,c,d)}function wm(r){const t=_t(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Wd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ch(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Za(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Za(a))).join(",")),t.Te=i}return t.Te}function Rm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Hb(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!sT(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!gv(r.startAt,t.startAt)&&gv(r.endAt,t.endAt)}function tm(r){return lt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class lo{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Wb(r,t,i,a,l,c,d,p){return new lo(r,t,i,a,l,c,d,p)}function Im(r){return new lo(r)}function yv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function tw(r){return lt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function lT(r){return r.collectionGroup!==null}function wl(r){const t=_t(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Fe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Ul(c,a))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new Ul(Fe.keyField(),a))}return t.Ie}function Si(r){const t=_t(r);return t.Ee||(t.Ee=ew(t,wl(r))),t.Ee}function ew(r,t){if(r.limitType==="F")return pv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Ul(l.field,c)}));const i=r.endAt?new Kc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Kc(r.startAt.position,r.startAt.inclusive):null;return pv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function em(r,t){const i=r.filters.concat([t]);return new lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function nw(r,t){const i=r.explicitOrderBy.concat([t]);return new lo(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function nm(r,t,i){return new lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function fh(r,t){return Rm(Si(r),Si(t))&&r.limitType===t.limitType}function uT(r){return`${wm(Si(r))}|lt:${r.limitType}`}function Pa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>aT(l))).join(", ")}]`),ch(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Za(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Za(l))).join(",")),`Target(${a})`})(Si(r))}; limitType=${r.limitType})`}function dh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):lt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of wl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,v){const y=mv(d,p,v);return d.inclusive?y<=0:y<0})(a.startAt,wl(a),l)||a.endAt&&!(function(d,p,v){const y=mv(d,p,v);return d.inclusive?y>=0:y>0})(a.endAt,wl(a),l))})(r,t)}function iw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function cT(r){return(t,i)=>{let a=!1;for(const l of wl(r)){const c=rw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function rw(r,t,i){const a=r.field.isKeyField()?lt.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),y=p.data.field(c);return v!==null&&y!==null?Ja(v,y):ft(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return ft(19790,{direction:r.dir})}}class Hs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){$r(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return KE(this.inner)}size(){return this.innerSize}}const sw=new oe(lt.comparator);function Wi(){return sw}const hT=new oe(lt.comparator);function El(...r){let t=hT;for(const i of r)t=t.insert(i.key,i);return t}function fT(r){let t=hT;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Vs(){return Rl()}function dT(){return Rl()}function Rl(){return new Hs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const aw=new oe(lt.comparator),ow=new Ve(lt.comparator);function Ot(...r){let t=ow;for(const i of r)t=t.add(i);return t}const lw=new Ve(Nt);function uw(){return lw}function Cm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function mT(r){return{integerValue:""+r}}function cw(r,t){return Ub(t)?mT(t):Cm(r,t)}class mh{constructor(){this._=void 0}}function hw(r,t,i){return r instanceof xl?(function(l,c){const d={fields:{[JE]:{stringValue:XE},[$E]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Sm(c)&&(c=hh(c)),c&&(d.fields[ZE]=c),{mapValue:d}})(i,t):r instanceof Ll?pT(r,t):r instanceof Pl?yT(r,t):(function(l,c){const d=gT(l,c),p=_v(d)+_v(l.Ae);return $d(d)&&$d(l.Ae)?mT(p):Cm(l.serializer,p)})(r,t)}function fw(r,t,i){return r instanceof Ll?pT(r,t):r instanceof Pl?yT(r,t):i}function gT(r,t){return r instanceof Yc?(function(a){return $d(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class xl extends mh{}class Ll extends mh{constructor(t){super(),this.elements=t}}function pT(r,t){const i=_T(t);for(const a of r.elements)i.some((l=>Ii(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Pl extends mh{constructor(t){super(),this.elements=t}}function yT(r,t){let i=_T(t);for(const a of r.elements)i=i.filter((l=>!Ii(l,a)));return{arrayValue:{values:i}}}class Yc extends mh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function _v(r){return me(r.integerValue||r.doubleValue)}function _T(r){return bm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class dw{constructor(t,i){this.field=t,this.transform=i}}function mw(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Ll&&l instanceof Ll||a instanceof Pl&&l instanceof Pl?Xa(a.elements,l.elements,Ii):a instanceof Yc&&l instanceof Yc?Ii(a.Ae,l.Ae):a instanceof xl&&l instanceof xl})(r.transform,t.transform)}class gw{constructor(t,i){this.version=t,this.transformResults=i}}class Jn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Jn}static exists(t){return new Jn(void 0,t)}static updateTime(t){return new Jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class gh{}function vT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Dm(r.key,Jn.none()):new jl(r.key,r.data,Jn.none());{const i=r.data,a=cn.empty();let l=new Ve(Fe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Wr(r.key,a,new En(l.toArray()),Jn.none())}}function pw(r,t,i){r instanceof jl?(function(l,c,d){const p=l.value.clone(),v=Ev(l.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Wr?(function(l,c,d){if(!xc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Ev(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(ET(l)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Il(r,t,i,a){return r instanceof jl?(function(c,d,p,v){if(!xc(c.precondition,d))return p;const y=c.value.clone(),A=Tv(c.fieldTransforms,v,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof Wr?(function(c,d,p,v){if(!xc(c.precondition,d))return p;const y=Tv(c.fieldTransforms,v,d),A=d.data;return A.setAll(ET(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,p){return xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function yw(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=gT(a.transform,l||null);c!=null&&(i===null&&(i=cn.empty()),i.set(a.field,c))}return i||null}function vv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Xa(a,l,((c,d)=>mw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class jl extends gh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Wr extends gh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ET(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Ev(r,t,i){const a=new Map;jt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,fw(d,p,i[l]))}return a}function Tv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,hw(c,d,t))}return a}class Dm extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _w extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&pw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Il(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Il(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=dT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const v=vT(d,p);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(pt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Xa(this.mutations,t.mutations,((i,a)=>vv(i,a)))&&Xa(this.baseMutations,t.baseMutations,((i,a)=>vv(i,a)))}}class Nm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){jt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return aw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Nm(t,i,a,l)}}class Ew{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Tw{constructor(t,i){this.count=t,this.unchangedNames=i}}var be,xt;function Aw(r){switch(r){case Y.OK:return ft(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ft(15467,{code:r})}}function TT(r){if(r===void 0)return $i("GRPC error has no .code"),Y.UNKNOWN;switch(r){case be.OK:return Y.OK;case be.CANCELLED:return Y.CANCELLED;case be.UNKNOWN:return Y.UNKNOWN;case be.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case be.INTERNAL:return Y.INTERNAL;case be.UNAVAILABLE:return Y.UNAVAILABLE;case be.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case be.NOT_FOUND:return Y.NOT_FOUND;case be.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case be.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case be.ABORTED:return Y.ABORTED;case be.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case be.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case be.DATA_LOSS:return Y.DATA_LOSS;default:return ft(39323,{code:r})}}(xt=be||(be={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";function Sw(){return new TextEncoder}const bw=new Hr([4294967295,4294967295],0);function Av(r){const t=Sw().encode(r),i=new LE;return i.update(t),new Uint8Array(i.digest())}function Sv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Hr([i,a],0),new Hr([l,c],0)]}class Om{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Tl(`Invalid padding: ${i}`);if(a<0)throw new Tl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Hr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Hr.fromNumber(a)));return l.compare(bw)===1&&(l=new Hr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Av(t),[a,l]=Sv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Om(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Av(t),[a,l]=Sv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ph{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Hl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new ph(pt.min(),l,new oe(Nt),Wi(),Ot())}}class Hl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Hl(a,i,Ot(),Ot(),Ot())}}class Lc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class AT{constructor(t,i){this.targetId=t,this.Ce=i}}class ST{constructor(t,i,a=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class bv{constructor(){this.ve=0,this.Fe=wv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),a=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:ft(38017,{changeType:c})}})),new Hl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=wv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ww{constructor(t){this.Ge=t,this.ze=new Map,this.je=Wi(),this.He=Cc(),this.Je=Cc(),this.Ze=new oe(Nt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:ft(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(tm(c))if(a===0){const d=new lt(c.path);this.et(i,d,Je.newNoDocument(d,pt.min()))}else jt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Yr(a).toUint8Array()}catch(v){if(v instanceof YE)return Bs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Om(d,l,c)}catch(v){return Bs(v instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&tm(p.target)){const v=new lt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Je.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Ot();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new ph(t,i,this.Ze,this.je,a);return this.je=Wi(),this.He=Cc(),this.Je=Cc(),this.Ze=new oe(Nt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new bv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ve(Nt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ve(Nt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new bv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Cc(){return new oe(lt.comparator)}function wv(){return new oe(lt.comparator)}const Rw={asc:"ASCENDING",desc:"DESCENDING"},Iw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cw={and:"AND",or:"OR"};class Dw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function im(r,t){return r.useProto3Json||ch(t)?t:{value:t}}function Xc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function bT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Nw(r,t){return Xc(r,t.toTimestamp())}function bi(r){return jt(!!r,49232),pt.fromTimestamp((function(i){const a=Kr(i);return new ne(a.seconds,a.nanos)})(r))}function Vm(r,t){return rm(r,t).canonicalString()}function rm(r,t){const i=(function(l){return new Wt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function wT(r){const t=Wt.fromString(r);return jt(NT(t),10190,{key:t.toString()}),t}function sm(r,t){return Vm(r.databaseId,t.path)}function Pd(r,t){const i=wT(t);if(i.get(1)!==r.databaseId.projectId)throw new nt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new nt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new lt(IT(i))}function RT(r,t){return Vm(r.databaseId,t)}function Ow(r){const t=wT(r);return t.length===4?Wt.emptyPath():IT(t)}function am(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function IT(r){return jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Rv(r,t,i){return{name:sm(r,t),fields:i.value.mapValue.fields}}function Vw(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ft(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(jt(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?Y.UNKNOWN:TT(y.code);return new nt(A,y.message||"")})(d);i=new ST(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Pd(r,a.document.name),c=bi(a.document.updateTime),d=a.document.createTime?bi(a.document.createTime):pt.min(),p=new cn({mapValue:{fields:a.document.fields}}),v=Je.newFoundDocument(l,c,d,p),y=a.targetIds||[],A=a.removedTargetIds||[];i=new Lc(y,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Pd(r,a.document),c=a.readTime?bi(a.readTime):pt.min(),d=Je.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Lc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Pd(r,a.document),c=a.removedTargetIds||[];i=new Lc([],c,l,null)}else{if(!("filter"in t))return ft(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Tw(l,c),p=a.targetId;i=new AT(p,d)}}return i}function Mw(r,t){let i;if(t instanceof jl)i={update:Rv(r,t.key,t.value)};else if(t instanceof Dm)i={delete:sm(r,t.key)};else if(t instanceof Wr)i={update:Rv(r,t.key,t.data),updateMask:jw(t.fieldMask)};else{if(!(t instanceof _w))return ft(16599,{dt:t.type});i={verify:sm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof xl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ll)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Pl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Yc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ft(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Nw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ft(27497)})(r,t.precondition)),i}function Uw(r,t){return r&&r.length>0?(jt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?bi(l.updateTime):bi(c);return d.isEqual(pt.min())&&(d=bi(c)),new gw(d,l.transformResults||[])})(i,t)))):[]}function xw(r,t){return{documents:[RT(r,t.path)]}}function Lw(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=RT(r,l);const c=(function(y){if(y.length!==0)return DT(Wn.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(O){return{field:ka(O.field),direction:zw(O.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=im(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function Pw(r){let t=Ow(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){jt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const O=CT(S);return O instanceof Wn&&rT(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((O=>(function(J){return new Ul(za(J.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let O;return O=typeof S=="object"?S.value:S,ch(O)?null:O})(i.limit));let v=null;i.startAt&&(v=(function(S){const O=!!S.before,j=S.values||[];return new Kc(j,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const O=!S.before,j=S.values||[];return new Kc(j,O)})(i.endAt)),Wb(t,l,d,c,p,"F",v,y)}function kw(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function CT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=za(i.unaryFilter.field);return we.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=za(i.unaryFilter.field);return we.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=za(i.unaryFilter.field);return we.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=za(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ft(61313);default:return ft(60726)}})(r):r.fieldFilter!==void 0?(function(i){return we.create(za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ft(58110);default:return ft(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Wn.create(i.compositeFilter.filters.map((a=>CT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ft(1026)}})(i.compositeFilter.op))})(r):ft(30097,{filter:r})}function zw(r){return Rw[r]}function Bw(r){return Iw[r]}function qw(r){return Cw[r]}function ka(r){return{fieldPath:r.canonicalString()}}function za(r){return Fe.fromServerFormat(r.fieldPath)}function DT(r){return r instanceof we?(function(i){if(i.op==="=="){if(dv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NAN"}};if(fv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(dv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NAN"}};if(fv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(i.field),op:Bw(i.op),value:i.value}}})(r):r instanceof Wn?(function(i){const a=i.getFilters().map((l=>DT(l)));return a.length===1?a[0]:{compositeFilter:{op:qw(i.op),filters:a}}})(r):ft(54877,{filter:r})}function jw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function NT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function OT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class zr{constructor(t,i,a,l,c=pt.min(),d=pt.min(),p=Qe.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new zr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Hw{constructor(t){this.yt=t}}function Gw(r){const t=Pw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?nm(t,t.limit,"L"):t}class Fw{constructor(){this.Sn=new Qw}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Qr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Qr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class Qw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(Wt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(Wt.comparator)).toArray()}}const Iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VT=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(VT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class $a{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new $a(0)}static ar(){return new $a(-1)}}const Cv="LruGarbageCollector",Kw=1048576;function Dv([r,t],[i,a]){const l=Nt(r,i);return l===0?Nt(t,a):l}class Yw{constructor(t){this.Pr=t,this.buffer=new Ve(Dv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Dv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Xw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){it(Cv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){oo(i)?it(Cv,"Ignoring IndexedDB error during garbage collection: ",i):await ao(i)}await this.Ar(3e5)}))}}class Jw{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(uh.ce);const a=new Yw(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Iv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Iv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,p,v,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),La()<=Dt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${S} documents in `+(y-v)+`ms
Total Duration: ${y-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function Zw(r,t){return new Jw(r,t)}class $w{constructor(){this.changes=new Hs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Ww{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class tR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Il(a.mutation,l,En.empty(),ne.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ot()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ot()){const l=Vs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=El();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Vs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ot())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=Wi();const d=Rl(),p=(function(){return Rl()})();return i.forEach(((v,y)=>{const A=a.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof Wr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Il(A.mutation,y,A.mutation.getFieldMask(),ne.now())):d.set(y.key,En.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new Ww(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Rl();let l=new oe(((d,p)=>d-p)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let A=a.get(v)||En.empty();A=p.applyToLocalView(y,A),a.set(v,A);const S=(l.get(p.batchId)||Ot()).add(v);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,A=v.value,S=dT();A.forEach((O=>{if(!c.has(O)){const j=vT(i.get(O),a.get(O));j!==null&&S.set(O,j),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return tw(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):lT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Vs());let p=Nl,v=c;return d.next((y=>X.forEach(y,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((O=>{v=v.insert(A,O)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Ot()))).next((A=>({batchId:p,changes:fT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new lt(i)).next((a=>{let l=El();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=El();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(v=>{const y=(function(S,O){return new lo(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((A=>{A.forEach(((S,O)=>{d=d.insert(S,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Je.newInvalidDocument(A)))}));let p=El();return d.forEach(((v,y)=>{const A=c.get(v);A!==void 0&&Il(A.mutation,y,En.empty(),ne.now()),dh(i,y)&&(p=p.insert(v,y))})),p}))}}class eR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:bi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:Gw(l.bundledQuery),readTime:bi(l.readTime)}})(i)),X.resolve()}}class nR{constructor(){this.overlays=new oe(lt.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Vs();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Vs(),c=i.length+1,d=new lt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new oe(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=Vs(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=Vs(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return X.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Ew(i,a));let c=this.Lr.get(i);c===void 0&&(c=Ot(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class iR{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Mm{constructor(){this.kr=new Ve(Le.Kr),this.qr=new Ve(Le.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Le(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new lt(new Wt([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new lt(new Wt([])),a=new Le(i,t),l=new Le(i,t+1);let c=Ot();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return lt.comparator(t.key,i.key)||Nt(t.Hr,i.Hr)}static Ur(t,i){return Nt(t.Hr,i.Hr)||lt.comparator(t.key,i.key)}}class rR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(Le.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vw(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Am:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Nt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;lt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new lt(c),0);let p=new Ve(Nt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(v.Hr)),!0)}),d),X.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){jt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Le(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class sR{constructor(t){this.ti=t,this.docs=(function(){return new oe(lt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=Wi();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Wi();const d=i.path,p=new lt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:A}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Nb(Db(A),a)<=0||(l.has(A.key)||dh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){ft(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new aR(this)}getSize(t){return X.resolve(this.size)}}class aR extends $w{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class oR{constructor(t){this.persistence=t,this.ri=new Hs((i=>wm(i)),Rm),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.ii=0,this.si=new Mm,this.targetCount=0,this.oi=$a._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new $a(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class MT{constructor(t,i){this._i={},this.overlays={},this.ai=new uh(0),this.ui=!1,this.ui=!0,this.ci=new iR,this.referenceDelegate=t(this),this.li=new oR(this),this.indexManager=new Fw,this.remoteDocumentCache=(function(l){return new sR(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new Hw(i),this.Pi=new eR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new nR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new rR(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){it("MemoryPersistence","Starting transaction:",t);const l=new lR(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class lR extends Vb{constructor(t){super(),this.currentSequenceNumber=t}}class Um{constructor(t){this.persistence=t,this.Ri=new Mm,this.Ai=null}static Vi(t){return new Um(t)}get di(){if(this.Ai)return this.Ai;throw ft(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=lt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,pt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Jc{constructor(t,i){this.persistence=t,this.fi=new Hs((a=>xb(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Zw(this,i)}static Vi(t,i){return new Jc(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,pt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Mc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class xm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new xm(t,i.fromCache,a,l)}}class uR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class cR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return JS()?8:Mb(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new uR;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(La()<=Dt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Pa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(La()<=Dt.DEBUG&&it("QueryEngine","Query:",Pa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(La()<=Dt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Pa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(i))):X.resolve())}gs(t,i){if(yv(i))return X.resolve(null);let a=Si(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=nm(i,null,"F"),a=Si(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ot(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,p);return this.Ss(i,y,d,v.readTime)?this.gs(t,nm(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,l){return yv(i)||l.isEqual(pt.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(La()<=Dt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Pa(i)),this.Ds(t,d,i,Cb(l,Nl)).next((p=>p)))}))}bs(t,i){let a=new Ve(cT(t));return i.forEach(((l,c)=>{dh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return La()<=Dt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Pa(i)),this.fs.getDocumentsMatchingQuery(t,i,Qr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Lm="LocalStore",hR=3e8;class fR{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new oe(Nt),this.Fs=new Hs((c=>wm(c)),Rm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function dR(r,t,i,a){return new fR(r,t,i,a)}async function UT(r,t){const i=_t(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=Ot();for(const y of l){d.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function mR(r,t){const i=_t(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,A){const S=y.batch,O=S.keys();let j=X.resolve();return O.forEach((J=>{j=j.next((()=>A.getEntry(v,J))).next(($=>{const et=y.docVersions.get(J);jt(et!==null,48541),$.version.compareTo(et)<0&&(S.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),A.addEntry($)))}))})),j.next((()=>p.mutationQueue.removeMutationBatch(v,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=Ot();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function xT(r){const t=_t(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function gR(r,t){const i=_t(r),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((A,S)=>{const O=l.get(S);if(!O)return;p.push(i.li.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,A.addedDocuments,S))));let j=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?j=j.withResumeToken(Qe.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,a)),l=l.insert(S,j),(function($,et,ut){return $.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=hR?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(O,j,A)&&p.push(i.li.updateTargetData(c,j))}));let v=Wi(),y=Ot();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(pR(c,d,t.documentUpdates).next((A=>{v=A.Bs,y=A.Ls}))),!a.isEqual(pt.min())){const A=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=l,c)))}function pR(r,t,i){let a=Ot(),l=Ot();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=Wi();return i.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(pt.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):it(Lm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function yR(r,t){const i=_t(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Am),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function _R(r,t){const i=_t(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new zr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function om(r,t,i){const a=_t(r),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!oo(d))throw d;it(Lm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Nv(r,t,i){const a=_t(r);let l=pt.min(),c=Ot();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,A){const S=_t(v),O=S.Fs.get(A);return O!==void 0?X.resolve(S.vs.get(O)):S.li.getTargetData(y,A)})(a,d,Si(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:pt.min(),i?c:Ot()))).next((p=>(vR(a,iw(t),p),{documents:p,ks:c})))))}function vR(r,t,i){let a=r.Ms.get(t)||pt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class Ov{constructor(){this.activeTargetIds=uw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ER{constructor(){this.vo=new Ov,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Ov,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class TR{Mo(t){}shutdown(){}}const Vv="ConnectivityMonitor";class Mv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){it(Vv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){it(Vv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function lm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const kd="RestConnection",AR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class SR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Fc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=lm(),p=this.Qo(t,i.toUriEncodedString());it(kd,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:y}=new URL(p),A=io(y);return this.zo(t,p,v,a,A).then((S=>(it(kd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Bs(kd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+so})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=AR[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class bR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Ye="WebChannelConnection",_l=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class ja extends SR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!ja.c_){const t=BE();_l(t,zE.STAT_EVENT,(i=>{i.stat===Xd.PROXY?it(Ye,"STAT_EVENT: detected buffering proxy"):i.stat===Xd.NOPROXY&&it(Ye,"STAT_EVENT: detected no buffering proxy")})),ja.c_=!0}}zo(t,i,a,l,c){const d=lm();return new Promise(((p,v)=>{const y=new PE;y.setWithCredentials(!0),y.listenOnce(kE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Vc.NO_ERROR:const S=y.getResponseJson();it(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Vc.TIMEOUT:it(Ye,`RPC '${t}' ${d} timed out`),v(new nt(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const O=y.getStatus();if(it(Ye,`RPC '${t}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const J=j?.error;if(J&&J.status&&J.message){const $=(function(ut){const vt=ut.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(vt)>=0?vt:Y.UNKNOWN})(J.status);v(new nt($,J.message))}else v(new nt(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new nt(Y.UNAVAILABLE,"Connection failed."));break;default:ft(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{it(Ye,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);it(Ye,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=lm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");it(Ye,`Creating RPC '${t}' stream ${l}: ${y}`,p);const A=d.createWebChannel(y,p);this.I_(A);let S=!1,O=!1;const j=new bR({Ho:J=>{O?it(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(S||(it(Ye,`Opening RPC '${t}' stream ${l} transport.`),A.open(),S=!0),it(Ye,`RPC '${t}' stream ${l} sending:`,J),A.send(J))},Jo:()=>A.close()});return _l(A,vl.EventType.OPEN,(()=>{O||(it(Ye,`RPC '${t}' stream ${l} transport opened.`),j.i_())})),_l(A,vl.EventType.CLOSE,(()=>{O||(O=!0,it(Ye,`RPC '${t}' stream ${l} transport closed`),j.o_(),this.E_(A))})),_l(A,vl.EventType.ERROR,(J=>{O||(O=!0,Bs(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),j.o_(new nt(Y.UNAVAILABLE,"The operation could not be completed")))})),_l(A,vl.EventType.MESSAGE,(J=>{if(!O){const $=J.data[0];jt(!!$,16349);const et=$,ut=et?.error||et[0]?.error;if(ut){it(Ye,`RPC '${t}' stream ${l} received error:`,ut);const vt=ut.status;let gt=(function(Mt){const b=be[Mt];if(b!==void 0)return TT(b)})(vt),zt=ut.message;vt==="NOT_FOUND"&&zt.includes("database")&&zt.includes("does not exist")&&zt.includes(this.databaseId.database)&&Bs(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),gt===void 0&&(gt=Y.INTERNAL,zt="Unknown error status: "+vt+" with message "+ut.message),O=!0,j.o_(new nt(gt,zt)),A.close()}else it(Ye,`RPC '${t}' stream ${l} received:`,$),j.__($)}})),ja.u_(),setTimeout((()=>{j.s_()}),0),j}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return qE()}}function wR(r){return new ja(r)}function zd(){return typeof document<"u"?document:null}function yh(r){return new Dw(r,!0)}ja.c_=!1;class LT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Uv="PersistentStream";class PT{constructor(t,i,a,l,c,d,p,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?($i(i.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new nt(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(Uv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(it(Uv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RR extends PT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Vw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return pt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?pt.min():d.readTime?bi(d.readTime):pt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=am(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=tm(v)?{documents:xw(c,v)}:{query:Lw(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=bT(c,d.resumeToken);const y=im(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(pt.min())>0){p.readTime=Xc(c,d.snapshotVersion.toTimestamp());const y=im(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=kw(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=am(this.serializer),i.removeTarget=t,this.K_(i)}}class IR extends PT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Uw(t.writeResults,t.commitTime),a=bi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=am(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Mw(this.serializer,a)))};this.K_(i)}}class CR{}class DR extends CR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new nt(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,rm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new nt(Y.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,rm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new nt(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function NR(r,t,i,a){return new DR(r,t,i,a)}class OR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qs="RemoteStore";class VR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Gs(this)&&(it(qs,"Restarting streams for network reachability change."),await(async function(v){const y=_t(v);y.Ea.add(4),await Gl(y),y.Va.set("Unknown"),y.Ea.delete(4),await _h(y)})(this))}))})),this.Va=new OR(a,l)}}async function _h(r){if(Gs(r))for(const t of r.Ra)await t(!0)}async function Gl(r){for(const t of r.Ra)await t(!1)}function kT(r,t){const i=_t(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Bm(i)?zm(i):uo(i).O_()&&km(i,t))}function Pm(r,t){const i=_t(r),a=uo(i);i.Ia.delete(t),a.O_()&&zT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Gs(i)&&i.Va.set("Unknown"))}function km(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}uo(r).Z_(t)}function zT(r,t){r.da.$e(t),uo(r).X_(t)}function zm(r){r.da=new ww({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),uo(r).start(),r.Va.ua()}function Bm(r){return Gs(r)&&!uo(r).x_()&&r.Ia.size>0}function Gs(r){return _t(r).Ea.size===0}function BT(r){r.da=void 0}async function MR(r){r.Va.set("Online")}async function UR(r){r.Ia.forEach(((t,i)=>{km(r,t)}))}async function xR(r,t){BT(r),Bm(r)?(r.Va.ha(t),zm(r)):r.Va.set("Unknown")}async function LR(r,t,i){if(r.Va.set("Online"),t instanceof ST&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,t)}catch(a){it(qs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Zc(r,a)}else if(t instanceof Lc?r.da.Xe(t):t instanceof AT?r.da.st(t):r.da.tt(t),!i.isEqual(pt.min()))try{const a=await xT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const A=c.Ia.get(v);if(!A)return;c.Ia.set(v,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),zT(c,v);const S=new zr(A.target,v,y,A.sequenceNumber);km(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){it(qs,"Failed to raise snapshot:",a),await Zc(r,a)}}async function Zc(r,t,i){if(!oo(t))throw t;r.Ea.add(1),await Gl(r),r.Va.set("Offline"),i||(i=()=>xT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(qs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await _h(r)}))}function qT(r,t){return t().catch((i=>Zc(r,i,t)))}async function vh(r){const t=_t(r),i=Jr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Am;for(;PR(t);)try{const l=await yR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,kR(t,l)}catch(l){await Zc(t,l)}jT(t)&&HT(t)}function PR(r){return Gs(r)&&r.Ta.length<10}function kR(r,t){r.Ta.push(t);const i=Jr(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function jT(r){return Gs(r)&&!Jr(r).x_()&&r.Ta.length>0}function HT(r){Jr(r).start()}async function zR(r){Jr(r).ra()}async function BR(r){const t=Jr(r);for(const i of r.Ta)t.ea(i.mutations)}async function qR(r,t,i){const a=r.Ta.shift(),l=Nm.from(a,t,i);await qT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await vh(r)}async function jR(r,t){t&&Jr(r).Y_&&await(async function(a,l){if((function(d){return Aw(d)&&d!==Y.ABORTED})(l.code)){const c=a.Ta.shift();Jr(a).B_(),await qT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await vh(a)}})(r,t),jT(r)&&HT(r)}async function xv(r,t){const i=_t(r);i.asyncQueue.verifyOperationInProgress(),it(qs,"RemoteStore received new credentials");const a=Gs(i);i.Ea.add(3),await Gl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await _h(i)}async function HR(r,t){const i=_t(r);t?(i.Ea.delete(2),await _h(i)):t||(i.Ea.add(2),await Gl(i),i.Va.set("Unknown"))}function uo(r){return r.ma||(r.ma=(function(i,a,l){const c=_t(i);return c.sa(),new RR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:MR.bind(null,r),Yo:UR.bind(null,r),t_:xR.bind(null,r),J_:LR.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Bm(r)?zm(r):r.Va.set("Unknown")):(await r.ma.stop(),BT(r))}))),r.ma}function Jr(r){return r.fa||(r.fa=(function(i,a,l){const c=_t(i);return c.sa(),new IR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:zR.bind(null,r),t_:jR.bind(null,r),ta:BR.bind(null,r),na:qR.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await vh(r)):(await r.fa.stop(),r.Ta.length>0&&(it(qs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class qm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new qm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jm(r,t){if($i("AsyncQueue",`${t}: ${r}`),oo(r))return new nt(Y.UNAVAILABLE,`${t}: ${r}`);throw r}class Ha{static emptySet(t){return new Ha(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||lt.comparator(i.key,a.key):(i,a)=>lt.comparator(i.key,a.key),this.keyedMap=El(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ha)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ha;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Lv{constructor(){this.ga=new oe(lt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):ft(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Wa{constructor(t,i,a,l,c,d,p,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Wa(t,i,Ha.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class GR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class FR{constructor(){this.queries=Pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=_t(i),c=l.queries;l.queries=Pv(),c.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new nt(Y.ABORTED,"Firestore shutting down"))}}function Pv(){return new Hs((r=>uT(r)),fh)}async function QR(r,t){const i=_t(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new GR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=jm(d,`Initialization of query '${Pa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Hm(i)}async function KR(r,t){const i=_t(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function YR(r,t){const i=_t(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&Hm(i)}function XR(r,t,i){const a=_t(r),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function Hm(r){r.Ca.forEach((t=>{t.next()}))}var um,kv;(kv=um||(um={})).Ma="default",kv.Cache="cache";class JR{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Wa(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Wa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==um.Cache}}class GT{constructor(t){this.key=t}}class FT{constructor(t){this.key=t}}class ZR{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ot(),this.mutatedKeys=Ot(),this.eu=cT(t),this.tu=new Ha(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Lv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const O=l.get(A),j=dh(this.query,S)?S:null,J=!!O&&this.mutatedKeys.has(O.key),$=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let et=!1;O&&j?O.data.isEqual(j.data)?J!==$&&(a.track({type:3,doc:j}),et=!0):this.su(O,j)||(a.track({type:2,doc:j}),et=!0,(v&&this.eu(j,v)>0||y&&this.eu(j,y)<0)&&(p=!0)):!O&&j?(a.track({type:0,doc:j}),et=!0):O&&!j&&(a.track({type:1,doc:O}),et=!0,(v||y)&&(p=!0)),et&&(j?(d=d.add(j),c=$?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(j,J){const $=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft(20277,{Vt:et})}};return $(j)-$(J)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new Wa(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Lv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ot(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new FT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new GT(a))})),i}cu(t){this.Za=t.ks,this.Ya=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Wa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Gm="SyncEngine";class $R{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class WR{constructor(t){this.key=t,this.hu=!1}}class tI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Hs((p=>uT(p)),fh),this.Iu=new Map,this.Eu=new Set,this.Ru=new oe(lt.comparator),this.Au=new Map,this.Vu=new Mm,this.du={},this.mu=new Map,this.fu=$a.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eI(r,t,i=!0){const a=ZT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await QT(a,t,i,!0),l}async function nI(r,t){const i=ZT(r);await QT(i,t,!0,!1)}async function QT(r,t,i,a){const l=await _R(r.localStore,Si(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await iI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&kT(r.remoteStore,l),p}async function iI(r,t,i,a,l){r.pu=(S,O,j)=>(async function($,et,ut,vt){let gt=et.view.ru(ut);gt.Ss&&(gt=await Nv($.localStore,et.query,!1).then((({documents:b})=>et.view.ru(b,gt))));const zt=vt&&vt.targetChanges.get(et.targetId),$t=vt&&vt.targetMismatches.get(et.targetId)!=null,Mt=et.view.applyChanges(gt,$.isPrimaryClient,zt,$t);return Bv($,et.targetId,Mt.au),Mt.snapshot})(r,S,O,j);const c=await Nv(r.localStore,t,!0),d=new ZR(t,c.ks),p=d.ru(c.documents),v=Hl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,v);Bv(r,i,y.au);const A=new $R(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function rI(r,t,i){const a=_t(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!fh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await om(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Pm(a.remoteStore,l.targetId),cm(a,l.targetId)})).catch(ao)):(cm(a,l.targetId),await om(a.localStore,l.targetId,!0))}async function sI(r,t){const i=_t(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Pm(i.remoteStore,a.targetId))}async function aI(r,t,i){const a=dI(r);try{const l=await(function(d,p){const v=_t(d),y=ne.now(),A=p.reduce(((j,J)=>j.add(J.key)),Ot());let S,O;return v.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let J=Wi(),$=Ot();return v.xs.getEntries(j,A).next((et=>{J=et,J.forEach(((ut,vt)=>{vt.isValidDocument()||($=$.add(ut))}))})).next((()=>v.localDocuments.getOverlayedDocuments(j,J))).next((et=>{S=et;const ut=[];for(const vt of p){const gt=yw(vt,S.get(vt.key).overlayedDocument);gt!=null&&ut.push(new Wr(vt.key,gt,eT(gt.value.mapValue),Jn.exists(!0)))}return v.mutationQueue.addMutationBatch(j,y,ut,p)})).next((et=>{O=et;const ut=et.applyToLocalDocumentSet(S,$);return v.documentOverlayCache.saveOverlays(j,et.batchId,ut)}))})).then((()=>({batchId:O.batchId,changes:fT(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let y=d.du[d.currentUser.toKey()];y||(y=new oe(Nt)),y=y.insert(p,v),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await Fl(a,l.changes),await vh(a.remoteStore)}catch(l){const c=jm(l,"Failed to persist write");i.reject(c)}}async function KT(r,t){const i=_t(r);try{const a=await gR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(jt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?jt(d.hu,14607):l.removedDocuments.size>0&&(jt(d.hu,42227),d.hu=!1))})),await Fl(i,a,t)}catch(a){await ao(a)}}function zv(r,t,i){const a=_t(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=_t(d);v.onlineState=p;let y=!1;v.queries.forEach(((A,S)=>{for(const O of S.ba)O.va(p)&&(y=!0)})),y&&Hm(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function oI(r,t,i){const a=_t(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new oe(lt.comparator);d=d.insert(c,Je.newNoDocument(c,pt.min()));const p=Ot().add(c),v=new ph(pt.min(),new Map,new oe(Nt),d,p);await KT(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),Fm(a)}else await om(a.localStore,t,!1).then((()=>cm(a,t,i))).catch(ao)}async function lI(r,t){const i=_t(r),a=t.batch.batchId;try{const l=await mR(i.localStore,t);XT(i,a,null),YT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Fl(i,l)}catch(l){await ao(l)}}async function uI(r,t,i){const a=_t(r);try{const l=await(function(d,p){const v=_t(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return v.mutationQueue.lookupMutationBatch(y,p).next((S=>(jt(S!==null,37113),A=S.keys(),v.mutationQueue.removeMutationBatch(y,S)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>v.localDocuments.getDocuments(y,A)))}))})(a.localStore,t);XT(a,t,i),YT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Fl(a,l)}catch(l){await ao(l)}}function YT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function XT(r,t,i){const a=_t(r);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function cm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||JT(r,a)}))}function JT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(Pm(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),Fm(r))}function Bv(r,t,i){for(const a of i)a instanceof GT?(r.Vu.addReference(a.key,t),cI(r,a)):a instanceof FT?(it(Gm,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||JT(r,a.key)):ft(19791,{wu:a})}function cI(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(it(Gm,"New document in limbo: "+i),r.Eu.add(a),Fm(r))}function Fm(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new lt(Wt.fromString(t)),a=r.fu.next();r.Au.set(a,new WR(i)),r.Ru=r.Ru.insert(i,a),kT(r.remoteStore,new zr(Si(Im(i.path)),a,"TargetPurposeLimboResolution",uh.ce))}}async function Fl(r,t,i){const a=_t(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(y){l.push(y);const A=xm.Es(v.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,y){const A=_t(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(y,(O=>X.forEach(O.Ts,(j=>A.persistence.referenceDelegate.addReference(S,O.targetId,j))).next((()=>X.forEach(O.Is,(j=>A.persistence.referenceDelegate.removeReference(S,O.targetId,j)))))))))}catch(S){if(!oo(S))throw S;it(Lm,"Failed to update sequence numbers: "+S)}for(const S of y){const O=S.targetId;if(!S.fromCache){const j=A.vs.get(O),J=j.snapshotVersion,$=j.withLastLimboFreeSnapshotVersion(J);A.vs=A.vs.insert(O,$)}}})(a.localStore,c))}async function hI(r,t){const i=_t(r);if(!i.currentUser.isEqual(t)){it(Gm,"User change. New user:",t.toKey());const a=await UT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new nt(Y.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Fl(i,a.Ns)}}function fI(r,t){const i=_t(r),a=i.Au.get(t);if(a&&a.hu)return Ot().add(a.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function ZT(r){const t=_t(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=KT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oI.bind(null,t),t.Pu.J_=YR.bind(null,t.eventManager),t.Pu.yu=XR.bind(null,t.eventManager),t}function dI(r){const t=_t(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uI.bind(null,t),t}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return dR(this.persistence,new cR,t.initialUser,this.serializer)}Cu(t){return new MT(Um.Vi,this.serializer)}Du(t){return new ER}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class mI extends $c{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){jt(this.persistence.referenceDelegate instanceof Jc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Xw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new MT((a=>Jc.Vi(a,i)),this.serializer)}}class hm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>zv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=hI.bind(null,this.syncEngine),await HR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new FR})()}createDatastore(t){const i=yh(t.databaseInfo.databaseId),a=wR(t.databaseInfo);return NR(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new VR(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>zv(this.syncEngine,i,0)),(function(){return Mv.v()?new Mv:new TR})())}createSyncEngine(t,i){return(function(l,c,d,p,v,y,A){const S=new tI(l,c,d,p,v,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=_t(i);it(qs,"RemoteStore shutting down."),a.Ea.add(5),await Gl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hm.provider={build:()=>new hm};class gI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):$i("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Zr="FirestoreClient";class pI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=Tm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{it(Zr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(it(Zr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=jm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Bd(r,t){r.asyncQueue.verifyOperationInProgress(),it(Zr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await UT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function qv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await yI(r);it(Zr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>xv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>xv(t.remoteStore,l))),r._onlineComponents=t}async function yI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(Zr,"Using user provided OfflineComponentProvider");try{await Bd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Bs("Error using user provided cache. Falling back to memory cache: "+i),await Bd(r,new $c)}}else it(Zr,"Using default OfflineComponentProvider"),await Bd(r,new mI(void 0));return r._offlineComponents}async function $T(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(Zr,"Using user provided OnlineComponentProvider"),await qv(r,r._uninitializedComponentsProvider._online)):(it(Zr,"Using default OnlineComponentProvider"),await qv(r,new hm))),r._onlineComponents}function _I(r){return $T(r).then((t=>t.syncEngine))}async function jv(r){const t=await $T(r),i=t.eventManager;return i.onListen=eI.bind(null,t.syncEngine),i.onUnlisten=rI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=nI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=sI.bind(null,t.syncEngine),i}function vI(r,t,i,a){const l=new gI(a),c=new JR(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>QR(await jv(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>KR(await jv(r),c)))}}function EI(r,t){const i=new Us;return r.asyncQueue.enqueueAndForget((async()=>aI(await _I(r),t,i))),i.promise}function WT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const TI="ComponentProvider",Hv=new Map;function AI(r,t,i,a,l){return new kb(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,WT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const t0="firestore.googleapis.com",Gv=!0;class Fv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new nt(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t0,this.ssl=Gv}else this.host=t.host,this.ssl=t.ssl??Gv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=VT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Kw)throw new nt(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Ib("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new nt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new nt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new nt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Eh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new nt(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new yb;switch(a.type){case"firstParty":return new Tb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new nt(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Hv.get(i);a&&(it(TI,"Removing Datastore"),Hv.delete(i),a.terminate())})(this),Promise.resolve()}}function SI(r,t,i,a={}){r=Gr(r,Eh);const l=io(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(CE(`https://${p}`),DE("Firestore",!0)),c.host!==t0&&c.host!==p&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:l,emulatorOptions:a};if(!Ps(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=Xe.MOCK_USER;else{y=qS(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new nt(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(S)}r._authCredentials=new _b(new HE(y,A))}}class Fs{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Fs(this.firestore,t,this._query)}}class Ie{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(ql(i,Ie._jsonSchema))return new Ie(t,a||null,new lt(Wt.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Re("string",Ie._jsonSchemaVersion),referencePath:Re("string")};class Fr extends Fs{constructor(t,i,a){super(t,i,Im(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new lt(t))}withConverter(t){return new Fr(this.firestore,t,this._path)}}function Qv(r,t,...i){if(r=Pe(r),GE("collection","path",t),r instanceof Eh){const a=Wt.fromString(t,...i);return iv(a),new Fr(r,null,a)}{if(!(r instanceof Ie||r instanceof Fr))throw new nt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Wt.fromString(t,...i));return iv(a),new Fr(r.firestore,null,a)}}function fm(r,t,...i){if(r=Pe(r),arguments.length===1&&(t=Tm.newId()),GE("doc","path",t),r instanceof Eh){const a=Wt.fromString(t,...i);return nv(a),new Ie(r,null,new lt(a))}{if(!(r instanceof Ie||r instanceof Fr))throw new nt(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Wt.fromString(t,...i));return nv(a),new Ie(r.firestore,r instanceof Fr?r.converter:null,new lt(a))}}const Kv="AsyncQueue";class Yv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LT(this,"async_queue_retry"),this._c=()=>{const a=zd();a&&it(Kv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!oo(t))throw t;it(Kv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",Xv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=qm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ft(47125,{Pc:Xv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Xv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class to extends Eh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Yv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Yv(t),this._firestoreClient=void 0,await t}}}function bI(r,t){const i=typeof r=="object"?r:ME(),a=typeof r=="string"?r:Fc,l=vm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=zS("firestore");c&&SI(l,...c)}return l}function e0(r){if(r._terminated)throw new nt(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wI(r),r._firestoreClient}function wI(r){const t=r._freezeSettings(),i=AI(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new pI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Qe.fromBase64String(t))}catch(i){throw new nt(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ql(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Re("string",Un._jsonSchemaVersion),bytes:Re("string")};class Qm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new nt(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Th{constructor(t){this._methodName=t}}class wi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new nt(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new nt(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(t){if(ql(t,wi._jsonSchema))return new wi(t.latitude,t.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Re("string",wi._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Zn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ql(t,Zn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Zn(t.vectorValues);throw new nt(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zn._jsonSchemaVersion="firestore/vectorValue/1.0",Zn._jsonSchema={type:Re("string",Zn._jsonSchemaVersion),vectorValues:Re("object")};const RI=/^__.*__$/;class II{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Wr(t,this.data,this.fieldMask,i,this.fieldTransforms):new jl(t,this.data,i,this.fieldTransforms)}}class n0{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Wr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function i0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft(40011,{dataSource:r})}}class Km{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Km({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Wc(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(i0(this.dataSource)&&RI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class CI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||yh(t)}createContext(t,i,a,l=!1){return new Km({dataSource:t,methodName:i,targetDoc:a,path:Fe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ym(r){const t=r._freezeSettings(),i=yh(r._databaseId);return new CI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function DI(r,t,i,a,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,l);Jm("Data must be an object, but it was:",d,a);const p=r0(a,d);let v,y;if(c.merge)v=new En(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const O=eo(t,S,i);if(!d.contains(O))throw new nt(Y.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);o0(A,O)||A.push(O)}v=new En(A),y=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,y=d.fieldTransforms;return new II(new cn(p),v,y)}class Ah extends Th{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ah}}class Xm extends Th{_toFieldTransform(t){return new dw(t.path,new xl)}isEqual(t){return t instanceof Xm}}function NI(r,t,i,a){const l=r.createContext(1,t,i);Jm("Data must be an object, but it was:",l,a);const c=[],d=cn.empty();$r(a,((v,y)=>{const A=a0(t,v,i);y=Pe(y);const S=l.childContextForFieldPath(A);if(y instanceof Ah)c.push(A);else{const O=Ql(y,S);O!=null&&(c.push(A),d.set(A,O))}}));const p=new En(c);return new n0(d,p,l.fieldTransforms)}function OI(r,t,i,a,l,c){const d=r.createContext(1,t,i),p=[eo(t,a,i)],v=[l];if(c.length%2!=0)throw new nt(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(eo(t,c[O])),v.push(c[O+1]);const y=[],A=cn.empty();for(let O=p.length-1;O>=0;--O)if(!o0(y,p[O])){const j=p[O];let J=v[O];J=Pe(J);const $=d.childContextForFieldPath(j);if(J instanceof Ah)y.push(j);else{const et=Ql(J,$);et!=null&&(y.push(j),A.set(j,et))}}const S=new En(y);return new n0(A,S,d.fieldTransforms)}function VI(r,t,i,a=!1){return Ql(i,r.createContext(a?4:3,t))}function Ql(r,t){if(s0(r=Pe(r)))return Jm("Unsupported field value:",t,r),r0(r,t);if(r instanceof Th)return(function(a,l){if(!i0(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let v=Ql(p,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Pe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return cw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ne.fromDate(a);return{timestampValue:Xc(l.serializer,c)}}if(a instanceof ne){const c=new ne(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Xc(l.serializer,c)}}if(a instanceof wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:bT(l.serializer,a._byteString)};if(a instanceof Ie){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Vm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Zn)return(function(d,p){const v=d instanceof Zn?d.toArray():d;return{mapValue:{fields:{[WE]:{stringValue:tT},[Qc]:{arrayValue:{values:v.map((A=>{if(typeof A!="number")throw p.createError("VectorValues must only contain numeric values.");return Cm(p.serializer,A)}))}}}}}})(a,l);if(OT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${lh(a)}`)})(r,t)}function r0(r,t){const i={};return KE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$r(r,((a,l)=>{const c=Ql(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function s0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof wi||r instanceof Un||r instanceof Ie||r instanceof Th||r instanceof Zn||OT(r))}function Jm(r,t,i){if(!s0(i)||!FE(i)){const a=lh(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function eo(r,t,i){if((t=Pe(t))instanceof Qm)return t._internalPath;if(typeof t=="string")return a0(r,t);throw Wc("Field path arguments must be of type string or ",r,!1,void 0,i)}const MI=new RegExp("[~\\*/\\[\\]]");function a0(r,t,i){if(t.search(MI)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Qm(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Wc(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new nt(Y.INVALID_ARGUMENT,p+r+v)}function o0(r,t){return r.some((i=>i.isEqual(t)))}class UI{convertValue(t,i="none"){switch(Xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw ft(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return $r(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Qc].arrayValue?.values?.map((a=>me(a.doubleValue)));return new Zn(i)}convertGeoPoint(t){return new wi(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=hh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const i=Kr(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=Wt.fromString(t);jt(NT(a),9688,{name:t});const l=new Vl(a.get(1),a.get(3)),c=new lt(a.popFirst(5));return l.isEqual(i)||$i(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class l0 extends UI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}function Jv(){return new Xm("serverTimestamp")}const Zv="@firebase/firestore",$v="4.11.0";function Wv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class u0{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new xI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(eo("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class xI extends u0{data(){return super.data()}}function LI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new nt(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zm{}class c0 extends Zm{}function PI(r,t,...i){let a=[];t instanceof Zm&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((v=>v instanceof Wm)).length,p=c.filter((v=>v instanceof $m)).length;if(d>1||d>0&&p>0)throw new nt(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class $m extends c0{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new $m(t,i,a)}_apply(t){const i=this._parse(t);return h0(t._query,i),new Fs(t.firestore,t.converter,em(t._query,i))}_parse(t){const i=Ym(t.firestore);return(function(c,d,p,v,y,A,S){let O;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new nt(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){eE(S,A);const J=[];for(const $ of S)J.push(tE(v,c,$));O={arrayValue:{values:J}}}else O=tE(v,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||eE(S,A),O=VI(p,d,S,A==="in"||A==="not-in");return we.create(y,A,O)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Wm extends Zm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Wm(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Wn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const v of p)h0(d,v),d=em(d,v)})(t._query,i),new Fs(t.firestore,t.converter,em(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tg extends c0{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new tg(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new nt(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new nt(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ul(c,d)})(t._query,this._field,this._direction);return new Fs(t.firestore,t.converter,nw(t._query,i))}}function kI(r,t="asc"){const i=t,a=eo("orderBy",r);return tg._create(a,i)}function tE(r,t,i){if(typeof(i=Pe(i))=="string"){if(i==="")throw new nt(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lT(t)&&i.indexOf("/")!==-1)throw new nt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(Wt.fromString(i));if(!lt.isDocumentKey(a))throw new nt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return hv(r,new lt(a))}if(i instanceof Ie)return hv(r,i._key);throw new nt(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(i)}.`)}function eE(r,t){if(!Array.isArray(r)||r.length===0)throw new nt(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function h0(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new nt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new nt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function zI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Al{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class xs extends u0{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(eo("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=xs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",xs._jsonSchema={type:Re("string",xs._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Pc extends xs{data(t={}){return super.data(t)}}class Ga{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Pc(this._firestore,this._userDataWriter,a.key,a,new Al(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new nt(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new Pc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Pc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:BI(p.type),doc:v,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ga._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Tm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function BI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft(61501,{type:r})}}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:Re("string",Ga._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};function qI(r,t,i,...a){r=Gr(r,Ie);const l=Gr(r.firestore,to),c=Ym(l);let d;return d=typeof(t=Pe(t))=="string"||t instanceof Qm?OI(c,"updateDoc",r._key,t,i,a):NI(c,"updateDoc",r._key,t),eg(l,[d.toMutation(r._key,Jn.exists(!0))])}function jI(r){return eg(Gr(r.firestore,to),[new Dm(r._key,Jn.none())])}function HI(r,t){const i=Gr(r.firestore,to),a=fm(r),l=zI(r.converter,t),c=Ym(r.firestore);return eg(i,[DI(c,"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Jn.exists(!1))]).then((()=>a))}function GI(r,...t){r=Pe(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Wv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Wv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Ie)d=Gr(r.firestore,to),p=Im(r._key.path),c={next:y=>{t[a]&&t[a](FI(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Gr(r,Fs);d=Gr(y.firestore,to),p=y._query;const A=new l0(d);c={next:S=>{t[a]&&t[a](new Ga(d,A,y,S))},error:t[a+1],complete:t[a+2]},LI(r._query)}const v=e0(d);return vI(v,p,l,c)}function eg(r,t){const i=e0(r);return EI(i,t)}function FI(r,t,i){const a=i.docs.get(t._key),l=new l0(r);return new xs(r,l,t._key,a,new Al(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){pb(ro),Ya(new ks("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new to(new vb(a.getProvider("auth-internal")),new Ab(d,a.getProvider("app-check-internal")),zb(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),jr(Zv,$v,t),jr(Zv,$v,"esm2020")})();function f0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QI=f0,d0=new zl("auth","Firebase",f0());const th=new ym("@firebase/auth");function KI(r,...t){th.logLevel<=Dt.WARN&&th.warn(`Auth (${ro}): ${r}`,...t)}function kc(r,...t){th.logLevel<=Dt.ERROR&&th.error(`Auth (${ro}): ${r}`,...t)}function Ci(r,...t){throw ig(r,...t)}function $n(r,...t){return ig(r,...t)}function ng(r,t,i){const a={...QI(),[t]:i};return new zl("auth","Firebase",a).create(t,{appName:r.name})}function Ls(r){return ng(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YI(r,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Ci(r,"argument-error"),ng(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ig(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return d0.create(r,...t)}function dt(r,t,...i){if(!r)throw ig(t,...i)}function Xi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw kc(t),new Error(t)}function tr(r,t){r||Xi(t)}function dm(){return typeof self<"u"&&self.location?.href||""}function XI(){return nE()==="http:"||nE()==="https:"}function nE(){return typeof self<"u"&&self.location?.protocol||null}function JI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XI()||KS()||"connection"in navigator)?navigator.onLine:!0}function ZI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Kl{constructor(t,i){this.shortDelay=t,this.longDelay=i,tr(i>t,"Short delay should be less than long delay!"),this.isMobile=GS()||YS()}get(){return JI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rg(r,t){tr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class m0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $I={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const WI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tC=new Kl(3e4,6e4);function sg(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function co(r,t,i,a,l={}){return g0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Bl({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return QS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&io(r.emulatorConfig.host)&&(y.credentials="include"),m0.fetch()(await p0(r,r.config.apiHost,i,p),y)})}async function g0(r,t,i){r._canInitEmulator=!1;const a={...$I,...t};try{const l=new nC(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Nc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Nc(r,"user-disabled",d);const A=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw ng(r,A,y);Ci(r,A)}}catch(l){if(l instanceof er)throw l;Ci(r,"network-request-failed",{message:String(l)})}}async function eC(r,t,i,a,l={}){const c=await co(r,t,i,a,l);return"mfaPendingCredential"in c&&Ci(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function p0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?rg(r.config,l):`${r.config.apiScheme}://${l}`;return WI.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class nC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a($n(this.auth,"network-request-failed")),tC.get())})}}function Nc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=$n(r,t,a);return l.customData._tokenResponse=i,l}async function iC(r,t){return co(r,"POST","/v1/accounts:delete",t)}async function eh(r,t){return co(r,"POST","/v1/accounts:lookup",t)}function Cl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function rC(r,t=!1){const i=Pe(r),a=await i.getIdToken(t),l=ag(a);dt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Cl(qd(l.auth_time)),issuedAtTime:Cl(qd(l.iat)),expirationTime:Cl(qd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function qd(r){return Number(r)*1e3}function ag(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const l=bE(i);return l?JSON.parse(l):(kc("Failed to decode base64 JWT payload"),null)}catch(l){return kc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function iE(r){const t=ag(r);return dt(t,"internal-error"),dt(typeof t.exp<"u","internal-error"),dt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function kl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof er&&sC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function sC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class aC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nh(r){const t=r.auth,i=await r.getIdToken(),a=await kl(r,eh(t,{idToken:i}));dt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?y0(l.providerUserInfo):[],d=lC(r.providerData,c),p=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!d?.length,y=p?v:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new mm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,A)}async function oC(r){const t=Pe(r);await nh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function lC(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function y0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function uC(r,t){const i=await g0(r,{},async()=>{const a=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await p0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return r.emulatorConfig&&io(r.emulatorConfig.host)&&(v.credentials="include"),m0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function cC(r,t){return co(r,"POST","/v2/accounts:revokeToken",sg(r,t))}class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){dt(t.idToken,"internal-error"),dt(typeof t.idToken<"u","internal-error"),dt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):iE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){dt(t.length!==0,"internal-error");const i=iE(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(dt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await uC(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Fa;return a&&(dt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(dt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(dt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function xr(r,t){dt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new aC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new mm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await kl(this,this.stsTokenManager.getToken(this.auth,t));return dt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return rC(this,t)}reload(){return oC(this)}_assign(t){this!==t&&(dt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await nh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Ls(this.auth));const t=await this.getIdToken();return await kl(this,iC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:O,isAnonymous:j,providerData:J,stsTokenManager:$}=i;dt(S&&$,t,"internal-error");const et=Fa.fromJSON(this.name,$);dt(typeof S=="string",t,"internal-error"),xr(a,t.name),xr(l,t.name),dt(typeof O=="boolean",t,"internal-error"),dt(typeof j=="boolean",t,"internal-error"),xr(c,t.name),xr(d,t.name),xr(p,t.name),xr(v,t.name),xr(y,t.name),xr(A,t.name);const ut=new Xn({uid:S,auth:t,email:l,emailVerified:O,displayName:a,isAnonymous:j,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:et,createdAt:y,lastLoginAt:A});return J&&Array.isArray(J)&&(ut.providerData=J.map(vt=>({...vt}))),v&&(ut._redirectEventId=v),ut}static async _fromIdTokenResponse(t,i,a=!1){const l=new Fa;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await nh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];dt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?y0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Fa;p.updateFromIdToken(a);const v=new Xn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new mm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const rE=new Map;function Ji(r){tr(r instanceof Function,"Expected a class definition");let t=rE.get(r);return t?(tr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,rE.set(r,t),t)}class _0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}_0.type="NONE";const sE=_0;function zc(r,t,i){return`firebase:${r}:${t}:${i}`}class Qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=zc(this.userKey,l.apiKey,c),this.fullPersistenceKey=zc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await eh(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Qa(Ji(sE),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Ji(sE);const d=zc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const O=await eh(t,{idToken:A}).catch(()=>{});if(!O)break;S=await Xn._fromGetAccountInfoResponse(t,O,A)}else S=Xn._fromJSON(t,A);y!==c&&(p=S),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Qa(c,t,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Qa(c,t,a))}}function aE(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(A0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(v0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(b0(t))return"Blackberry";if(w0(t))return"Webos";if(E0(t))return"Safari";if((t.includes("chrome/")||T0(t))&&!t.includes("edge/"))return"Chrome";if(S0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function v0(r=Ze()){return/firefox\//i.test(r)}function E0(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function T0(r=Ze()){return/crios\//i.test(r)}function A0(r=Ze()){return/iemobile/i.test(r)}function S0(r=Ze()){return/android/i.test(r)}function b0(r=Ze()){return/blackberry/i.test(r)}function w0(r=Ze()){return/webos/i.test(r)}function og(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function hC(r=Ze()){return og(r)&&!!window.navigator?.standalone}function fC(){return XS()&&document.documentMode===10}function R0(r=Ze()){return og(r)||S0(r)||w0(r)||b0(r)||/windows phone/i.test(r)||A0(r)}function I0(r,t=[]){let i;switch(r){case"Browser":i=aE(Ze());break;case"Worker":i=`${aE(Ze())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ro}/${a}`}class dC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function mC(r,t={}){return co(r,"GET","/v2/passwordPolicy",sg(r,t))}const gC=6;class pC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??gC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class yC{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oE(this),this.idTokenSubscription=new oE(this),this.beforeStateQueue=new dC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await eh(this,{idToken:t}),a=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await nh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ZI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(Ls(this));const i=t?Pe(t):null;return i&&dt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&dt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(Ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await mC(this),i=new pC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await cC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ji(t)||this._popupRedirectResolver;dt(i,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(dt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=I0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&KI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Sh(r){return Pe(r)}class oE{constructor(t){this.auth=t,this.observer=null,this.addObserver=i1(i=>this.observer=i)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _C(r){lg=r}function vC(r){return lg.loadJS(r)}function EC(){return lg.gapiScript}function TC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function AC(r,t){const i=vm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ps(c,t??{}))return l;Ci(l,"already-initialized")}return i.initialize({options:t})}function SC(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ji);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function bC(r,t,i){const a=Sh(r);dt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=C0(t),{host:d,port:p}=wC(t),v=p===null?"":`:${p}`,y={url:`${c}//${d}${v}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){dt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),dt(Ps(y,a.config.emulator)&&Ps(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,io(d)?(CE(`${c}//${d}${v}`),DE("Auth",!0)):RC()}function C0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function wC(r){const t=C0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:lE(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:lE(d)}}}function lE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function RC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class D0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function Ka(r,t){return eC(r,"POST","/v1/accounts:signInWithIdp",sg(r,t))}const IC="http://localhost";class js extends D0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new js(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ci("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new js(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ka(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ka(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ka(t,i)}buildRequest(){const t={requestUri:IC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Bl(i)}return t}}class ug{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Yl extends ug{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Lr extends Yl{constructor(){super("facebook.com")}static credential(t){return js._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lr.credential(t.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";class Yi extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return js._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Yi.credentialFromTaggedObject(t)}static credentialFromError(t){return Yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Yi.credential(i,a)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";class Pr extends Yl{constructor(){super("github.com")}static credential(t){return js._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";class kr extends Yl{constructor(){super("twitter.com")}static credential(t,i){return js._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return kr.credential(i,a)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";class no{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Xn._fromIdTokenResponse(t,a,l),d=uE(a);return new no({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=uE(a);return new no({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function uE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class ih extends er{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new ih(t,i,a,l)}}function N0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(r,c,t,a):c})}async function CC(r,t,i=!1){const a=await kl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return no._forOperation(r,"link",a)}async function DC(r,t,i=!1){const{auth:a}=r;if(Yn(a.app))return Promise.reject(Ls(a));const l="reauthenticate";try{const c=await kl(r,N0(a,l,t,r),i);dt(c.idToken,a,"internal-error");const d=ag(c.idToken);dt(d,a,"internal-error");const{sub:p}=d;return dt(r.uid===p,a,"user-mismatch"),no._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ci(a,"user-mismatch"),c}}async function NC(r,t,i=!1){if(Yn(r.app))return Promise.reject(Ls(r));const a="signIn",l=await N0(r,a,t),c=await no._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function OC(r,t,i,a){return Pe(r).onIdTokenChanged(t,i,a)}function VC(r,t,i){return Pe(r).beforeAuthStateChanged(t,i)}function MC(r,t,i,a){return Pe(r).onAuthStateChanged(t,i,a)}function UC(r){return Pe(r).signOut()}const rh="__sak";class O0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const xC=1e3,LC=10;class V0 extends O0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);fC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,LC):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},xC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}V0.type="LOCAL";const PC=V0;class M0 extends O0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}M0.type="SESSION";const U0=M0;function kC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class bh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new bh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),v=await kC(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];function cg(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class zC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const y=cg("",20);l.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const O=S;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(A),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ri(){return window}function BC(r){Ri().location.href=r}function x0(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function qC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jC(){return navigator?.serviceWorker?.controller||null}function HC(){return x0()?self:null}const L0="firebaseLocalStorageDb",GC=1,sh="firebaseLocalStorage",P0="fbase_key";class Xl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function wh(r,t){return r.transaction([sh],t?"readwrite":"readonly").objectStore(sh)}function FC(){const r=indexedDB.deleteDatabase(L0);return new Xl(r).toPromise()}function gm(){const r=indexedDB.open(L0,GC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(sh,{keyPath:P0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(sh)?t(a):(a.close(),await FC(),t(await gm()))})})}async function cE(r,t,i){const a=wh(r,!0).put({[P0]:t,value:i});return new Xl(a).toPromise()}async function QC(r,t){const i=wh(r,!1).get(t),a=await new Xl(i).toPromise();return a===void 0?null:a.value}function hE(r,t){const i=wh(r,!0).delete(t);return new Xl(i).toPromise()}const KC=800,YC=3;class k0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>YC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(HC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qC(),!this.activeServiceWorker)return;this.sender=new zC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||jC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gm();return await cE(t,rh,"1"),await hE(t,rh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>cE(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>QC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>hE(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=wh(l,!1).getAll();return new Xl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k0.type="LOCAL";const XC=k0;new Kl(3e4,6e4);function z0(r,t){return t?Ji(t):(dt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class hg extends D0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ka(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ka(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function JC(r){return NC(r.auth,new hg(r),r.bypassAuthState)}function ZC(r){const{auth:t,user:i}=r;return dt(i,t,"internal-error"),DC(i,new hg(r),r.bypassAuthState)}async function $C(r){const{auth:t,user:i}=r;return dt(i,t,"internal-error"),CC(i,new hg(r),r.bypassAuthState)}class B0{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JC;case"linkViaPopup":case"linkViaRedirect":return $C;case"reauthViaPopup":case"reauthViaRedirect":return ZC;default:Ci(this.auth,"internal-error")}}resolve(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const WC=new Kl(2e3,1e4);async function t2(r,t,i){if(Yn(r.app))return Promise.reject($n(r,"operation-not-supported-in-this-environment"));const a=Sh(r);YI(r,t,ug);const l=z0(a,i);return new Ms(a,"signInViaPopup",t,l).executeNotNull()}class Ms extends B0{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ms.currentPopupAction&&Ms.currentPopupAction.cancel(),Ms.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return dt(t,this.auth,"internal-error"),t}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const t=cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ms.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,WC.get())};t()}}Ms.currentPopupAction=null;const e2="pendingRedirect",Bc=new Map;class n2 extends B0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Bc.get(this.auth._key());if(!t){try{const a=await i2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Bc.set(this.auth._key(),t)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function i2(r,t){const i=a2(t),a=s2(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function r2(r,t){Bc.set(r._key(),t)}function s2(r){return Ji(r._redirectPersistence)}function a2(r){return zc(e2,r.config.apiKey,r.name)}async function o2(r,t,i=!1){if(Yn(r.app))return Promise.reject(Ls(r));const a=Sh(r),l=z0(a,t),d=await new n2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const l2=600*1e3;class u2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!c2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!q0(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError($n(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=l2&&this.cachedEventUids.clear(),this.cachedEventUids.has(fE(t))}saveEventToCache(t){this.cachedEventUids.add(fE(t)),this.lastProcessedEventTime=Date.now()}}function fE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function q0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function c2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q0(r);default:return!1}}async function h2(r,t={}){return co(r,"GET","/v1/projects",t)}const f2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d2=/^https?/;async function m2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await h2(r);for(const i of t)try{if(g2(i))return}catch{}Ci(r,"unauthorized-domain")}function g2(r){const t=dm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!d2.test(i))return!1;if(f2.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const p2=new Kl(3e4,6e4);function dE(){const r=Ri().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function y2(r){return new Promise((t,i)=>{function a(){dE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dE(),i($n(r,"network-request-failed"))},timeout:p2.get()})}if(Ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ri().gapi?.load)a();else{const l=TC("iframefcb");return Ri()[l]=()=>{gapi.load?a():i($n(r,"network-request-failed"))},vC(`${EC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw qc=null,t})}let qc=null;function _2(r){return qc=qc||y2(r),qc}const v2=new Kl(5e3,15e3),E2="__/auth/iframe",T2="emulator/auth/iframe",A2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b2(r){const t=r.config;dt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?rg(t,T2):`https://${r.config.authDomain}/${E2}`,a={apiKey:t.apiKey,appName:r.name,v:ro},l=S2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bl(a).slice(1)}`}async function w2(r){const t=await _2(r),i=Ri().gapi;return dt(i,r,"internal-error"),t.open({where:document.body,url:b2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:A2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=$n(r,"network-request-failed"),p=Ri().setTimeout(()=>{c(d)},v2.get());function v(){Ri().clearTimeout(p),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const R2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I2=500,C2=600,D2="_blank",N2="http://localhost";class mE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function O2(r,t,i,a=I2,l=C2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...R2,width:a.toString(),height:l.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(p=T0(y)?D2:i),v0(y)&&(t=t||N2,v.scrollbars="yes");const A=Object.entries(v).reduce((O,[j,J])=>`${O}${j}=${J},`,"");if(hC(y)&&p!=="_self")return V2(t||"",p),new mE(null);const S=window.open(t||"",p,A);dt(S,r,"popup-blocked");try{S.focus()}catch{}return new mE(S)}function V2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const M2="__/auth/handler",U2="emulator/auth/handler",x2=encodeURIComponent("fac");async function gE(r,t,i,a,l,c){dt(r.config.authDomain,r,"auth-domain-config-required"),dt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:ro,eventId:l};if(t instanceof ug){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",n1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Yl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const v=await r._getAppCheckToken(),y=v?`#${x2}=${encodeURIComponent(v)}`:"";return`${L2(r)}?${Bl(p).slice(1)}${y}`}function L2({config:r}){return r.emulator?rg(r,U2):`https://${r.authDomain}/${M2}`}const jd="webStorageSupport";class P2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U0,this._completeRedirectFn=o2,this._overrideRedirectResult=r2}async _openPopup(t,i,a,l){tr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await gE(t,i,a,dm(),l);return O2(t,c,cg())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await gE(t,i,a,dm(),l);return BC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(tr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await w2(t),a=new u2(t);return i.register("authEvent",l=>(dt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(jd,{type:jd},l=>{const c=l?.[0]?.[jd];c!==void 0&&i(!!c),Ci(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=m2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return R0()||E0()||og()}}const k2=P2;var pE="@firebase/auth",yE="1.12.0";class z2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function B2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q2(r){Ya(new ks("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;dt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I0(r)},y=new yC(a,l,c,v);return SC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ya(new ks("auth-internal",t=>{const i=Sh(t.getProvider("auth").getImmediate());return(a=>new z2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(pE,yE,B2(r)),jr(pE,yE,"esm2020")}const j2=300,H2=IE("authIdTokenMaxAge")||j2;let _E=null;const G2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>H2)return;const l=i?.token;_E!==l&&(_E=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function F2(r=ME()){const t=vm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=AC(r,{popupRedirectResolver:k2,persistence:[XC,PC,U0]}),a=IE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=G2(c.toString());VC(i,d,()=>d(i.currentUser)),OC(i,p=>d(p))}}const l=wE("auth");return l&&bC(i,`http://${l}`),i}function Q2(){return document.getElementsByTagName("head")?.[0]??document}_C({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=$n("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Q2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q2("Browser");const K2={apiKey:"AIzaSyCoDdaAQ36laH4G9KQqPERkQbNqNxO_Gok",authDomain:"diary-app-cc9cd.firebaseapp.com",projectId:"diary-app-cc9cd",storageBucket:"diary-app-cc9cd.firebasestorage.app",messagingSenderId:"133868238231",appId:"1:133868238231:web:4dbcbdada1b7377a6b80d2"},j0=VE(K2),Oc=bI(j0),Hd=F2(j0),Y2=new Yi;function ah(r){return String(r).padStart(2,"0")}function Ba(){const r=new Date;return`${r.getFullYear()}-${ah(r.getMonth()+1)}-${ah(r.getDate())}`}function qa(){const r=new Date;return`${ah(r.getHours())}:${ah(r.getMinutes())}`}function vE(){return`${Ba()} ${qa()}`}function X2(){const[r,t]=Kn.useState(null),[i,a]=Kn.useState(""),[l,c]=Kn.useState([]),[d,p]=Kn.useState(null),[v,y]=Kn.useState(Ba()),[A,S]=Kn.useState(qa()),O=Kn.useRef(null);Kn.useEffect(()=>{const b=MC(Hd,w=>t(w||null));return()=>b()},[]),Kn.useEffect(()=>{if(!r){c([]);return}const b=Qv(Oc,"users",r.uid,"diaryEntries"),w=PI(b,kI("createdAt","desc")),R=GI(w,M=>{const N=M.docs.map(x=>({id:x.id,...x.data()}));c(N)});return()=>R()},[r]);const j=()=>{y(Ba()),S(qa())},J=d!==null,$=Kn.useMemo(()=>i.trim().length>0,[i]),et=b=>{const w=l.find(R=>R.id===b);w&&(p(b),a(w.text||""),y(w.date||Ba()),S(w.time||qa()),requestAnimationFrame(()=>O.current?.focus()))},ut=()=>{p(null),a(""),j()},vt=async()=>{try{await t2(Hd,Y2)}catch(b){alert(" : "+(b?.message||b))}},gt=async()=>{try{await UC(Hd)}catch(b){alert(" : "+(b?.message||b))}},zt=async b=>{if(r)try{await jI(fm(Oc,"users",r.uid,"diaryEntries",b)),d===b&&ut()}catch(w){alert(" : "+(w?.message||w))}},$t=async()=>{if(!r){alert("  Google  .");return}const b=i.trim();if(!b)return;const w=v||Ba(),R=A||qa();try{if(J){await qI(fm(Oc,"users",r.uid,"diaryEntries",d),{text:b,date:w,time:R,updatedAt:vE(),updatedAtTs:Jv()}),ut();return}await HI(Qv(Oc,"users",r.uid,"diaryEntries"),{text:b,date:w,time:R,createdAt:vE(),createdAtTs:Jv(),updatedAt:null,updatedAtTs:null}),a(""),j(),requestAnimationFrame(()=>O.current?.focus())}catch(M){alert(" : "+(M?.message||M))}},Mt=b=>{(b.ctrlKey||b.metaKey)&&b.key==="Enter"&&(b.preventDefault(),$t()),b.key==="Escape"&&J&&(b.preventDefault(),ut())};return At.jsx("div",{className:"appWrap",children:At.jsxs("div",{className:"card",children:[At.jsxs("header",{className:"top",children:[At.jsxs("div",{children:[At.jsx("div",{className:"title",children:"Daily Ink"}),At.jsx("div",{className:"subtitle",children:J?" ":" "})]}),At.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[r?At.jsxs(At.Fragment,{children:[At.jsx("div",{className:"pill",title:r.email||"",children:r.displayName||"Signed in"}),At.jsx("button",{className:"btn tiny ghost",type:"button",onClick:gt,children:""})]}):At.jsx("button",{className:"btn tiny primary",type:"button",onClick:vt,children:"Google "}),At.jsxs("div",{className:"pill",children:[l.length," ",l.length===1?"entry":"entries"]})]})]}),At.jsxs("section",{className:"composer",children:[At.jsxs("div",{className:"dtRow",children:[At.jsxs("div",{className:"dtBox",children:[At.jsx("label",{className:"dtLabel",children:""}),At.jsx("input",{className:"dtInput",type:"date",value:v,onChange:b=>y(b.target.value)})]}),At.jsxs("div",{className:"dtBox",children:[At.jsx("label",{className:"dtLabel",children:""}),At.jsx("input",{className:"dtInput",type:"time",step:"60",value:A,onChange:b=>S(b.target.value)})]})]}),At.jsx("textarea",{ref:O,value:i,onChange:b=>a(b.target.value),onKeyDown:Mt,placeholder:r?"  ":" / ",rows:6,disabled:!r}),At.jsx("div",{className:"actions",children:J?At.jsxs(At.Fragment,{children:[At.jsx("button",{className:"btn ghost",type:"button",onClick:ut,children:""}),At.jsx("button",{className:"btn primary",type:"button",onClick:$t,disabled:!$||!r,children:" "})]}):At.jsx("button",{className:"btn primary",type:"button",onClick:$t,disabled:!$||!r,children:""})})]}),At.jsx("section",{className:"list",children:r?l.length===0?At.jsx("div",{className:"empty",children:"  .   ."}):l.map(b=>At.jsxs("article",{className:"entry",children:[At.jsxs("div",{className:"entryTop",children:[At.jsxs("div",{className:"meta",children:[At.jsxs("span",{className:"stamp",children:[b.date||(b.createdAt?String(b.createdAt).slice(0,10):Ba())," ",b.time||(b.createdAt?String(b.createdAt).slice(11,16):qa())]}),b.updatedAt?At.jsxs("span",{className:"stamp sub",children:[": ",b.updatedAt]}):null]}),At.jsxs("div",{className:"entryBtns",children:[At.jsx("button",{className:"btn tiny ghost",type:"button",onClick:()=>et(b.id),children:""}),At.jsx("button",{className:"btn tiny danger",type:"button",onClick:()=>zt(b.id),children:""})]})]}),At.jsx("div",{className:"entryText",children:b.text})]},b.id)):At.jsx("div",{className:"empty",children:"Google       ."})})]})})}const J2="modulepreload",Z2=function(r){return"/diary-app/"+r},EE={},$2=function(t,i,a){let l=Promise.resolve();if(i&&i.length>0){let y=function(A){return Promise.all(A.map(S=>Promise.resolve(S).then(O=>({status:"fulfilled",value:O}),O=>({status:"rejected",reason:O}))))};var d=y;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),v=p?.nonce||p?.getAttribute("nonce");l=y(i.map(A=>{if(A=Z2(A),A in EE)return;EE[A]=!0;const S=A.endsWith(".css"),O=S?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${O}`))return;const j=document.createElement("link");if(j.rel=S?"stylesheet":J2,S||(j.as="script"),j.crossOrigin="",j.href=A,v&&j.setAttribute("nonce",v),document.head.appendChild(j),S)return new Promise((J,$)=>{j.addEventListener("load",J),j.addEventListener("error",()=>$(new Error(`Unable to preload CSS for ${A}`)))})}))}function c(p){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=p,window.dispatchEvent(v),!v.defaultPrevented)throw p}return l.then(p=>{for(const v of p||[])v.status==="rejected"&&c(v.reason);return t().catch(c)})};function W2(r={}){const{immediate:t=!1,onNeedRefresh:i,onOfflineReady:a,onRegistered:l,onRegisteredSW:c,onRegisterError:d}=r;let p,v;const y=async(S=!0)=>{await v};async function A(){if("serviceWorker"in navigator){if(p=await $2(async()=>{const{Workbox:S}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:S}},[]).then(({Workbox:S})=>new S("/diary-app/sw.js",{scope:"/diary-app/",type:"classic"})).catch(S=>{d?.(S)}),!p)return;p.addEventListener("activated",S=>{(S.isUpdate||S.isExternal)&&window.location.reload()}),p.addEventListener("installed",S=>{S.isUpdate||a?.()}),p.register({immediate:t}).then(S=>{c?c("/diary-app/sw.js",S):l?.(S)}).catch(S=>{d?.(S)})}}return v=A(),y}W2({immediate:!0});NS.createRoot(document.getElementById("root")).render(At.jsx(AS.StrictMode,{children:At.jsx(X2,{})}));
